<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Elektra: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.8.14</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about ini plugin is in keys below</li>
<li>infos/author = Felix Berlakovich <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'be'+'rla'+'ko'+'vic'+'h.'+'net'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@b<span style="display: none;">.nosp@m.</span>erlak<span style="display: none;">.nosp@m.</span>ovic<span style="display: none;">.nosp@m.</span>h.net</a></li>
<li>infos/licence = BSD</li>
<li>infos/needs =</li>
<li>infos/provides = storage</li>
<li>infos/placements = getstorage setstorage</li>
<li>infos/description = ini file backend</li>
</ul>
<p>This plugin allows read/write of INI files. INI files consist of simple key value pairs of the form "key = value". Additionally keys can be categorised into different sections. Sections must be enclosed in "[]", for example "[section]". Each section is converted into a directory key (without value) and keys below the section are located below the section key. If the same section appears multiple times, the keys of all sections with the same name are merged together under the section key.</p>
<h2>USAGE</h2>
<p>If you want to add a ini file to the global key database, simply use mount: </p><pre class="fragment">kdb mount file.ini /example ini
</pre><p>Then you can modify the contents of the ini file using set: </p><pre class="fragment">kdb set user/example/key value
kdb set user/example/section
kdb set user/example/section/key value
</pre><p>Find out which file you modified: </p><pre class="fragment">kdb file user/example
</pre><h2>SECTIONS</h2>
<p>When converting a KeySet to an INI file it is important to differentiate between regular keys and section keys. The ini plugin treats all keys with a binary NULL value as section key. Note that binary NULL is not the same as an empty value (i.e. "").</p>
<p>For example consider the following ini file: </p><pre class="fragment">                            [section1]
                            key1 =
                            key2 = value2
</pre><p>This would result in a KeySet containing three keys. The section key <code>section1</code> would be a binary key with value NULL (i.e. 0). <code>section1/key1</code> would be a regular key with value "". <code>section1/key2</code> would be a regular key with value "value2". In the other direction this requires section keys to be manually created with a binary NULL value.</p>
<p>For example consider the following KeySet: </p><pre class="fragment">                            section1 = ""
                            section1/subkey = "value1"
</pre><p>Although section1 might look like a section, it would result in the following ini file: </p><pre class="fragment">                            section1 =
                            section1\/subkey = value1
</pre><h3>AUTOSECTIONS</h3>
<p>Creating the section keys manually can be cumbersome. This is especially true because KeySets resulting in INI files usually do not contain keys with a depth greater than 1 relative to the parent key. For that reason a good guess can be made what should be sections and what not. This is done by activanting the autosections option.</p>
<p>The autosections feature can be enabled by creating a key named <code>autosections</code> in the configuration of the plugin. Note that only the existence of the key is relevant, not its value.</p>
<p>As soon as this key exists, the plugin will automatically create section keys for keys with a depth greater than 1 relative to the parent key.</p>
<p>For example consider the following ini file: </p><pre class="fragment">                            [section1]
                            key1 =
                            key2 = value2
                            [section2]
                            key3 = value3
</pre><p>Without the autosections option the following KeySet is required to create this ini file: </p><pre class="fragment">                            parent/section1 = NULL
                            parent/section1/key1 = ""
                            parent/section1/key2 = "value2"
                            parent/section2 = NULL
                            parent/section2/key3 = "value3"
</pre><p>The section keys have to be inserted manually. With the autosections option the KeySet can be reduced to the following: </p><pre class="fragment">                            parent/section1/key1 = ""
                            parent/section1/key2 = "value2"
                            parent/section2/key3 = "value3"
</pre><p>All three keys have a depth greater than 1 relative to the parent key <code>parent</code>. Therefore the key name part directly below the parent key is considered to be the section name. For example, for the keys <code>parent/section1/key1</code> and <code>parent/section1/key2</code> <code>section1</code> is considered to be the section and is automatically created in the INI file.</p>
<h2>COMMENTS</h2>
<p>The ini plugin supports the use of comments. Comment lines start with a ';' or a '#'. Adjacent comments are merged together (separated by "\n") and are put into the comment metadata of the key following the comment. This can be either a section key or a normal key.</p>
<h2>MULTILINE SUPPORT</h2>
<p>The ini plugin supports multiline ini values. Continuations of previous values have to start with whitespace characters.</p>
<p>For example consider the following ini file: </p><pre class="fragment">                            key1 = value1
                            key2 = value2
                                    with continuation
                                    lines
</pre><p>This would result in a KeySet containing two keys. One key named <code>key1</code> with the value <code>value1</code> and another key named <code>key2</code> with the value <code>value2\nwith continuation\nlines</code>.</p>
<p>By default the support for multiline values is disabled because formatting (whitespaces before keynames) may be accidentially mixed with value continuations. The multiline support can be enabled by creating a key named <code>multiline</code> in the configuration of the plugin. Note that only the existence of the key is relevant, not its value. As soon as this key exists, the plugin treats lines starting with whitespaces as continuations of the previous key value. Keep in mind, that writing multiline values is also only supported if the multiline support is turned on. Otherwise the plugin will refuse to write key values with newlines.</p>
<h2>METAKEY SUPPORT</h2>
<p>The ini plugin supports turning keys into <a class="el" href="md_doc_help_elektra-meta-data.html#doc_help_elektra-meta-data_md">metakeys</a> by adding the config key <code>meta</code>.</p>
<h2>PRESERVE ORDER</h2>
<p>If the <code>preserveorder</code> config key is set, the ini plugin preserves the original order of the file. Only use this option for editing existing key values.</p>
<h2>RESTRICTIONS</h2>
<p>Currently the plugin has the following shortcomings:</p>
<ul>
<li>formatting newlines are not restored on write</li>
<li>regardless of which comment was used originally, it is always written back as ';'</li>
</ul>
<p>The plugin is still work in progress. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
