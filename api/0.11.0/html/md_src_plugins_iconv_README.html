<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Plugin: iconv</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Plugin: iconv </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about iconv plugin is in keys below</li>
<li>infos/author = Markus Raab <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'li'+'bel'+'ek'+'tra'+'.o'+'rg'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@l<span style="display: none;">.nosp@m.</span>ibele<span style="display: none;">.nosp@m.</span>ktra<span style="display: none;">.nosp@m.</span>.org</a></li>
<li>infos/licence = BSD</li>
<li>infos/provides = conv</li>
<li>infos/needs =</li>
<li>infos/placements = postgetstorage presetstorage</li>
<li>infos/status = maintained unittest libc</li>
<li>infos/description = Converts values of keys between charsets</li>
</ul>
<h1><a class="anchor" id="src_plugins_iconv_README_md"></a>
Introduction</h1>
<p>This plugin is a filter plugin that converts between different character encodings.</p>
<h1><a class="anchor" id="autotoc_md282"></a>
Installation</h1>
<p>See <a class="el" href="doc_INSTALL_md.html">installation</a>. The package is called <code>libelektra5-extra</code>.</p>
<h1><a class="anchor" id="autotoc_md283"></a>
Purpose</h1>
<p>Consider a user insisting on a <code>latin1</code> character encoding because of some old application. All other users already use, for example, <code>UTF-8</code>. For these users, the configuration files are encoded in <code>UTF-8</code>. So we need a solution for the user with <code>latin1</code> to access the key database with proper encoding.</p>
<p>On the other hand, contemplate an XML file which requires a specific encoding. But the other key databases work well with the users encoding. So a quick fix for that backend is needed to feed that XML file with a different encoding.</p>
<p>The iconv plugin provides a solution for both scenarios. It converts between many available character encodings. With the plugin’s configuration the user can change the from and to encoding. The default values of the plugin configuration are: <code>from</code> encoding will be determined at run-time. <code>to</code> encoding is <code>UTF-8</code>.</p>
<p>Parameters:</p>
<ul>
<li><code>to</code> is per default UTF-8, to have unicode configuration files</li>
<li><code>from</code> is per default the users locale</li>
</ul>
<p>Note that for writing the configuration <code>from</code> and <code>to</code> is swapped. A key database that requires a specific encoding can make use of it. To sum up, every user can select a different encoding, but the key databases are still properly encoded for anyone.</p>
<h1><a class="anchor" id="autotoc_md284"></a>
Example</h1>
<p>For example <code>iconv/iconv.ini</code> should be <code>latin1</code>, but all users have <code>UTF-8</code> settings:</p>
<div class="fragment"><div class="line"># Mount the file `iconv/iconv.ini` using the `mini` plugin together with `iconv`</div>
<div class="line">sudo kdb mount &quot;$PWD/src/plugins/iconv/iconv/iconv.ini&quot; system:/tests/iconv mini iconv from=UTF-8,to=ISO-8859-1</div>
<div class="line"> </div>
<div class="line"># Check the file type of the mounted file</div>
<div class="line">file -b &quot;`kdb file system:/tests/iconv`&quot;</div>
<div class="line">#&gt; ISO-8859 text</div>
<div class="line"> </div>
<div class="line">kdb get system:/tests/iconv/a         # converts ISO-8859 to UTF-8</div>
<div class="line">#&gt; hellö</div>
<div class="line"> </div>
<div class="line">kdb set system:/tests/iconv/a öäß     # converts UTF-8 to ISO-8859</div>
<div class="line">kdb get system:/tests/iconv/a</div>
<div class="line">#&gt; öäß</div>
<div class="line"> </div>
<div class="line"># Cleanup</div>
<div class="line">kdb set system:/tests/iconv/a hellö</div>
<div class="line">sudo kdb umount system:/tests/iconv</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
