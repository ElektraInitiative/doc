<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Plugin: hexnumber</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.8.25</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Plugin: hexnumber </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about the hexnumber plugin is in keys below</li>
<li>infos/author = Klemens BÃ¶swirth <a href="#" onclick="location.href='mai'+'lto:'+'k.b'+'oe'+'swi'+'rt'+'h+g'+'it'+'@gm'+'ai'+'l.c'+'om'; return false;">k.boe<span style="display: none;">.nosp@m.</span>swir<span style="display: none;">.nosp@m.</span>th+gi<span style="display: none;">.nosp@m.</span>t@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a></li>
<li>infos/licence = BSD</li>
<li>infos/needs =</li>
<li>infos/provides = conv check</li>
<li>infos/recommends =</li>
<li>infos/placements = postgetstorage presetstorage</li>
<li>infos/status = maintained unittest nodep configurable</li>
<li>infos/metadata = unit/base type</li>
<li>infos/ordering = type</li>
<li>infos/description = converts hexadecimal values into decimal and back</li>
</ul>
<p>This plugin is used to read configuration files that use hexadecimal values. All "hex-values" (see below) will be converted into decimal when Elektra reads values from the mounted file. When Elektra writes back to the file the converted values will be converted back and stored as before (<code>0X</code> will be replaced with <code>0x</code>).</p>
<h3>What are "hex-values"?</h3>
<p>There are multiple ways you can signal to the hexnumber plugin, that a value should be converted:</p>
<ol type="1">
<li>If a Key has the metadata <code>unit/base</code> set to <code>hex</code> it will always be interpreted as a hex-value. The plugin will also produce an error, if the value contained in such a Key does not start with <code>0x</code> (or <code>0X</code>).</li>
<li>If <code>unit/base</code> is not present and<ul>
<li>the <code>type</code> metadata is set to one of the recognized integer-types (default: <code>byte</code>, <code>short</code>, <code>unsigned_short</code>, <code>long</code>, <code>unsigned_long</code>, <code>long_long</code>, <code>unsigned_long_long</code>)</li>
<li>AND the configuration value itself starts with <code>0x</code> (or <code>0X</code>) it will be interpreted as a hex-value.</li>
</ul>
</li>
<li>If forced conversion mode (<code>/force</code> plugin configuration, see below) is enabled all values starting with <code>0x</code> (or <code>0X</code>) are considered hex-values.</li>
</ol>
<h2>Configuration</h2>
<p>When mounting a backend with the hexnumber plugin, a few settings can be configured.</p>
<ol type="1">
<li><p class="startli">To enable forced conversion mode set <code>/force</code> to any value. In forced conversion mode the plugin tries to convert <b>ALL</b> strings starting with <code>0x</code> (or <code>0X</code>) into decimal before passing the value on to the rest of Elektra. This can be useful for importing a configuration file that uses hexadecimal values into Elektra without writing a specification for the file.</p>
<p class="startli">NOTE: be careful when using this option, as any configuration value that contains invalid non-hexadecimal characters (i.e. does not match <code>0[xX][0-9A-Fa-f]+</code>) will result in an error.</p>
</li>
</ol>
<div class="fragment"><div class="line">sudo kdb mount test.ecf /examples/hexnumber/forced hexnumber /force=1</div></div><!-- fragment --><ol type="1">
<li>The types recognized as integers can be configured. For this purpose specify all <em>additional</em> types you want to be considered for possible hexadecimal conversion as an Elektra array. All keys with a type from <code>/accept/types/#</code>, or one of the default types, will be converted to hexadecimal if the value starts with <code>0x</code> (or <code>0X</code>).</li>
</ol>
<div class="fragment"><div class="line">sudo kdb mount test.ecf /examples/hexnumber/customtypes hexnumber /accept/types/#0=customint /accept/types/#1=othercustomint</div></div><!-- fragment --><h2>Usage &amp; Example</h2>
<ul>
<li>To mount a simple backend that uses hexadecimal numbers, you can use: ``` sudo kdb mount test.ecf user/tests/hexnumber hexnumber ```</li>
<li>A few examples on how to use the plugin: ``` <h1>Example 1: read hex value</h1>
</li>
</ul>
<p>kdb set user/tests/hexnumber/hex 0x1F kdb setmeta user/tests/hexnumber/hex type long</p>
<p>kdb get user/tests/hexnumber/hex #&gt; 31</p>
<h1>Example 2: decimal value not converted</h1>
<p>kdb set user/tests/hexnumber/dec 26 kdb setmeta user/tests/hexnumber/dec type long</p>
<p>kdb get user/tests/hexnumber/dec #&gt; 26</p>
<h1>Example 3: string untouched</h1>
<p>kdb set user/tests/hexnumber/string value kdb setmeta user/tests/hexnumber/string type string</p>
<p>kdb get user/tests/hexnumber/string #&gt; value</p>
<h1>Example 4: read hex value with unit/base</h1>
<p>kdb set user/tests/hexnumber/hex2 0xF kdb setmeta user/tests/hexnumber/hex2 unit/base hex</p>
<p>kdb get user/tests/hexnumber/hex2 #&gt; 15</p>
<h1>Undo changes</h1>
<p>kdb rm -r user/tests/hexnumber ```</p>
<ul>
<li>To unmount the plugin use the following command: ``` kdb umount user/tests/hexnumber #&gt; ``` </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
