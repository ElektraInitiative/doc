<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Plugin: type</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.8.24</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Plugin: type </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about type plugin is in keys below</li>
<li>infos/author = Markus Raab <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'li'+'bel'+'ek'+'tra'+'.o'+'rg'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@l<span style="display: none;">.nosp@m.</span>ibele<span style="display: none;">.nosp@m.</span>ktra<span style="display: none;">.nosp@m.</span>.org</a></li>
<li>infos/licence = BSD</li>
<li>infos/provides = check</li>
<li>infos/needs =</li>
<li>infos/placements = presetstorage</li>
<li>infos/status = maintained nodep memleak unfinished old</li>
<li>infos/metadata = check/type type check/type/min check/type/max</li>
<li>infos/description = type checker using COBRA data types</li>
</ul>
<p>This plugin is a type checker plugin using the <code>CORBA</code> data types.</p>
<p>A common and successful type system happens to be CORBA. The system is well suited because of the many well-defined mappings it provides to other programming languages.</p>
<p>The type checker plugin supports all basic CORBA types: <code>short</code>, <code>unsigned_short</code>, <code>long</code>, <code>unsigned_long</code>, <code>long_long</code>, <code>unsigned_long_long</code>, <code>float</code>, <code>double</code>, <code>char</code>, <code>boolean</code>, <code>any</code> and <code>octet</code>. When checking <code>any</code> it will always be successful, regardless of the content.</p>
<h2>Deprecation</h2>
<p><code>empty</code> and <code>FSType</code> are deprecated. Please use regular expressions or enums instead.</p>
<p>Sometimes the type should expresses that, for example, both an empty or another type is valid. This type checker allowed a space-separated list of types to expresses that. If any of those types match, the whole type was valid. For example, the type <code>string empty</code> equals the type <code>any</code>. This facility builds a union of the sets of instances existing types specify. It is now deprecated due to a more general sum type facility.</p>
<p><code>check/type/min</code> and <code>check/type/max</code> are deprecated, please use the range plugin instead.</p>
<h2>Example</h2>
<div class="fragment"><div class="line"># Mount the plugin</div><div class="line">sudo kdb mount typetest.dump user/tests/type dump type</div><div class="line"></div><div class="line"># Store a character value</div><div class="line">kdb set user/tests/type/key a</div><div class="line"></div><div class="line"># Only allow character values</div><div class="line">kdb setmeta user/tests/type/key check/type char</div><div class="line">kdb get user/tests/type/key</div><div class="line">#&gt; a</div><div class="line"></div><div class="line"># If we store another character everything works fine</div><div class="line">kdb set user/tests/type/key b</div><div class="line">kdb get user/tests/type/key</div><div class="line">#&gt; b</div><div class="line"></div><div class="line"># If we try to store a string Elektra will not change the value</div><div class="line">kdb set user/tests/type/key &#39;Not a char&#39;</div><div class="line"># STDERR: .*Description: could not type check value of key.*</div><div class="line"># ERROR:  52</div><div class="line"># RET:    5</div><div class="line">kdb get user/tests/type/key</div><div class="line">#&gt; b</div><div class="line"></div><div class="line"># Undo modifications to the database</div><div class="line">kdb rm user/tests/type/key</div><div class="line">sudo kdb umount user/tests/type</div></div><!-- fragment --><h2>Limitations</h2>
<p><code>wchar</code> is missing.</p>
<p>Enum and records are part of other plugins.</p>
<p>The <code>CORBA</code> type system also has its limits. The types <code>string</code> and <code>enum</code> can be unsatisfactory. While string is too general and makes no limit on how the sequence of characters is structured, the enumeration is too finite. For example, it is not possible to say that a string is not allowed to have a specific symbol in it. Combine this plugin with other type checker plugins to circumvent such limitations. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
