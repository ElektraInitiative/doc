\hypertarget{group__meta}{\section{Meta Data proposal+compatibility}
\label{group__meta}\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
}


Meta data proposal+compatibility methods.  


Collaboration diagram for Meta Data proposal+compatibility\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{group__meta}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}{key\-Owner} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Return a pointer to the real internal {\ttfamily key} owner. \end{DoxyCompactList}\item 
ssize\-\_\-t \hyperlink{group__meta_ga4a4561895741ba2ad10acf007c188593}{key\-Get\-Owner\-Size} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Return the size of the owner of the Key with concluding 0. \end{DoxyCompactList}\item 
ssize\-\_\-t \hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner} (const Key $\ast$key, char $\ast$returned\-Owner, size\-\_\-t max\-Size)
\begin{DoxyCompactList}\small\item\em Return the owner of the key. \end{DoxyCompactList}\item 
ssize\-\_\-t \hyperlink{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}{key\-Set\-Owner} (Key $\ast$key, const char $\ast$new\-Owner)
\begin{DoxyCompactList}\small\item\em Set the owner of a key. \end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{group__meta_gac89fd319783b3457db45b4c09e55274a}{key\-Comment} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Return a pointer to the real internal {\ttfamily key} comment. \end{DoxyCompactList}\item 
ssize\-\_\-t \hyperlink{group__meta_ga0dd737fadc16d4cf16720d17f066a9d3}{key\-Get\-Comment\-Size} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Calculates number of bytes needed to store a key comment, including final N\-U\-L\-L. \end{DoxyCompactList}\item 
ssize\-\_\-t \hyperlink{group__meta_gafb89735689929ff717cc9f2d0d0b46a2}{key\-Get\-Comment} (const Key $\ast$key, char $\ast$returned\-Comment, size\-\_\-t max\-Size)
\begin{DoxyCompactList}\small\item\em Get the key comment. \end{DoxyCompactList}\item 
ssize\-\_\-t \hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{key\-Set\-Comment} (Key $\ast$key, const char $\ast$new\-Comment)
\begin{DoxyCompactList}\small\item\em Set a comment for a key. \end{DoxyCompactList}\item 
uid\-\_\-t \hyperlink{group__meta_gacaa5060e67b03f50ae49a3620c54bc46}{key\-Get\-U\-I\-D} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Get the user I\-D of a key. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_gab5f284f5ecd261e0a290095f50ba1af7}{key\-Set\-U\-I\-D} (Key $\ast$key, uid\-\_\-t uid)
\begin{DoxyCompactList}\small\item\em Set the user I\-D of a key. \end{DoxyCompactList}\item 
gid\-\_\-t \hyperlink{group__meta_ga46a95e81d7d7f4e3eb59e60e5f3738c0}{key\-Get\-G\-I\-D} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Get the group I\-D of a key. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_ga9e3d0fb3f7ba906e067727b9155d22e3}{key\-Set\-G\-I\-D} (Key $\ast$key, gid\-\_\-t gid)
\begin{DoxyCompactList}\small\item\em Set the group I\-D of a key. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_gaae575bd86a628a15ee45baa860522e75}{key\-Set\-Dir} (Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Set mode so that key will be recognized as directory. \end{DoxyCompactList}\item 
mode\-\_\-t \hyperlink{group__meta_gabc0cec592ce3b77e9bc33dbc8e8f6bdc}{key\-Get\-Mode} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Return the key mode permissions. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_ga8803037e35b9da1ce492323a88ff6bc3}{key\-Set\-Mode} (Key $\ast$key, mode\-\_\-t mode)
\begin{DoxyCompactList}\small\item\em Set the key mode permissions. \end{DoxyCompactList}\item 
time\-\_\-t \hyperlink{group__meta_ga6b05da399c3c78904969ef39f191b0eb}{key\-Get\-A\-Time} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Get last time the key data was read from disk. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_ga995d8b84731673c88c7c01f3fed538b9}{key\-Set\-A\-Time} (Key $\ast$key, time\-\_\-t atime)
\begin{DoxyCompactList}\small\item\em Update the atime information for a key. \end{DoxyCompactList}\item 
time\-\_\-t \hyperlink{group__meta_ga57689eb5691679071463b777ae786ae9}{key\-Get\-M\-Time} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Get last modification time of the key on disk. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_ga481d8997187992fe4bbf288bc8ef4db7}{key\-Set\-M\-Time} (Key $\ast$key, time\-\_\-t mtime)
\begin{DoxyCompactList}\small\item\em Update the mtime information for a key. \end{DoxyCompactList}\item 
time\-\_\-t \hyperlink{group__meta_ga2c213c120cbe02201278ef7fb8cd94be}{key\-Get\-C\-Time} (const Key $\ast$key)
\begin{DoxyCompactList}\small\item\em Get last time the key metadata was changed from disk. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_ga9f502ecab8ab43f0b17220fcc95f3fa5}{key\-Set\-C\-Time} (Key $\ast$key, time\-\_\-t ctime)
\begin{DoxyCompactList}\small\item\em Update the ctime information for a key. \end{DoxyCompactList}\item 
int \hyperlink{group__meta_gab8b30dfabb0867bd6899e60e7bd193a2}{elektra\-Key\-Cmp\-Order} (const Key $\ast$ka, const Key $\ast$kb)
\begin{DoxyCompactList}\small\item\em Compare the order metadata of two keys. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Meta data proposal+compatibility methods. In versions before Elektra 0.\-8 only meta data as listed here was available. Now any meta data can be added. These A\-P\-I methods are implementations of the 0.\-7 A\-P\-I using 0.\-8 meta data.

Additionally, new suggestions can be made here.

It is planned that these methods will be generated from doc/\-M\-E\-T\-A\-D\-A\-T\-A.\-ini and moved to a separate library. Currently, you should better avoid the methods and directly use \hyperlink{group__keymeta}{metainfo } instead. 

\subsection{Function Documentation}
\hypertarget{group__meta_gab8b30dfabb0867bd6899e60e7bd193a2}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!elektra\-Key\-Cmp\-Order@{elektra\-Key\-Cmp\-Order}}
\index{elektra\-Key\-Cmp\-Order@{elektra\-Key\-Cmp\-Order}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{elektra\-Key\-Cmp\-Order}]{\setlength{\rightskip}{0pt plus 5cm}int elektra\-Key\-Cmp\-Order (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{ka, }
\item[{const Key $\ast$}]{kb}
\end{DoxyParamCaption}
)}}\label{group__meta_gab8b30dfabb0867bd6899e60e7bd193a2}


Compare the order metadata of two keys. 

\begin{DoxyReturn}{Returns}
a number less than, equal to or greater than zero if the order of k1 is found, respectively, to be less than, to match, or be greater than the order of k2. If one key is N\-U\-L\-L, but the other isn't, the key which is not N\-U\-L\-L is considered to be greater. If both keys are N\-U\-L\-L, they are considered to be equal. If one key does have an order metadata but the other has not, the key with the metadata is considered greater. If no key has metadata, they are considered to be equal.
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em ka} & key to compare with \\
\hline
{\em kb} & other key to compare with \\
\hline
\end{DoxyParams}
\hypertarget{group__meta_gac89fd319783b3457db45b4c09e55274a}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Comment@{key\-Comment}}
\index{key\-Comment@{key\-Comment}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Comment}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ key\-Comment (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_gac89fd319783b3457db45b4c09e55274a}


Return a pointer to the real internal {\ttfamily key} comment. 

This is a much more efficient version of \hyperlink{group__meta_gafb89735689929ff717cc9f2d0d0b46a2}{key\-Get\-Comment()} and you should use it if you are responsible enough to not mess up things. You are not allowed to change anything in the memory region the returned pointer points to.

\hyperlink{group__meta_gac89fd319783b3457db45b4c09e55274a}{key\-Comment()} returns \char`\"{}\char`\"{} when there is no key\-Comment. The reason is 
\begin{DoxyCode}
key=\hyperlink{group__key_gad23c65b44bf48d773759e1f9a4d43b89}{keyNew}(0);
\hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{keySetComment}(key,\textcolor{stringliteral}{""});
\hyperlink{group__meta_gac89fd319783b3457db45b4c09e55274a}{keyComment}(key); \textcolor{comment}{// you would expect "" here}
\hyperlink{group__key_ga3df95bbc2494e3e6703ece5639be5bb1}{keyDel}(key);
\end{DoxyCode}


See \hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{key\-Set\-Comment()} for more information on comments.

\begin{DoxyNote}{Note}
Note that the Key structure keeps its own size field that is calculated by library internal calls, so to avoid inconsistencies, you must never use the pointer returned by \hyperlink{group__meta_gac89fd319783b3457db45b4c09e55274a}{key\-Comment()} method to set a new value. Use \hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{key\-Set\-Comment()} instead.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the internal managed comment 

\char`\"{}\char`\"{} when there is no comment 

0 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga0dd737fadc16d4cf16720d17f066a9d3}{key\-Get\-Comment\-Size()} for size and \hyperlink{group__meta_gafb89735689929ff717cc9f2d0d0b46a2}{key\-Get\-Comment()} as alternative 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga6b05da399c3c78904969ef39f191b0eb}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-A\-Time@{key\-Get\-A\-Time}}
\index{key\-Get\-A\-Time@{key\-Get\-A\-Time}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-A\-Time}]{\setlength{\rightskip}{0pt plus 5cm}time\-\_\-t key\-Get\-A\-Time (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_ga6b05da399c3c78904969ef39f191b0eb}


Get last time the key data was read from disk. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000018}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


Every \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()} might update the access time of a key. You get information when the key was read the last time from the database.

You will get 0 when the key was not read already.

Beware that multiple copies of keys with \hyperlink{group__key_gae6ec6a60cc4b8c1463fa08623d056ce3}{key\-Dup()} might have different atimes because you \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()} one, but not the other. You can use this information to decide which key is the latest.


\begin{DoxyParams}{Parameters}
{\em key} & Key to get information from. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the time you got the key with \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()} 

0 on key that was never \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()} 

(time\-\_\-t)-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga995d8b84731673c88c7c01f3fed538b9}{key\-Set\-A\-Time()} 

\hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_gafb89735689929ff717cc9f2d0d0b46a2}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-Comment@{key\-Get\-Comment}}
\index{key\-Get\-Comment@{key\-Get\-Comment}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-Comment}]{\setlength{\rightskip}{0pt plus 5cm}ssize\-\_\-t key\-Get\-Comment (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key, }
\item[{char $\ast$}]{returned\-Comment, }
\item[{size\-\_\-t}]{max\-Size}
\end{DoxyParamCaption}
)}}\label{group__meta_gafb89735689929ff717cc9f2d0d0b46a2}


Get the key comment. 

\hypertarget{group__meta_comment}{}\subsection{Comments}\label{group__meta_comment}
A Key comment is description for humans what this key is for. It may be a textual explanation of valid values, when and why a user or administrator changed the key or any other text that helps the user or administrator related to that key.

Don't depend on a comment in your program. A user is always allowed to remove or change it in any way he wants to. But you are allowed or even encouraged to always show the content of the comment to the user and allow him to change it.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
{\em returned\-Comment} & pre-\/allocated memory to copy the comments to \\
\hline
{\em max\-Size} & number of bytes that will fit returned\-Comment \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of bytes actually copied to {\ttfamily returned\-String}, including final N\-U\-L\-L 

1 if the string is empty 

-\/1 on N\-U\-L\-L pointer 

-\/1 if max\-Size is 0, not enough to store the comment or when larger then S\-S\-I\-Z\-E\-\_\-\-M\-A\-X 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga0dd737fadc16d4cf16720d17f066a9d3}{key\-Get\-Comment\-Size()}, \hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{key\-Set\-Comment()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga0dd737fadc16d4cf16720d17f066a9d3}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-Comment\-Size@{key\-Get\-Comment\-Size}}
\index{key\-Get\-Comment\-Size@{key\-Get\-Comment\-Size}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-Comment\-Size}]{\setlength{\rightskip}{0pt plus 5cm}ssize\-\_\-t key\-Get\-Comment\-Size (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_ga0dd737fadc16d4cf16720d17f066a9d3}


Calculates number of bytes needed to store a key comment, including final N\-U\-L\-L. 

Use this method to know to size for allocated memory to retrieve a key comment.

See \hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{key\-Set\-Comment()} for more information on comments.

For an empty key name you need one byte to store the ending N\-U\-L\-L. For that reason 1 is returned.


\begin{DoxyCode}
\textcolor{keywordtype}{char} *buffer;
buffer = malloc (\hyperlink{group__meta_ga0dd737fadc16d4cf16720d17f066a9d3}{keyGetCommentSize} (key));
\textcolor{comment}{// use this buffer to store the comment}
\textcolor{comment}{// pass keyGetCommentSize (key) for maxSize}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of bytes needed 

1 if there is no comment 

-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_gafb89735689929ff717cc9f2d0d0b46a2}{key\-Get\-Comment()}, \hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{key\-Set\-Comment()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga2c213c120cbe02201278ef7fb8cd94be}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-C\-Time@{key\-Get\-C\-Time}}
\index{key\-Get\-C\-Time@{key\-Get\-C\-Time}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-C\-Time}]{\setlength{\rightskip}{0pt plus 5cm}time\-\_\-t key\-Get\-C\-Time (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_ga2c213c120cbe02201278ef7fb8cd94be}


Get last time the key metadata was changed from disk. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000022}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


You will get 0 when the key was not read already.

Any changed field in metadata will influence the ctime of a key.

This time is not updated if only value or comment are changed.

Not changed keys will not update this time, even after \hyperlink{group__kdb_ga11436b058408f83d303ca5e996832bcf}{kdb\-Set()}.

It is possible that other keys written to disc influence this time if the backend is not grained enough.


\begin{DoxyParams}{Parameters}
{\em key} & Key to get information from. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga9f502ecab8ab43f0b17220fcc95f3fa5}{key\-Set\-C\-Time()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
(time\-\_\-t)-\/1 on N\-U\-L\-L pointer 

the metadata change time 
\end{DoxyReturn}
\hypertarget{group__meta_ga46a95e81d7d7f4e3eb59e60e5f3738c0}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-G\-I\-D@{key\-Get\-G\-I\-D}}
\index{key\-Get\-G\-I\-D@{key\-Get\-G\-I\-D}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-G\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}gid\-\_\-t key\-Get\-G\-I\-D (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_ga46a95e81d7d7f4e3eb59e60e5f3738c0}


Get the group I\-D of a key. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000013}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}
\hypertarget{group__meta_GID}{}\subsection{G\-I\-D}\label{group__meta_GID}
The group I\-D is a unique identification for every group present on a system. Keys will belong to root (0) as long as you did not get their real G\-I\-D with \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()}.

Unlike U\-I\-D users might change their group. This makes it possible to share configuration between some users.

A fresh key will have (gid\-\_\-t)-\/1 also known as the group nogroup. It means that the key is not related to a group I\-D at the moment.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the system's G\-I\-D of the key 

(gid\-\_\-t)-\/1 on N\-U\-L\-L key or currently unknown I\-D 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga9e3d0fb3f7ba906e067727b9155d22e3}{key\-Set\-G\-I\-D()}, \hyperlink{group__meta_gacaa5060e67b03f50ae49a3620c54bc46}{key\-Get\-U\-I\-D()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_gabc0cec592ce3b77e9bc33dbc8e8f6bdc}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-Mode@{key\-Get\-Mode}}
\index{key\-Get\-Mode@{key\-Get\-Mode}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}mode\-\_\-t key\-Get\-Mode (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_gabc0cec592ce3b77e9bc33dbc8e8f6bdc}


Return the key mode permissions. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000016}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


Default is 0664 (octal) for keys and 0775 for directory keys which used \hyperlink{group__meta_gaae575bd86a628a15ee45baa860522e75}{key\-Set\-Dir()}.

The defaults are defined with the macros K\-D\-B\-\_\-\-F\-I\-L\-E\-\_\-\-M\-O\-D\-E and K\-D\-B\-\_\-\-D\-I\-R\-\_\-\-M\-O\-D\-E.

For more information about the mode permissions see \hyperlink{group__meta_mode}{Modes}.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mode permissions of the key 

K\-D\-B\-\_\-\-F\-I\-L\-E\-\_\-\-M\-O\-D\-E as defaults 

(mode\-\_\-t)-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga8803037e35b9da1ce492323a88ff6bc3}{key\-Set\-Mode()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga57689eb5691679071463b777ae786ae9}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-M\-Time@{key\-Get\-M\-Time}}
\index{key\-Get\-M\-Time@{key\-Get\-M\-Time}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-M\-Time}]{\setlength{\rightskip}{0pt plus 5cm}time\-\_\-t key\-Get\-M\-Time (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_ga57689eb5691679071463b777ae786ae9}


Get last modification time of the key on disk. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000020}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


You will get 0 when the key was not read already.

Everytime you change value or comment and \hyperlink{group__kdb_ga11436b058408f83d303ca5e996832bcf}{kdb\-Set()} the key the mtime will be updated. When you \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()} the key, the atime is set appropriate.

Not changed keys may not even passed to kdb\-Set\-\_\-backend() so it will not update this time, even after \hyperlink{group__kdb_ga11436b058408f83d303ca5e996832bcf}{kdb\-Set()}.

It is possible that other keys written to disc influence this time if the backend is not grained enough.

If you add or remove a key the key thereunder in the hierarchy will update the mtime if written with \hyperlink{group__kdb_ga11436b058408f83d303ca5e996832bcf}{kdb\-Set()} to disc.


\begin{DoxyParams}{Parameters}
{\em key} & Key to get information from. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga481d8997187992fe4bbf288bc8ef4db7}{key\-Set\-M\-Time()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
the last modification time 

(time\-\_\-t)-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\hypertarget{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-Owner@{key\-Get\-Owner}}
\index{key\-Get\-Owner@{key\-Get\-Owner}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-Owner}]{\setlength{\rightskip}{0pt plus 5cm}ssize\-\_\-t key\-Get\-Owner (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key, }
\item[{char $\ast$}]{returned\-Owner, }
\item[{size\-\_\-t}]{max\-Size}
\end{DoxyParamCaption}
)}}\label{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}


Return the owner of the key. 


\begin{DoxyItemize}
\item Given {\ttfamily user\-:someuser/}..... return {\ttfamily someuser} 
\item Given {\ttfamily user\-:some.\-user/}.... return {\ttfamily some.\-user} 
\item Given {\ttfamily user/}.... return the current user
\end{DoxyItemize}

Only {\ttfamily user/}... keys have a owner. For {\ttfamily system/}... keys (that doesn't have a key owner) an empty string (\char`\"{}\char`\"{}) is returned.

Although usually the same, the owner of a key is not related to its U\-I\-D. Owner are related to W\-H\-E\-R\-E the key is stored on disk, while U\-I\-Ds are related to mode controls of a key.


\begin{DoxyParams}{Parameters}
{\em key} & the object to work with \\
\hline
{\em returned\-Owner} & a pre-\/allocated space to store the owner \\
\hline
{\em max\-Size} & maximum number of bytes that fit returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of bytes written to buffer 

1 if there is no owner 

-\/1 on N\-U\-L\-L pointers 

-\/1 when max\-Size is 0, larger than S\-S\-I\-Z\-E\-\_\-\-M\-A\-X or too small for ownername 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__keyname_ga7699091610e7f3f43d2949514a4b35d9}{key\-Set\-Name()}, \hyperlink{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}{key\-Set\-Owner()}, \hyperlink{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}{key\-Owner()}, \hyperlink{group__keyname_gaaba1494a5ffc976e0e56c43f4334a23c}{key\-Get\-Full\-Name()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga4a4561895741ba2ad10acf007c188593}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-Owner\-Size@{key\-Get\-Owner\-Size}}
\index{key\-Get\-Owner\-Size@{key\-Get\-Owner\-Size}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-Owner\-Size}]{\setlength{\rightskip}{0pt plus 5cm}ssize\-\_\-t key\-Get\-Owner\-Size (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_ga4a4561895741ba2ad10acf007c188593}


Return the size of the owner of the Key with concluding 0. 

The returned number can be used to allocate a string. 1 will returned on an empty owner to store the concluding 0 on using \hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()}.


\begin{DoxyCode}
\textcolor{keywordtype}{char} * buffer;
buffer = malloc (\hyperlink{group__meta_ga4a4561895741ba2ad10acf007c188593}{keyGetOwnerSize} (key));
\textcolor{comment}{// use buffer and keyGetOwnerSize (key) for maxSize}
\end{DoxyCode}


\begin{DoxyNote}{Note}
that -\/1 might be returned on null pointer, so when you directly allocate afterwards its best to check if you will pass a null pointer before.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of bytes 

1 if there is no owner 

-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_gacaa5060e67b03f50ae49a3620c54bc46}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Get\-U\-I\-D@{key\-Get\-U\-I\-D}}
\index{key\-Get\-U\-I\-D@{key\-Get\-U\-I\-D}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Get\-U\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}uid\-\_\-t key\-Get\-U\-I\-D (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_gacaa5060e67b03f50ae49a3620c54bc46}


Get the user I\-D of a key. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000011}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}
\hypertarget{group__meta_UID}{}\subsection{U\-I\-D}\label{group__meta_UID}
The user I\-D is a unique identification for every user present on a system. Keys will belong to root (0) as long as you did not get their real U\-I\-D with \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()}.

Although usually the same, the U\-I\-D of a key is not related to its owner.

A fresh key will have no U\-I\-D.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the system's U\-I\-D of the key 

(uid\-\_\-t)-\/1 on N\-U\-L\-L key 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga46a95e81d7d7f4e3eb59e60e5f3738c0}{key\-Get\-G\-I\-D()}, \hyperlink{group__meta_gab5f284f5ecd261e0a290095f50ba1af7}{key\-Set\-U\-I\-D()}, \hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Owner@{key\-Owner}}
\index{key\-Owner@{key\-Owner}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Owner}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ key\-Owner (
\begin{DoxyParamCaption}
\item[{const Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}


Return a pointer to the real internal {\ttfamily key} owner. 

This is a much more efficient version of \hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()} and you should use it if you are responsible enough to not mess up things. You are not allowed to modify the returned string in any way. If you need a copy of the string, consider to use \hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()} instead.

\hyperlink{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}{key\-Owner()} returns \char`\"{}\char`\"{} when there is no key\-Owner. The reason is 
\begin{DoxyCode}
key=\hyperlink{group__key_gad23c65b44bf48d773759e1f9a4d43b89}{keyNew}(0);
\hyperlink{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}{keySetOwner}(key,\textcolor{stringliteral}{""});
\hyperlink{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}{keyOwner}(key); \textcolor{comment}{// you would expect "" here}
\hyperlink{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}{keySetOwner}(key,\textcolor{stringliteral}{"system"});
\hyperlink{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}{keyOwner}(key); \textcolor{comment}{// you would expect "" here}
\end{DoxyCode}


\begin{DoxyNote}{Note}
Note that the Key structure keeps its own size field that is calculated by library internal calls, so to avoid inconsistencies, you must never use the pointer returned by \hyperlink{group__meta_gaf6485fb8599714b6bbd830cf915ffea5}{key\-Owner()} method to set a new value. Use \hyperlink{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}{key\-Set\-Owner()} instead.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to internal owner 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em \char`\"{}\char`\"{}} & when there is no (a empty) owner \\
\hline
{\em 0} & iff key is a N\-U\-L\-L pointer \\
\hline
\end{DoxyRetVals}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga4a4561895741ba2ad10acf007c188593}{key\-Get\-Owner\-Size()} for the size of the string with concluding 0 

\hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()}, \hyperlink{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}{key\-Set\-Owner()} 

\hyperlink{group__keyname_ga8e805c726a60da921d3736cda7813513}{key\-Name()} for name without owner 

\hyperlink{group__keyname_gaaba1494a5ffc976e0e56c43f4334a23c}{key\-Get\-Full\-Name()} for name with owner 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga995d8b84731673c88c7c01f3fed538b9}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-A\-Time@{key\-Set\-A\-Time}}
\index{key\-Set\-A\-Time@{key\-Set\-A\-Time}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-A\-Time}]{\setlength{\rightskip}{0pt plus 5cm}int key\-Set\-A\-Time (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{time\-\_\-t}]{atime}
\end{DoxyParamCaption}
)}}\label{group__meta_ga995d8b84731673c88c7c01f3fed538b9}


Update the atime information for a key. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000019}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


When you do manual sync of keys you might also update the atime to make them indistinguishable.

It can also be useful if you work with keys not using a keydatabase.


\begin{DoxyParams}{Parameters}
{\em key} & The Key object to work with \\
\hline
{\em atime} & The new access time for the key \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success 

-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga6b05da399c3c78904969ef39f191b0eb}{key\-Get\-A\-Time()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-Comment@{key\-Set\-Comment}}
\index{key\-Set\-Comment@{key\-Set\-Comment}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-Comment}]{\setlength{\rightskip}{0pt plus 5cm}ssize\-\_\-t key\-Set\-Comment (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{const char $\ast$}]{new\-Comment}
\end{DoxyParamCaption}
)}}\label{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}


Set a comment for a key. 

A key comment is like a configuration file comment. See \hyperlink{group__meta_ga8863a877a84fa46e6017fe72e49b89c1}{key\-Set\-Comment()} for more information.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
{\em new\-Comment} & the comment, that can be freed after this call. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of bytes actually saved including final N\-U\-L\-L 

0 when the comment was freed (new\-Comment N\-U\-L\-L or empty string) 

-\/1 on N\-U\-L\-L pointer or memory problems 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_gafb89735689929ff717cc9f2d0d0b46a2}{key\-Get\-Comment()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga9f502ecab8ab43f0b17220fcc95f3fa5}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-C\-Time@{key\-Set\-C\-Time}}
\index{key\-Set\-C\-Time@{key\-Set\-C\-Time}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-C\-Time}]{\setlength{\rightskip}{0pt plus 5cm}int key\-Set\-C\-Time (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{time\-\_\-t}]{ctime}
\end{DoxyParamCaption}
)}}\label{group__meta_ga9f502ecab8ab43f0b17220fcc95f3fa5}


Update the ctime information for a key. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000023}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}



\begin{DoxyParams}{Parameters}
{\em key} & The Key object to work with \\
\hline
{\em ctime} & The new change metadata time for the key \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success 

-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga2c213c120cbe02201278ef7fb8cd94be}{key\-Get\-C\-Time()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_gaae575bd86a628a15ee45baa860522e75}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-Dir@{key\-Set\-Dir}}
\index{key\-Set\-Dir@{key\-Set\-Dir}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-Dir}]{\setlength{\rightskip}{0pt plus 5cm}int key\-Set\-Dir (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__meta_gaae575bd86a628a15ee45baa860522e75}


Set mode so that key will be recognized as directory. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000015}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


The function will add all executable bits.


\begin{DoxyItemize}
\item Mode 0200 will be translated to 0311
\item Mode 0400 will be translated to 0711
\item Mode 0664 will be translated to 0775
\end{DoxyItemize}

The macro K\-D\-B\-\_\-\-D\-I\-R\-\_\-\-M\-O\-D\-E (defined to 0111) will be used for that.

The executable bits show that child keys are allowed and listable. There is no way to have child keys which are not listable for anyone, but it is possible to restrict listing the keys to the owner only.


\begin{DoxyItemize}
\item Mode 0000 means that it is a key not read or writable to anyone.
\item Mode 0111 means that it is a directory not read or writable to anyone. But it is recognized as directory to anyone.
\end{DoxyItemize}

For more about mode see \hyperlink{group__meta_ga8803037e35b9da1ce492323a88ff6bc3}{key\-Set\-Mode()}.

It is not possible to access keys below a not executable key. If a key is not writeable and executable \hyperlink{group__kdb_ga11436b058408f83d303ca5e996832bcf}{kdb\-Set()} will fail to access the keys below. If a key is not readable and executable \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()} will fail to access the keys below.


\begin{DoxyParams}{Parameters}
{\em key} & the key to set permissions to be recognized as directory. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success 

-\/1 on N\-U\-L\-L pointer 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga8803037e35b9da1ce492323a88ff6bc3}{key\-Set\-Mode()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga9e3d0fb3f7ba906e067727b9155d22e3}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-G\-I\-D@{key\-Set\-G\-I\-D}}
\index{key\-Set\-G\-I\-D@{key\-Set\-G\-I\-D}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-G\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}int key\-Set\-G\-I\-D (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{gid\-\_\-t}]{gid}
\end{DoxyParamCaption}
)}}\label{group__meta_ga9e3d0fb3f7ba906e067727b9155d22e3}


Set the group I\-D of a key. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000014}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


See \hyperlink{group__meta_GID}{G\-I\-D} for more information about group I\-Ds.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
{\em gid} & is the group I\-D \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success 

-\/1 on N\-U\-L\-L key 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga46a95e81d7d7f4e3eb59e60e5f3738c0}{key\-Get\-G\-I\-D()}, \hyperlink{group__meta_gab5f284f5ecd261e0a290095f50ba1af7}{key\-Set\-U\-I\-D()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga8803037e35b9da1ce492323a88ff6bc3}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-Mode@{key\-Set\-Mode}}
\index{key\-Set\-Mode@{key\-Set\-Mode}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}int key\-Set\-Mode (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{mode\-\_\-t}]{mode}
\end{DoxyParamCaption}
)}}\label{group__meta_ga8803037e35b9da1ce492323a88ff6bc3}


Set the key mode permissions. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000017}{Deprecated}]This A\-P\-I is obsolete. It is only a mapping to key\-Set\-Meta(key, \char`\"{}mode\char`\"{}, str) which should be prefered.\end{DoxyRefDesc}


The mode consists of 9 individual bits for mode permissions. In the following explanation the octal notation with leading zero will be used.

Default is 0664 (octal) for keys and 0775 for directory keys which used \hyperlink{group__meta_gaae575bd86a628a15ee45baa860522e75}{key\-Set\-Dir()}.

The defaults are defined with the macros K\-D\-B\-\_\-\-F\-I\-L\-E\-\_\-\-M\-O\-D\-E and K\-D\-B\-\_\-\-D\-I\-R\-\_\-\-M\-O\-D\-E.

\begin{DoxyNote}{Note}
libelektra 0.\-7.\-0 only allows 0775 (directory keys) and 0664 (other keys). More will be added later in a sense of the description below.
\end{DoxyNote}
\hypertarget{group__meta_mode}{}\subsection{Modes}\label{group__meta_mode}
0000 is the most restrictive mode. No user might read, write or execute the key.

Reading the key means to get the value by \hyperlink{group__kdb_ga28e385fd9cb7ccfe0b2f1ed2f62453a1}{kdb\-Get()}.

Writing the key means to set the value by \hyperlink{group__kdb_ga11436b058408f83d303ca5e996832bcf}{kdb\-Set()}.

Execute the key means to make a step deeper in the hierarchy. But you must be able to read the key to be able to list the keys below. See also \hyperlink{group__meta_gaae575bd86a628a15ee45baa860522e75}{key\-Set\-Dir()} in that context. But you must be able to write the key to be able to add or remove keys below.

0777 is the most relaxing mode. Every user is allowed to read, write and execute the key, if he is allowed to execute and read all keys below.

0700 allows every action for the current user, identified by the uid. See \hyperlink{group__meta_gacaa5060e67b03f50ae49a3620c54bc46}{key\-Get\-U\-I\-D()} and \hyperlink{group__meta_gab5f284f5ecd261e0a290095f50ba1af7}{key\-Set\-U\-I\-D()}.

To be more specific for the user the single bits can elect the mode for read, write and execute. 0100 only allows executing which gives the information that it is a directory for that user, but not accessable. 0200 only allows reading. This information may be combined to 0300, which allows execute and reading of the directory. Last 0400 decides about the writing permissions.

The same as above is also valid for the 2 other octal digits. 0070 decides about the group permissions, in that case full access. Groups are identified by the gid. See \hyperlink{group__meta_ga46a95e81d7d7f4e3eb59e60e5f3738c0}{key\-Get\-G\-I\-D()} and \hyperlink{group__meta_ga9e3d0fb3f7ba906e067727b9155d22e3}{key\-Set\-G\-I\-D()}. In that example everyone with a different uid, but the gid of the the key, has full access.

0007 decides about the world permissions. This is taken into account when neighter the uid nor the gid matches. So that example would allow everyone with a different uid and gid of that key gains full access.


\begin{DoxyParams}{Parameters}
{\em key} & the key to set mode permissions \\
\hline
{\em mode} & the mode permissions \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success 

-\/1 on N\-U\-L\-L key 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_gabc0cec592ce3b77e9bc33dbc8e8f6bdc}{key\-Get\-Mode()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga481d8997187992fe4bbf288bc8ef4db7}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-M\-Time@{key\-Set\-M\-Time}}
\index{key\-Set\-M\-Time@{key\-Set\-M\-Time}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-M\-Time}]{\setlength{\rightskip}{0pt plus 5cm}int key\-Set\-M\-Time (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{time\-\_\-t}]{mtime}
\end{DoxyParamCaption}
)}}\label{group__meta_ga481d8997187992fe4bbf288bc8ef4db7}


Update the mtime information for a key. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000021}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}



\begin{DoxyParams}{Parameters}
{\em key} & The Key object to work with \\
\hline
{\em mtime} & The new modification time for the key \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga57689eb5691679071463b777ae786ae9}{key\-Get\-M\-Time()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-Owner@{key\-Set\-Owner}}
\index{key\-Set\-Owner@{key\-Set\-Owner}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-Owner}]{\setlength{\rightskip}{0pt plus 5cm}ssize\-\_\-t key\-Set\-Owner (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{const char $\ast$}]{new\-Owner}
\end{DoxyParamCaption}
)}}\label{group__meta_ga88d6ec200ba0707b7c1b4a88133d2be4}


Set the owner of a key. 

A owner is a name of a system user related to a U\-I\-D. The owner decides on which location on the disc the key goes.

A private copy is stored, so the passed parameter can be freed after the call.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
{\em new\-Owner} & the string which describes the owner of the key \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of bytes actually saved including final N\-U\-L\-L 

1 when owner is freed (by setting 0 or \char`\"{}\char`\"{}) 

-\/1 on null pointer or memory problems 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__keyname_ga7699091610e7f3f43d2949514a4b35d9}{key\-Set\-Name()}, \hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()}, \hyperlink{group__keyname_gaaba1494a5ffc976e0e56c43f4334a23c}{key\-Get\-Full\-Name()} 
\end{DoxySeeAlso}
\hypertarget{group__meta_gab5f284f5ecd261e0a290095f50ba1af7}{\index{Meta Data proposal+compatibility@{Meta Data proposal+compatibility}!key\-Set\-U\-I\-D@{key\-Set\-U\-I\-D}}
\index{key\-Set\-U\-I\-D@{key\-Set\-U\-I\-D}!Meta Data proposal+compatibility@{Meta Data proposal+compatibility}}
\subsubsection[{key\-Set\-U\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}int key\-Set\-U\-I\-D (
\begin{DoxyParamCaption}
\item[{Key $\ast$}]{key, }
\item[{uid\-\_\-t}]{uid}
\end{DoxyParamCaption}
)}}\label{group__meta_gab5f284f5ecd261e0a290095f50ba1af7}


Set the user I\-D of a key. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000012}{Deprecated}]This A\-P\-I is obsolete.\end{DoxyRefDesc}


See \hyperlink{group__meta_UID}{U\-I\-D} for more information about user I\-Ds.


\begin{DoxyParams}{Parameters}
{\em key} & the key object to work with \\
\hline
{\em uid} & the user I\-D to set \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success 

-\/1 on N\-U\-L\-L key or conversion error 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__meta_ga9e3d0fb3f7ba906e067727b9155d22e3}{key\-Set\-G\-I\-D()}, \hyperlink{group__meta_gacaa5060e67b03f50ae49a3620c54bc46}{key\-Get\-U\-I\-D()}, \hyperlink{group__meta_ga35922a017bee8b4bcb493bbdfad9d6f5}{key\-Get\-Owner()} 
\end{DoxySeeAlso}
