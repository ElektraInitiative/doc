<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Elektra: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.8.14</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about crypto plugin is in keys below</li>
<li>infos/author = Peter Nirschl <a href="#" onclick="location.href='mai'+'lto:'+'pet'+'er'+'.ni'+'rs'+'chl'+'@g'+'mai'+'l.'+'com'; return false;">peter<span style="display: none;">.nosp@m.</span>.nir<span style="display: none;">.nosp@m.</span>schl@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a></li>
<li>infos/licence = BSD</li>
<li>infos/needs =</li>
<li>infos/provides = filefilter</li>
<li>infos/placements = postgetstorage presetstorage</li>
<li>infos/description = Cryptographic operations</li>
</ul>
<p>This plugin is a filter plugin allowing Elektra to encrypt values before they are persisted and to decrypt values after they have been read from a backend.</p>
<p>The idea is to provide protection of sensible values before they are persisted. This means the value of a key needs to be encrypted before it is written to a file or a database. It also needs to be decrypted whenever an admissible access (read) is being performed.</p>
<p>The users of Elektra should not be bothered too much with the internals of the cryptographic operations. Also the cryptographic keys must never be exposed to the outside of the crypto module.</p>
<h2>Dependencies</h2>
<ul>
<li><code>libgcrypt20-dev</code> or <code>libgcrypt-devel</code></li>
</ul>
<h2>Restrictions</h2>
<p>The crypto plugin will encrypt and decrypt values using AES-256 in CBC mode.</p>
<p>The key derivation is still WIP.</p>
<h3>Planned Features</h3>
<ul>
<li>Encryption of values</li>
<li>Decryption of values</li>
<li>Key derivation by metadata (password provided within a meta-key)</li>
<li>Key derivation by using a specified key-file (like the SSH client does)</li>
<li>Key derivation by utilizing the pgp-agent</li>
</ul>
<p>The encryption and decryption of values is a straight forward process, once the key and IV are supplied. The key-derivation process in a library is a bit tricky.</p>
<p>The crypto plugin itself can hold configuration data about the order of the applied key derivation functions. For example, if a password is provided by a meta-key, it will be used, otherwise we look for a key file. If no key file has been configured, we try to trigger the PGP agent, etc.</p>
<p>The following example configuration illustrates this concept: </p><pre class="fragment">    system/elektra/crypto/config/key-derivation/#0 = meta
    system/elektra/crypto/config/key-derivation/#1 = file
    system/elektra/crypto/config/key-derivation/#2 = agent
    system/elektra/crypto/config/key-file/path/#0 = ~/.elektra/id_aes
    system/elektra/crypto/config/key-file/path/#1 = /etc/elektra/id_aes
</pre><p>Only keys marked with a certain meta-key will be considered for encryption/decryption.</p>
<h2>Examples</h2>
<h3>Metadata based encyption</h3>
<p>You specify the parameters of the cryptographic operations in a KeySet together with the keys to be encrypted. The following parameters are required:</p>
<ul>
<li><b>Key</b> - the symmetric cryptographic key for encryption</li>
<li><b>IV</b> - the initialization vector (IV) that is required by the CBC mode</li>
</ul>
<p>The following keys are required for metadata based encryption: </p><pre class="fragment">    /elektra/modules/crypto/key-derivation/key
    /elektra/modules/crypto/key-derivation/iv
</pre><p>You can use the following meta-key to mark a key for encryption: </p><pre class="fragment">    crypto/encrypt
</pre><p>If this meta-key has a value with a string-length greater than 0 (<code>strlen() &gt; 0</code>) then the crypto-plugin will try to encrypt it. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
