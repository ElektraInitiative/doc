<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: DESIGN</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DESIGN </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_DESIGN"></a> This document describes the design of Elektra's C-API and provides hints for binding writers. It is not aimed at plugin writers, since it does not talk about the implementation details of Elektra.</p>
<p>Elektra <a class="el" href="doc_GOALS_md.html">aims</a> at following design principles:</p>
<ol type="1">
<li>To make the API futureproof so that it can remain compatible and stable over a long period of time,</li>
<li>to make it hard to use the API the wrong way by making it simple&amp;robust, and</li>
<li>to make the API easy to use for programmers reading and writing configuration.</li>
</ol>
<p>The C-API is suitable to be reimplemented, also in non-C-languages, like Rust. Elektra provides a full blown architecture to support configuring systems, and the C-API is the core of this endeavour.</p>
<h1><a class="anchor" id="autotoc_md2077"></a>
Data Structures</h1>
<p>The <code>Key</code>, <code>KeySet</code> and <code>KDB</code> data structures are defined in <code><a class="el" href="kdbprivate_8h.html" title="Private declarations.">kdbprivate.h</a></code> to allow ABI compatibility. This means, it is not possible to put one of Elektra’s data structures on the stack. You must use the memory management facilities mentioned in the next section.</p>
<h1><a class="anchor" id="autotoc_md2078"></a>
Memory Management</h1>
<p>Elektra provides functions that create and free data. For example after you call:</p>
<div class="fragment"><div class="line">KDB * <a class="code" href="group__kdb.html#ga844e1299a84c3fbf1d3a905c5c893ba5">kdbOpen</a>();</div>
<div class="ttc" id="agroup__kdb_html_ga844e1299a84c3fbf1d3a905c5c893ba5"><div class="ttname"><a href="group__kdb.html#ga844e1299a84c3fbf1d3a905c5c893ba5">kdbOpen</a></div><div class="ttdeci">KDB * kdbOpen(const KeySet *contract, Key *errorKey)</div><div class="ttdoc">Opens the session with the Key database.</div><div class="ttdef"><b>Definition:</b> kdb.c:417</div></div>
</div><!-- fragment --><p>you need to use:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__kdb.html#gadb54dc9fda17ee07deb9444df745c96f">kdbClose</a>(KDB *handle);</div>
<div class="ttc" id="agroup__kdb_html_gadb54dc9fda17ee07deb9444df745c96f"><div class="ttname"><a href="group__kdb.html#gadb54dc9fda17ee07deb9444df745c96f">kdbClose</a></div><div class="ttdeci">int kdbClose(KDB *handle, Key *errorKey)</div><div class="ttdoc">Closes the session with the Key database.</div><div class="ttdef"><b>Definition:</b> kdb.c:590</div></div>
</div><!-- fragment --><p>to get rid of the resources again. The second function may also shut down connections. Therefore it must be called before the end of a program.</p>
<div class="fragment"><div class="line">Key *<a class="code" href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__keyname.html#ga8e805c726a60da921d3736cda7813513">keyName</a>, ...);</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="group__key.html#ga3df95bbc2494e3e6703ece5639be5bb1">keyDel</a>(Key *key);</div>
<div class="line"> </div>
<div class="line">KeySet *<a class="code" href="group__keyset.html#ga671e1aaee3ae9dc13b4834a4ddbd2c3c">ksNew</a>(<span class="keywordtype">int</span> alloc, ...);</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="group__keyset.html#ga27e5c16473b02a422238c8d970db7ac8">ksDel</a>(KeySet *ks);</div>
<div class="ttc" id="agroup__key_html_ga3df95bbc2494e3e6703ece5639be5bb1"><div class="ttname"><a href="group__key.html#ga3df95bbc2494e3e6703ece5639be5bb1">keyDel</a></div><div class="ttdeci">int keyDel(Key *key)</div><div class="ttdoc">A destructor for Key objects.</div><div class="ttdef"><b>Definition:</b> key.c:509</div></div>
<div class="ttc" id="agroup__key_html_gad23c65b44bf48d773759e1f9a4d43b89"><div class="ttname"><a href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a></div><div class="ttdeci">Key * keyNew(const char *name,...)</div><div class="ttdoc">A practical way to fully create a Key object in one step.</div><div class="ttdef"><b>Definition:</b> key.c:150</div></div>
<div class="ttc" id="agroup__keyname_html_ga8e805c726a60da921d3736cda7813513"><div class="ttname"><a href="group__keyname.html#ga8e805c726a60da921d3736cda7813513">keyName</a></div><div class="ttdeci">const char * keyName(const Key *key)</div><div class="ttdoc">Returns a pointer to the abbreviated real internal key name.</div><div class="ttdef"><b>Definition:</b> elektra/keyname.c:254</div></div>
<div class="ttc" id="agroup__keyset_html_ga27e5c16473b02a422238c8d970db7ac8"><div class="ttname"><a href="group__keyset.html#ga27e5c16473b02a422238c8d970db7ac8">ksDel</a></div><div class="ttdeci">int ksDel(KeySet *ks)</div><div class="ttdoc">A destructor for KeySet objects.</div><div class="ttdef"><b>Definition:</b> keyset.c:451</div></div>
<div class="ttc" id="agroup__keyset_html_ga671e1aaee3ae9dc13b4834a4ddbd2c3c"><div class="ttname"><a href="group__keyset.html#ga671e1aaee3ae9dc13b4834a4ddbd2c3c">ksNew</a></div><div class="ttdeci">KeySet * ksNew(size_t alloc,...)</div><div class="ttdoc">Allocate, initialize and return a new KeySet object.</div><div class="ttdef"><b>Definition:</b> keyset.c:229</div></div>
</div><!-- fragment --><p>In the above pairs, the first function reserves the necessary amount of memory. The second function frees the allocated data segment. There are more allocations happening but they are invisible to the user of the API and happen implicitly within any of these 3 classes: <code>KDB</code>, <code>Key</code> and <code>KeySet</code>.</p>
<p>Key names and values cannot be handled as easy, because Elektra does not provide a string library. There are 2 ways to access the mentioned attributes. The function</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__keyvalue.html#ga880936f2481d28e6e2acbe7486a21d05">keyString</a>(<span class="keyword">const</span> Key *key);</div>
<div class="ttc" id="agroup__keyvalue_html_ga880936f2481d28e6e2acbe7486a21d05"><div class="ttname"><a href="group__keyvalue.html#ga880936f2481d28e6e2acbe7486a21d05">keyString</a></div><div class="ttdeci">const char * keyString(const Key *key)</div><div class="ttdoc">Get a pointer to the c-string representing the value.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:206</div></div>
</div><!-- fragment --><p>returns a string. You are not allowed to change the returned string. The function</p>
<div class="fragment"><div class="line">ssize_t <a class="code" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">keyGetValueSize</a>(<span class="keyword">const</span> Key *key);</div>
<div class="ttc" id="agroup__keyvalue_html_gae326672fffb7474abfe9baf53b73217e"><div class="ttname"><a href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">keyGetValueSize</a></div><div class="ttdeci">ssize_t keyGetValueSize(const Key *key)</div><div class="ttdoc">Returns the number of bytes needed to store the key value, including the NULL terminator.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:261</div></div>
</div><!-- fragment --><p>shows how long the string is for the specified key. The returned value also specifies the minimum buffer size that <code>keyGetString</code> will reserve for the copy of the key.</p>
<div class="fragment"><div class="line">ssize_t <a class="code" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778">keyGetString</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returnedValue, <span class="keywordtype">size_t</span> maxSize);</div>
<div class="ttc" id="agroup__keyvalue_html_ga41b9fac5ccddafe407fc0ae1e2eb8778"><div class="ttname"><a href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778">keyGetString</a></div><div class="ttdeci">ssize_t keyGetString(const Key *key, char *returnedString, size_t maxSize)</div><div class="ttdoc">Copy the string value of a Key into returnedString.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:316</div></div>
</div><!-- fragment --><p>writes the comment in a buffer maintained by you.</p>
<h1><a class="anchor" id="autotoc_md2079"></a>
Variable Arguments</h1>
<p>The constructors for <code>Key</code> and <code>KeySet</code> take a variable sized list of arguments. They can be used as an alternatives to the various <code>keySet*</code> methods and <code>ksAppendKey</code>. With them you are able to generate any <code>Key</code> or <code>KeySet</code> with a single C-statement. This can be done programmatically by the plugin <code>c</code>.</p>
<p>To just retrieve a key, use</p>
<div class="fragment"><div class="line">Key *k = <a class="code" href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a>(<span class="stringliteral">&quot;/&quot;</span>, <a class="code" href="group__key.html#gga9b703ca49f48b482def322b77d3e6bc8aa8adb6fcb92dec58fb19410eacfdd403">KEY_END</a>);</div>
<div class="ttc" id="agroup__key_html_gga9b703ca49f48b482def322b77d3e6bc8aa8adb6fcb92dec58fb19410eacfdd403"><div class="ttname"><a href="group__key.html#gga9b703ca49f48b482def322b77d3e6bc8aa8adb6fcb92dec58fb19410eacfdd403">KEY_END</a></div><div class="ttdeci">@ KEY_END</div><div class="ttdef"><b>Definition:</b> kdbenum.c:97</div></div>
</div><!-- fragment --><p>To obtain a <code>keyset</code>, use</p>
<div class="fragment"><div class="line">KeySet *k = <a class="code" href="group__keyset.html#ga671e1aaee3ae9dc13b4834a4ddbd2c3c">ksNew</a>(0, <a class="code" href="group__keyset.html#ga7a28fce3773b2c873c94ac80b8b4cd54">KS_END</a>);</div>
<div class="ttc" id="agroup__keyset_html_ga7a28fce3773b2c873c94ac80b8b4cd54"><div class="ttname"><a href="group__keyset.html#ga7a28fce3773b2c873c94ac80b8b4cd54">KS_END</a></div><div class="ttdeci">#define KS_END</div><div class="ttdoc">End of a list of keys.</div><div class="ttdef"><b>Definition:</b> kdbenum.c:158</div></div>
</div><!-- fragment --><p>Alternatively pass a list as described in the documentation. The idea of these variable arguments is, that one function call can create any <code>KeySet</code>. For binding writers <code>keyVNew</code> might be useful.</p>
<h1><a class="anchor" id="autotoc_md2080"></a>
Off-by-one</h1>
<p>We avoid off-by-one errors by starting all indices with 0, as usual in C. The size returned by the <code>*GetSize</code> functions (<code>keyGetValueSize</code>, <code>keyGetCommentSize</code> and <code>keyGetOwnerSize</code>) is exactly the size you need to allocate. So if you add 1 to it, too much space is allocated, but no error will occur.</p>
<p>The same is true for <code>elektraStrLen</code> which also already has the null byte included.</p>
<h1><a class="anchor" id="autotoc_md2081"></a>
Minimal Set</h1>
<p><code>kdb.h</code> contains a minimal set of functions to fully work with a key database. The functions are implemented in <code>src/libs/elektra</code> in ANSI C.</p>
<p>Useful extensions are available in <a class="el" href="src_libs_README_md.html">further libraries</a>.</p>
<h1><a class="anchor" id="autotoc_md2082"></a>
Value, String or Binary</h1>
<p>Sometimes people confuse the terms “value”, “string” and “binary”:</p>
<ul>
<li>Value is just a name which does not specify if data is stored as string or in binary form.</li>
<li>A string is a char array, with a terminating &lsquo;&rsquo;\0'`.</li>
<li>Binary data is stored in an array of type void, and not terminated by &lsquo;&rsquo;\0'`.</li>
</ul>
<p>See also <a class="el" href="doc_help_elektra-glossary_md.html">the glossary</a> for further terminology.</p>
<p>In Elektra <code>char*</code> are used as null-terminated strings, while <code>void*</code> might contain <code>0</code>-bytes:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(<span class="keyword">const</span> Key *key);</div>
<div class="ttc" id="agroup__keyvalue_html_ga6f29609c5da53c6dc26a98678d5752af"><div class="ttname"><a href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a></div><div class="ttdeci">const void * keyValue(const Key *key)</div><div class="ttdoc">Return a pointer to the real internal key value.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:164</div></div>
</div><!-- fragment --><p>does not specify whether the returned value is binary or a string. The function just returns the pointer to the value. When <code>key</code> is a string (check with <code>keyIsString</code>) at least <code>""</code> will be returned. See section “Return Values” to learn more about common values returned by Elektra’s functions. For binary data a <code>NULL</code> pointer is also possible to distinguish between no data and &lsquo;&rsquo;\0'`.</p>
<div class="fragment"><div class="line">ssize_t <a class="code" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">keyGetValueSize</a>(<span class="keyword">const</span> Key *key);</div>
</div><!-- fragment --><p>does not specify whether the key type is binary or string. The function just returns the size which can be passed to <code>elektraMalloc</code> to hold the entire value.</p>
<div class="fragment"><div class="line">ssize_t <a class="code" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778">keyGetString</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returnedString, <span class="keywordtype">size_t</span> maxSize);</div>
</div><!-- fragment --><p>stores the string into a buffer maintained by you.</p>
<div class="fragment"><div class="line">ssize_t <a class="code" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2">keySetString</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *newString);</div>
<div class="ttc" id="agroup__keyvalue_html_ga622bde1eb0e0c4994728331326340ef2"><div class="ttname"><a href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2">keySetString</a></div><div class="ttdeci">ssize_t keySetString(Key *key, const char *newStringValue)</div><div class="ttdoc">Set the value for key as newStringValue.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:372</div></div>
</div><!-- fragment --><p>sets the null terminated string value for a certain key.</p>
<div class="fragment"><div class="line">ssize_t <a class="code" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84">keyGetBinary</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">void</span> *returnedBinary, <span class="keywordtype">size_t</span> maxSize);</div>
<div class="ttc" id="agroup__keyvalue_html_ga4c0d8a4a11174197699c231e0b5c3c84"><div class="ttname"><a href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84">keyGetBinary</a></div><div class="ttdeci">ssize_t keyGetBinary(const Key *key, void *returnedBinary, size_t maxSize)</div><div class="ttdoc">Copy the binary value of a Key into returnedBinary.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:434</div></div>
</div><!-- fragment --><p>retrieves binary data which might contain &lsquo;&rsquo;\0'`.</p>
<div class="fragment"><div class="line">ssize_t <a class="code" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">keySetBinary</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">void</span> *newBinary, <span class="keywordtype">size_t</span> dataSize);</div>
<div class="ttc" id="agroup__keyvalue_html_gaa50a5358fd328d373a45f395fa1b99e7"><div class="ttname"><a href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">keySetBinary</a></div><div class="ttdeci">ssize_t keySetBinary(Key *key, const void *newBinary, size_t dataSize)</div><div class="ttdoc">Set the value of a Key to the binary value newBinary.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:499</div></div>
</div><!-- fragment --><p>sets the binary data which might contain &lsquo;&rsquo;\0'<code>. The length is given by</code>dataSize`.</p>
<h1><a class="anchor" id="autotoc_md2083"></a>
Return Values</h1>
<p>Elektra’s function share common error codes. Every function must return <code>-1</code> on error, if its return type is integer (like <code>int</code>, <code>ssize_t</code>). If the function returns a pointer, <code>0</code> (<code>NULL</code>) will indicate an error.</p>
<p>Elektra uses integers for the length of C strings, reference counting, <code>KeySet</code> length and internal <code>KeySet</code> allocations.</p>
<p>The interface always accepts <code>ssize_t</code> and internally uses <code>size_t</code>, which is able to store larger numbers than <code>ssize_t</code>.</p>
<p>The real size of C strings and buffers is limited to <code>SSIZE_MAX</code>. When a string exceeds that limit <code>-1</code> or a <code>NULL</code> pointer (see above) must be returned.</p>
<p>The following functions return an internal string:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__keyname.html#ga8e805c726a60da921d3736cda7813513">keyName</a>(<span class="keyword">const</span> Key *key);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__keyname.html#gaaff35e7ca8af5560c47e662ceb9465f5">keyBaseName</a>(<span class="keyword">const</span> Key *key);</div>
<div class="ttc" id="agroup__keyname_html_gaaff35e7ca8af5560c47e662ceb9465f5"><div class="ttname"><a href="group__keyname.html#gaaff35e7ca8af5560c47e662ceb9465f5">keyBaseName</a></div><div class="ttdeci">const char * keyBaseName(const Key *key)</div><div class="ttdoc">Returns a pointer to the unescaped Key's name where the basename starts.</div><div class="ttdef"><b>Definition:</b> elektra/keyname.c:1263</div></div>
</div><!-- fragment --><p>and in the case that <code>keyIsBinary(key)==0</code>:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(<span class="keyword">const</span> Key *key);</div>
</div><!-- fragment --><p>does so, too. If in any of the functions above <code>key</code> is a <code>NULL</code> pointer, then they also return <code>NULL</code>.</p>
<p>If there is no string you will get back <code>""</code>, that is a pointer to the value &lsquo;&rsquo;\0'<code>. The function to determine the size will return</code>1` in that case. That means that an empty string – nothing except the NULL terminator – has size <code>1</code>.</p>
<p>This is not true for <code>keyValue</code> in the case of binary data, because the value &lsquo;&rsquo;\0'<code>in the first byte is perfectly legal binary data. </code>keyGetValueSize<code>may also return</code>0` for that reason.</p>
<h1><a class="anchor" id="autotoc_md2084"></a>
Error Handling</h1>
<p>For <code>KDB</code> functions the user does not only get the return value but also a more elaborate error information, including an error message, in the metadata of the <code>parentKey</code> or <code>errorKey</code>. Furthermore, it is also possible to get warnings, even if the calls succeeded.</p>
<p>Using different error categories, the user of the API can have suitable reactions on specific error situations. Additional information about error handling is available <a class="el" href="doc_dev_error-handling_md.html">here</a>.</p>
<p>Elektra does not set <code>errno</code>. If a function you call sets <code>errno</code>, make sure to set it back to the old value again.</p>
<h1><a class="anchor" id="autotoc_md2085"></a>
Naming</h1>
<p>All function names begin with their class name, e.g. <code>kdb</code>, <code>ks</code> or <code>key</code>. We use capital letters to separate single words (CamelCase). This leads to short names, but might be not as readable as separating names by other means.</p>
<p><em>Get</em> and <em>Set</em> are used for getters/and setters. We use <em>Is</em> to ask about a flag or state and <em>Needs</em> to ask about state related to databases. For allocation/deallocation we use C++ styled names (e.g <code>*New</code>, <code>*Del</code>).</p>
<p>Macros and Enums are written in capital letters. Flags start with <code>KDB_</code>, namespaces with <code>KEY_NS_</code> and macros with <code>ELEKTRA_</code>.</p>
<p>Data structures start with a capital letter for every part of the word:</p>
<ul>
<li><code>KDB</code> ... Key Data Base Handle</li>
<li><code>KeySet</code> ... Key Set</li>
<li><code>Key</code> ... Key</li>
</ul>
<p>We use singular for all names.</p>
<p>Function names not belonging to one of the three classes use the prefix <code>elektra*</code>.</p>
<h1><a class="anchor" id="autotoc_md2086"></a>
const</h1>
<p>Wherever possible functions should use the keyword <code>const</code> for parameters. The API uses this keyword for parameters, to show that a function does not modify a <code>Key</code> or a <code>KeySet</code>, e.g.:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__keyname.html#ga8e805c726a60da921d3736cda7813513">keyName</a>(<span class="keyword">const</span> Key *key);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__keyname.html#gaaff35e7ca8af5560c47e662ceb9465f5">keyBaseName</a>(<span class="keyword">const</span> Key *key);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(<span class="keyword">const</span> Key *key);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__keyvalue.html#ga880936f2481d28e6e2acbe7486a21d05">keyString</a>(<span class="keyword">const</span> Key *key);</div>
<div class="line"><span class="keyword">const</span> Key  *<a class="code" href="group__keymeta.html#ga9ed3875495ddb3d8a8d29158a60a147c">keyGetMeta</a>(<span class="keyword">const</span> Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span>* metaName);</div>
<div class="ttc" id="agroup__keymeta_html_ga9ed3875495ddb3d8a8d29158a60a147c"><div class="ttname"><a href="group__keymeta.html#ga9ed3875495ddb3d8a8d29158a60a147c">keyGetMeta</a></div><div class="ttdeci">const Key * keyGetMeta(const Key *key, const char *metaName)</div><div class="ttdoc">Returns the Key for a metadata entry with name metaName.</div><div class="ttdef"><b>Definition:</b> keymeta.c:448</div></div>
</div><!-- fragment --><p>The reason behind this is, that the above functions – as their name suggest – only retrieve values. The returned value must not be modified directly.</p>
<h1><a class="anchor" id="autotoc_md2087"></a>
Design Guidelines Checklist</h1>
<p>On potential changes of the API/ABI as detected by the <a href="https://build.libelektra.org/job/libelektra/job/master/"><code>build server</code></a>, please make sure the API has been reviewed according to the following 2 checklists:</p>
<h1><a class="anchor" id="autotoc_md2088"></a>
Checklist for overall API</h1>
<h2><a class="anchor" id="autotoc_md2089"></a>
Consistency</h2>
<ul>
<li>[ ] Consistent naming schemes for enums, macros, typedefs and functions</li>
<li>[ ] Same things are named the same and included in <a class="el" href="doc_help_elektra-glossary_md.html">Glossary</a></li>
<li>[ ] Different things are named differently</li>
<li>[ ] The order of arguments should be consistent across similar functions</li>
</ul>
<h2><a class="anchor" id="autotoc_md2090"></a>
Structural Clarity</h2>
<ul>
<li>[ ] Functions with similar functionality have the same prefix</li>
</ul>
<h2><a class="anchor" id="autotoc_md2091"></a>
Compatibility</h2>
<ul>
<li>[ ] All bindings have been updated to reflect the new API and work properly</li>
</ul>
<h2><a class="anchor" id="autotoc_md2092"></a>
Extensibility</h2>
<ul>
<li>[ ] New API is easily extensible with additional functionality</li>
<li>[ ] Components only depend on each other if needed</li>
</ul>
<h1><a class="anchor" id="autotoc_md2093"></a>
Checklist for each function</h1>
<p>There are several checklists for functions, depending on the language in which the function is written:</p>
<ul>
<li>C</li>
<li>Rust</li>
<li>Java </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
