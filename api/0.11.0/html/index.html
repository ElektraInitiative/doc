<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Elektra Initiative Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Elektra Initiative Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="doc_API_md"></a> Elektra serves as a universal and secure framework to access configuration parameters in a global, hierarchical key database and provides a mature, consistent and easily comprehensible API. Its modularity effectively avoids code duplication across applications and tools regarding configuration tasks. Elektra abstracts from cross-platform-related issues and allows applications to be aware of other applications' configurations, leveraging easy application integration.</p>
<p>See the <a class="el" href="README_md.html">readme</a> for more introduction. See the <a class="el" href="doc_help_elektra-glossary_md.html">glossary</a> for the used terminology.</p>
<h1><a class="anchor" id="autotoc_md681"></a>
API Docu</h1>
<p>This document's main goal is to describe the API. It covers:</p>
<ul>
<li>external C-API (see Modules above), which are the essential core parts</li>
<li>C++-API (see Data Structures above) from a direct binding to high-level functionality, such as mounting functionality</li>
<li>plugins API, see Plugins</li>
<li>all other documentation of Elektra (see Related Pages next to Main Page)</li>
</ul>
<p>On the one hand it gives an overview and an introduction for developers using Elektra, on the other hand it gives an informal description what methods must and may provide to allow an alternative implementation of the API.</p>
<p>The latest released version (for stable releases) of this document can be found at <a href="https://doc.libelektra.org/api/latest/html">https://doc.libelektra.org/api/latest/html</a></p>
<p>The Git master version of this document can be found at <a href="https://doc.libelektra.org/api/master/html">https://doc.libelektra.org/api/master/html</a></p>
<p><b>Important:</b> On GitHub links to API functions are broken, so it is recommended that you continue reading in one of these links above.</p>
<h1><a class="anchor" id="autotoc_md682"></a>
Using the Elektra Library</h1>
<p>A C or C++ source file that wants to use Elektra should include:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;kdb.h&gt;</span></div>
</div><!-- fragment --><p>To link an executable with the Elektra library, one way is to use the <code>pkg-config</code> tool:</p>
<div class="fragment"><div class="line">gcc -o application `pkg-config --cflags --libs elektra` application.c</div>
</div><!-- fragment --><p>Another way is to use CMake:</p>
<div class="fragment"><div class="line">find_package(Elektra REQUIRED)</div>
<div class="line">include_directories (${ELEKTRA_INCLUDE_DIR})</div>
<div class="line">target_link_libraries (application ${ELEKTRA_LIBRARIES})</div>
</div><!-- fragment --><p>Read about <a class="el" href="doc_COMPILE_md.html">compiling elektra</a>.</p>
<h2><a class="anchor" id="autotoc_md683"></a>
Tutorials</h2>
<ul>
<li><a class="el" href="doc_tutorials_application-integration_md.html">Application Integration</a></li>
<li><a class="el" href="doc_tutorials_compilation-variants_md.html">Compilation Variants</a></li>
<li><a class="el" href="doc_tutorials_export_md.html">Export</a></li>
<li><a class="el" href="doc_tutorials_import_md.html">Import</a></li>
<li><a class="el" href="doc_tutorials_merge_md.html">Merge</a></li>
<li><a class="el" href="doc_tutorials_namespaces_md.html">Namespaces</a></li>
<li><a class="el" href="doc_tutorials_plugins_md.html">Plugins</a></li>
<li><a class="el" href="doc_tutorials_java-plugins_md.html">Java Plugins</a></li>
</ul>
<p>List of all available Plugins and get started by developing your own plugins <a class="el" href="group__plugin.html">Plugins</a>.</p>
<h1><a class="anchor" id="autotoc_md684"></a>
Elektra API</h1>
<p>The API was written in pure C because Elektra was designed to be useful even for the most basic system programs.</p>
<p>The API follows an object-oriented design, and there are 3 main classes as shown by the figure:</p>
<p><img src="classes.png" alt="" class="inline" title="Elektra Classes"/></p>
<p>Some general things you can do with each class are:</p>
<p><a class="el" href="group__kdb.html">KDB (Key Database)</a></p>
<ul>
<li><a class="el" href="group__kdb.html#ga844e1299a84c3fbf1d3a905c5c893ba5">Open</a> and <a class="el" href="group__kdb.html#gadb54dc9fda17ee07deb9444df745c96f">Close</a> the Key Database</li>
<li><a class="el" href="group__kdb.html#ga28e385fd9cb7ccfe0b2f1ed2f62453a1">Get</a> and <a class="el" href="group__kdb.html#ga11436b058408f83d303ca5e996832bcf">Set</a> <a class="el" href="group__keyset.html">KeySet</a> in the Key Database</li>
<li>See <a class="el" href="group__kdb.html">class documentation</a> for more</li>
</ul>
<p><a class="el" href="group__key.html">Key</a></p>
<ul>
<li><a class="el" href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">Create</a> and <a class="el" href="group__key.html#ga3df95bbc2494e3e6703ece5639be5bb1">Delete</a></li>
<li>Get and Set key the <a class="el" href="group__keyname.html#ga7699091610e7f3f43d2949514a4b35d9">name</a></li>
<li>Get and Set <a class="el" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2">string</a> or <a class="el" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">binary</a> values</li>
<li>Get and Set <a class="el" href="group__keymeta.html">Metadata</a></li>
<li>See <a class="el" href="group__key.html">class documentation</a> for more</li>
</ul>
<p><a class="el" href="group__keyset.html">KeySet</a></p>
<ul>
<li><a class="el" href="group__keyset.html#ga671e1aaee3ae9dc13b4834a4ddbd2c3c">Create</a> and <a class="el" href="group__keyset.html#ga27e5c16473b02a422238c8d970db7ac8">Delete</a></li>
<li>Append <a class="el" href="group__keyset.html#gaa5a1d467a4d71041edce68ea7748ce45">a single key</a> or an entire <a class="el" href="group__keyset.html#ga21eb9c3a14a604ee3a8bdc779232e7b7">KeySet</a></li>
<li><a class="el" href="group__keyset.html#ga60f1ddcf23272f2b29b90e92ebe9b56f">Lookup keys</a></li>
<li>Pop <a class="el" href="group__keyset.html#gae42530b04defb772059de0600159cf69">the last key</a>, <a class="el" href="group__keyset.html#ga60f1ddcf23272f2b29b90e92ebe9b56f">a key by name</a>, or <a class="el" href="group__keyset.html#gaba1f1dbea191f4d7e7eb3e4296ae7d5e">every key</a></li>
<li>Get a key at a <a class="el" href="group__keyset.html#gab3fb5e067c672d9fd60a4022b2ae9dd1">specific position</a></li>
<li>Get the <a class="el" href="group__keyset.html#ga7474ad6b0a0fa969dbdf267ba5770eee">number of elements</a> in a KeySet</li>
<li>See <a class="el" href="group__keyset.html">class documentation</a> for more</li>
</ul>
<p><a class="el" href="doc_dev_classes_md.html">More background information about the classes</a></p>
<h1><a class="anchor" id="autotoc_md685"></a>
Namespaces</h1>
<p>There are 5 trees (=namespaces) of keys: <code>spec</code>, <code>proc</code>, <code>dir</code>, <code>user</code> and <code>system</code> that are all unified (in the given order) in one cascading tree starting with <code>/</code>.</p>
<p>The cascading tree is the logical tree to be used in applications. The other trees are the physical ones that stem from configuration sources. When using cascading key the best key will be searched at run-time, which appears like a tree on its own. See cascading in the documentation of <a class="el" href="group__keyset.html#gad65d2cdcbb5381194a1688e169af8a83" title="Convenience method to look for a Key contained in ks with name name.">ksLookupByName()</a> on how the selection of keys works.</p>
<ul>
<li><p class="startli">The <code>spec</code> tree</p>
<p class="startli">This tree specifies how the lookup should take place and also allows us to define defaults or document a key. The metadata of a key contains this information:</p><ul>
<li><code>override/#</code>: use these keys <em>in favor</em> of the key itself (note that <code>#</code> is the syntax for arrays, e.g. <code>#0</code> for the first element, <code>#10</code> for the 11th and so on)</li>
<li><code>namespace/#</code>: instead of using all namespaces in the predefined order, one can specify which namespaces should be searched in which order</li>
<li><code>fallback/#</code>: when no key was found in any of the (specified) namespaces the <code>fallback</code>-keys will be searched</li>
<li><code>default</code>: this value will be used if nothing else was found</li>
</ul>
</li>
<li><p class="startli">The <code>proc</code> tree</p>
<p class="startli">Is the only read-only tree. The configuration does not stem from the <a class="el" href="group__kdb.html">KDB (Key Database)</a>, but any other source, e.g. command-line arguments or environment.</p>
</li>
<li><p class="startli">The <code>dir</code> tree</p>
<p class="startli">Allows us to have a per-directory overwrite of configuration files, e.g. for project specific settings.</p>
</li>
<li><p class="startli">The <code>user</code> tree</p>
<p class="startli">Used to store user-specific configurations, like the personal settings of a user to certain programs. The user subtree will always be favored if present (except for security concerns the user subtree may not be considered).</p>
</li>
<li><p class="startli">The <code>system</code> tree</p>
<p class="startli">It is provided to store system-wide configuration keys, that is, the last fallback for applications but the only resort for daemons and system services.</p>
</li>
</ul>
<p>Read more about <a class="el" href="doc_help_elektra-namespaces_md.html">namespaces</a> and a tutorial for <a class="el" href="doc_tutorials_namespaces_md.html">namespaces</a>.</p>
<h1><a class="anchor" id="autotoc_md686"></a>
Rules for Key Names</h1>
<p>When using Elektra to store your application's configuration and state, please keep in mind the following rules:</p>
<ul>
<li>You are not allowed to create keys right under the root. They are reserved for more generic purposes.</li>
<li>The keys for your application, called say <em>myapp</em>, should be created under <code>/sw/org/myapp/#0/current</code><ul>
<li>sw is for software</li>
<li>org is the organization. For uniqueness a full reverse url encoded with '/' instead of '.' is useful.</li>
<li><code>#0</code> is the major version of the configuration</li>
<li>current is the default configuration profile.</li>
<li>That means you just need to <a class="el" href="group__kdb.html#ga28e385fd9cb7ccfe0b2f1ed2f62453a1" title="Retrieve Keys from the Key database in an atomic and universal way.">kdbGet()</a> <code>/sw/org/myapp/#0/profile</code> and then <a class="el" href="group__keyset.html#gad65d2cdcbb5381194a1688e169af8a83" title="Convenience method to look for a Key contained in ks with name name.">ksLookupByName()</a> in <code>/sw/org/myapp/#0/profile/key</code> where profile is from command-line arguments and defaults to current.</li>
</ul>
</li>
</ul>
<p>Read more about <a class="el" href="doc_help_elektra-key-names_md.html">key names</a></p>
<h1><a class="anchor" id="autotoc_md687"></a>
Backend Overview</h1>
<p>The core of Elektra does not store configuration itself to the hard disk. Instead this work is delegated to backends.</p>
<p>If you want to develop a backend, you should already have some experience with Elektra from the user point of view. You should be familiar with the data structures: <a class="el" href="group__key.html">Key</a> and <a class="el" href="group__keyset.html">KeySet</a> Then you can start reading about Backends that are composed out of <a class="el" href="group__plugin.html">Plugins</a>. To get started with writing plugins, first read our <a class="el" href="doc_tutorials_plugins_md.html">plugin tutorial</a> and then lookup details in the API description in <a class="el" href="group__plugin.html">Plugins</a>.</p>
<p>Read more about <a class="el" href="doc_help_elektra-mounting_md.html">mounting</a></p>
<h1><a class="anchor" id="autotoc_md688"></a>
See Also</h1>
<ul>
<li>See <a class="el" href="doc_help_elektra-glossary_md.html">elektra-glossary(7)</a></li>
<li>More information about <a class="el" href="doc_help_elektra-backends_md.html">elektra-backends(7)</a></li>
<li>More information about <a class="el" href="doc_dev_plugins-framework_md.html">plugins-framework</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
