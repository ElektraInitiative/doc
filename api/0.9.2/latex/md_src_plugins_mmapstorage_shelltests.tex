\hypertarget{md_src_plugins_mmapstorage_shelltests_src_plugins_mmapstorage_shelltests_md}{}\doxysection{Additional shell tests for mmapstorage}\label{md_src_plugins_mmapstorage_shelltests_src_plugins_mmapstorage_shelltests_md}
This file contains important shell tests for mmapstorage which do not fit well into the plugin R\+E\+A\+D\+ME.\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md445}{}\doxysection{Test kdb export \& import (stat\+: pipe size known)}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md445}
\`{}\`{}\`{} \hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md446}{}\doxysection{Make temp file}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md446}
kdb set system/tests/mmaptempfile \hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md447}{}\doxysection{Mount mmapstorage to $<$tt$>$user/tests/mmapstorage$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md447}
sudo kdb mount config.\+mmap user/tests/mmapstorage mmapstorage\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md448}{}\doxysection{Add some values via $<$tt$>$kdb set$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md448}
kdb set user/tests/mmapstorage/test1 test1 kdb set user/tests/mmapstorage/test2 test2 kdb set user/tests/mmapstorage/test1/test3 test3\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md449}{}\doxysection{List the configuration tree below $<$tt$>$user/tests/mmapstorage$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md449}
kdb ls user/tests/mmapstorage \#$>$ user/tests/mmapstorage/test1 \#$>$ user/tests/mmapstorage/test1/test3 \#$>$ user/tests/mmapstorage/test2\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md450}{}\doxysection{Retrieve the new values}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md450}
kdb get user/tests/mmapstorage/test1 \#$>$ test1 kdb get user/tests/mmapstorage/test2 \#$>$ test2 kdb get user/tests/mmapstorage/test1/test3 \#$>$ test3

kdb export user/tests/mmapstorage mmapstorage $>$ \$(kdb get system/tests/mmaptempfile) kdb rm -\/r user/tests/mmapstorage

kdb ls user/tests/mmapstorage \#$>$

kdb import user/tests/mmapstorage mmapstorage $<$ \$(kdb get system/tests/mmaptempfile)\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md451}{}\doxysection{List the configuration tree below $<$tt$>$user/tests/mmapstorage$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md451}
kdb ls user/tests/mmapstorage \#$>$ user/tests/mmapstorage/test1 \#$>$ user/tests/mmapstorage/test1/test3 \#$>$ user/tests/mmapstorage/test2\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md452}{}\doxysection{Retrieve the new values}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md452}
kdb get user/tests/mmapstorage/test1 \#$>$ test1 kdb get user/tests/mmapstorage/test2 \#$>$ test2 kdb get user/tests/mmapstorage/test1/test3 \#$>$ test3\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md453}{}\doxysection{Undo modifications to the database}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md453}
kdb rm -\/r user/tests/mmapstorage\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md454}{}\doxysection{Unmount mmapstorage}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md454}
sudo kdb umount user/tests/mmapstorage\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md455}{}\doxysection{Remove temp file}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md455}
rm \$(kdb get system/tests/mmaptempfile) kdb rm -\/r system/tests/mmaptempfile 
\begin{DoxyCode}{0}
\DoxyCodeLine{\# Test kdb export \& import (stat: pipe size unknown)}
\end{DoxyCode}
\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md456}{}\doxysection{Make temp file}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md456}
kdb set system/tests/mmaptempfile \hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md457}{}\doxysection{Mount mmapstorage to $<$tt$>$user/tests/mmapstorage$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md457}
sudo kdb mount config.\+mmap user/tests/mmapstorage mmapstorage\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md458}{}\doxysection{Add some values via $<$tt$>$kdb set$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md458}
kdb set user/tests/mmapstorage/test1 test1 kdb set user/tests/mmapstorage/test2 test2 kdb set user/tests/mmapstorage/test1/test3 test3\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md459}{}\doxysection{List the configuration tree below $<$tt$>$user/tests/mmapstorage$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md459}
kdb ls user/tests/mmapstorage \#$>$ user/tests/mmapstorage/test1 \#$>$ user/tests/mmapstorage/test1/test3 \#$>$ user/tests/mmapstorage/test2\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md460}{}\doxysection{Retrieve the new values}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md460}
kdb get user/tests/mmapstorage/test1 \#$>$ test1 kdb get user/tests/mmapstorage/test2 \#$>$ test2 kdb get user/tests/mmapstorage/test1/test3 \#$>$ test3

kdb export user/tests/mmapstorage mmapstorage $>$ \$(kdb get system/tests/mmaptempfile) kdb rm -\/r user/tests/mmapstorage

kdb ls user/tests/mmapstorage \#$>$

cat \$(kdb get system/tests/mmaptempfile) $\vert$ kdb import user/tests/mmapstorage mmapstorage\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md461}{}\doxysection{List the configuration tree below $<$tt$>$user/tests/mmapstorage$<$/tt$>$}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md461}
kdb ls user/tests/mmapstorage \#$>$ user/tests/mmapstorage/test1 \#$>$ user/tests/mmapstorage/test1/test3 \#$>$ user/tests/mmapstorage/test2\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md462}{}\doxysection{Retrieve the new values}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md462}
kdb get user/tests/mmapstorage/test1 \#$>$ test1 kdb get user/tests/mmapstorage/test2 \#$>$ test2 kdb get user/tests/mmapstorage/test1/test3 \#$>$ test3\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md463}{}\doxysection{Undo modifications to the database}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md463}
kdb rm -\/r user/tests/mmapstorage\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md464}{}\doxysection{Unmount mmapstorage}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md464}
sudo kdb umount user/tests/mmapstorage\hypertarget{md_src_plugins_mmapstorage_shelltests_autotoc_md465}{}\doxysection{Remove temp file}\label{md_src_plugins_mmapstorage_shelltests_autotoc_md465}
rm \$(kdb get system/tests/mmaptempfile) kdb rm -\/r system/tests/mmaptempfile \`{}\`{}\`{} 