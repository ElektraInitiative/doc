<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Plugin: xfconf</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Plugin: xfconf </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about the xfconf plugin is in keys below</li>
<li>infos/author = Richard St√∂ckl <a href="#" onclick="location.href='mai'+'lto:'+'e11'+'90'+'808'+'0@'+'stu'+'de'+'nt.'+'tu'+'wie'+'n.'+'ac.'+'at'; return false;">e1190<span style="display: none;">.nosp@m.</span>8080<span style="display: none;">.nosp@m.</span>@stud<span style="display: none;">.nosp@m.</span>ent.<span style="display: none;">.nosp@m.</span>tuwie<span style="display: none;">.nosp@m.</span>n.ac<span style="display: none;">.nosp@m.</span>.at</a></li>
<li>infos/licence = BSD</li>
<li>infos/needs =</li>
<li>infos/provides = storage/xml</li>
<li>infos/recommends =</li>
<li>infos/placements = getstorage setstorage</li>
<li>infos/status = maintained unittest libc configurable memleak experimental limited unfinished concept</li>
<li>infos/metadata =</li>
<li>infos/description = storage plugin for xfconf</li>
</ul>
<h1><a class="anchor" id="src_plugins_xfconf_README_md"></a>
Introduction</h1>
<p>The xfconf plugin is a storage plugin to mount the xfconf configuration settings. This allows to operate on the XFCE configuration with libelektra. As usual, this allows the plugin to read and write to the XFCE configuration.</p>
<p>For further understanding how xfconf is structured, please refer to the Xfconf binding.</p>
<p>The list of all channels is stored in the <code>system:/elektra/modules/xfconf/channels</code> which is an array of all channel names. Channels cannot be created manually with libelektra. Instead, when mounting a channel (see <a href="#plugin-configuration">Plugin Configuration</a> how to specify a channel) and setting a key value below the mount, it will be automatically created.</p>
<p>You may also refer to the <a href="https://docs.xfce.org/xfce/xfconf/start">official XFCE documentation of xfconf</a> to learn more about it.</p>
<h1><a class="anchor" id="autotoc_md629"></a>
Dependencies</h1>
<p>The xfconf library from the XFCE project is the main dependency of this plugin. Usually, this library is called something such as <code>xfconf</code> (Arch, Fedora, <code>xfconf-devel</code> for compiling), <code>libxfconf-0</code> (Debian, <code>libxfconf-0-dev</code> for compmiling) or <code>xfce4-conf</code> (FreeBSD) in the package manager. As xfconf itself depends on dbus and glib, these are dependecies too but should be installed with the package manager automatically. This plugin is tested with the xfconf versions <code>4.16</code> and above.</p>
<p>Before you can start working with the plugin, you have to make sure dbus is running. If you use a common desktop environment this should already be fulfilled. Otherwise, <code>export $(dbus-launch)</code> can be used to start it. You may also need to use <code>systemd-machine-id-setup</code> to create <code>/etc/machine-id</code>.</p>
<p>Note that this plugin does not support macOS since Xfce is not commonly used there, Mac Ports only provides a very old version (<code>4.12</code>) and Brew does not provide Xfce at all.</p>
<h1><a class="anchor" id="autotoc_md630"></a>
Usage</h1>
<p>The usage is identical to most storage plugins except that the channel option during mount must be defined in order to tell xfconf which channel to mount.</p>
<h1><a class="anchor" id="autotoc_md631"></a>
Plugin Configuration</h1>
<p>The required <code>channel</code> configuration option is used to tell xfconf which channel to mount.</p>
<h1><a class="anchor" id="autotoc_md632"></a>
Examples</h1>
<div class="fragment"><div class="line"># Backup-and-Restore: user:/tests/xfconf</div>
<div class="line"> </div>
<div class="line"># mount the xfwm channel</div>
<div class="line">kdb mount -R noresolver none /test/xfwm xfconf &quot;channel=xfwm4&quot;</div>
<div class="line"> </div>
<div class="line"># store old button layout</div>
<div class="line">set &quot;OLD_LAYOUT=$(kdb get /test/xfwm/general/button_layout)&quot;</div>
<div class="line"> </div>
<div class="line"># set only a close button</div>
<div class="line">kdb set system:/test/xfwm/general/button_layout &quot;C|&quot;</div>
<div class="line"> </div>
<div class="line"># read the new layout</div>
<div class="line">kdb get /test/xfwm/general/button_layout</div>
<div class="line">#&gt; C|</div>
<div class="line"> </div>
<div class="line"># restore old layout</div>
<div class="line">kdb set /test/xfwm/general/button_layout &quot;$OLD_LAYOUT&quot;</div>
<div class="line"> </div>
<div class="line"># umount the channel</div>
<div class="line">kdb umount /test/xfwm</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md633"></a>
Locks</h1>
<p>Xfconf uses so-called locks to prevent users or applications to set properties to a new value. They can be referred as a type of constant. As of now, locks cannot be set or unset in xfconf which makes locked properties read-only forever.</p>
<h1><a class="anchor" id="autotoc_md634"></a>
Limitations</h1>
<ul>
<li>xfconf locks can only be read but not set as this is not possible in xfconf</li>
<li>comments and sorting are not implemented due the lack of both in xfconf</li>
<li>due to memory leaks in xfconf upstream, valgrind reports errors when running the tests </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
