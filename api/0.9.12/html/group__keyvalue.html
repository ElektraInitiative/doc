<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Value Manipulation Methods</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.9.12</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Value Manipulation Methods<div class="ingroups"><a class="el" href="group__key.html">Key</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Methods to do various operations on Key values.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Value Manipulation Methods:</div>
<div class="dyncontent">
<div class="center"><img src="group__keyvalue.png" border="0" usemap="#agroup____keyvalue" alt=""/></div>
<map name="agroup____keyvalue" id="agroup____keyvalue">
<area shape="rect" title="Methods to do various operations on Key values." alt="" coords="100,5,247,45"/>
<area shape="rect" href="group__key.html" title="Key is an essential class that encapsulates key name , value &#160;and metainfo ." alt="" coords="5,13,52,38"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6f29609c5da53c6dc26a98678d5752af"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a> (const Key *key)</td></tr>
<tr class="memdesc:ga6f29609c5da53c6dc26a98678d5752af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the real internal <code>key</code> value.  <a href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">More...</a><br /></td></tr>
<tr class="separator:ga6f29609c5da53c6dc26a98678d5752af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga880936f2481d28e6e2acbe7486a21d05"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyvalue.html#ga880936f2481d28e6e2acbe7486a21d05">keyString</a> (const Key *key)</td></tr>
<tr class="memdesc:ga880936f2481d28e6e2acbe7486a21d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the c-string representing the value.  <a href="group__keyvalue.html#ga880936f2481d28e6e2acbe7486a21d05">More...</a><br /></td></tr>
<tr class="separator:ga880936f2481d28e6e2acbe7486a21d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae326672fffb7474abfe9baf53b73217e"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">keyGetValueSize</a> (const Key *key)</td></tr>
<tr class="memdesc:gae326672fffb7474abfe9baf53b73217e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bytes needed to store the key value, including the NULL terminator.  <a href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">More...</a><br /></td></tr>
<tr class="separator:gae326672fffb7474abfe9baf53b73217e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41b9fac5ccddafe407fc0ae1e2eb8778"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778">keyGetString</a> (const Key *key, char *returnedString, size_t maxSize)</td></tr>
<tr class="memdesc:ga41b9fac5ccddafe407fc0ae1e2eb8778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the string value of a Key into <code>returnedString</code>.  <a href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778">More...</a><br /></td></tr>
<tr class="separator:ga41b9fac5ccddafe407fc0ae1e2eb8778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga622bde1eb0e0c4994728331326340ef2"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2">keySetString</a> (Key *key, const char *newStringValue)</td></tr>
<tr class="memdesc:ga622bde1eb0e0c4994728331326340ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value for <code>key</code> as <code>newStringValue</code>.  <a href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2">More...</a><br /></td></tr>
<tr class="separator:ga622bde1eb0e0c4994728331326340ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c0d8a4a11174197699c231e0b5c3c84"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84">keyGetBinary</a> (const Key *key, void *returnedBinary, size_t maxSize)</td></tr>
<tr class="memdesc:ga4c0d8a4a11174197699c231e0b5c3c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the binary value of a Key into <code>returnedBinary</code>.  <a href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84">More...</a><br /></td></tr>
<tr class="separator:ga4c0d8a4a11174197699c231e0b5c3c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa50a5358fd328d373a45f395fa1b99e7"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">keySetBinary</a> (Key *key, const void *newBinary, size_t dataSize)</td></tr>
<tr class="memdesc:gaa50a5358fd328d373a45f395fa1b99e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of a Key to the binary value <code>newBinary</code>.  <a href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">More...</a><br /></td></tr>
<tr class="separator:gaa50a5358fd328d373a45f395fa1b99e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Methods to do various operations on Key values. </p>
<p>A key can contain a value in different format. The most likely situation is, that the value is interpreted as text. Use <a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> for that. You can save any Unicode Symbols and Elektra will take care that you get the same back, independent of your current environment.</p>
<p>In some situations this idea fails. When you need exactly the same value back without any interpretation of the characters, there is <a class="el" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7" title="Set the value of a Key to the binary value newBinary.">keySetBinary()</a>. If you use that, its very likely that your Configuration is not according to the standard. Also for Numbers, Booleans and Date you should use <a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a>. To do so, you might use strtod() strtol() and then atol() or atof() to convert back.</p>
<p>To use them: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;kdb.h&gt;</span></div>
</div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="ga4c0d8a4a11174197699c231e0b5c3c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c0d8a4a11174197699c231e0b5c3c84">&#9670;&nbsp;</a></span>keyGetBinary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t keyGetBinary </td>
          <td>(</td>
          <td class="paramtype">const Key *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>returnedBinary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the binary value of a Key into <code>returnedBinary</code>. </p>
<p>If the type is not binary -1 will be returned.</p>
<p>When the binary data is empty (this is not the same as ""!) 0 will be returned and <code>returnedBinary</code> will not be changed.</p>
<p>For string values see <a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> and <a class="el" href="group__keytest.html#gaea7670778abd07fee0fe8ac12a149190" title="Check if the value of key is of string type.">keyIsString()</a>.</p>
<p>When <code>returnedBinary</code> is too small to hold the data (maximum size is given by maxSize), the returnedBinary will not be changed and -1 is returned.</p>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line">Key *key = <a class="code" href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a> (<span class="stringliteral">&quot;user:/keyname&quot;</span>, <a class="code" href="group__key.html#gga9b703ca49f48b482def322b77d3e6bc8a1ca18d4e094ae7487d35ecedda2235ff">KEY_BINARY</a>, <a class="code" href="group__key.html#gga9b703ca49f48b482def322b77d3e6bc8aa8adb6fcb92dec58fb19410eacfdd403">KEY_END</a>);</div>
<div class="line"><span class="keywordtype">char</span> buffer[300];</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84">keyGetBinary</a>(key,buffer,<span class="keyword">sizeof</span>(buffer)) == -1)</div>
<div class="line">{</div>
<div class="line">        <span class="comment">// handle error</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__key_html_gad23c65b44bf48d773759e1f9a4d43b89"><div class="ttname"><a href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a></div><div class="ttdeci">Key * keyNew(const char *name,...)</div><div class="ttdoc">A practical way to fully create a Key object in one step.</div><div class="ttdef"><b>Definition:</b> key.c:144</div></div>
<div class="ttc" id="agroup__key_html_gga9b703ca49f48b482def322b77d3e6bc8a1ca18d4e094ae7487d35ecedda2235ff"><div class="ttname"><a href="group__key.html#gga9b703ca49f48b482def322b77d3e6bc8a1ca18d4e094ae7487d35ecedda2235ff">KEY_BINARY</a></div><div class="ttdeci">@ KEY_BINARY</div><div class="ttdef"><b>Definition:</b> kdbenum.c:90</div></div>
<div class="ttc" id="agroup__key_html_gga9b703ca49f48b482def322b77d3e6bc8aa8adb6fcb92dec58fb19410eacfdd403"><div class="ttname"><a href="group__key.html#gga9b703ca49f48b482def322b77d3e6bc8aa8adb6fcb92dec58fb19410eacfdd403">KEY_END</a></div><div class="ttdeci">@ KEY_END</div><div class="ttdef"><b>Definition:</b> kdbenum.c:95</div></div>
<div class="ttc" id="agroup__keyvalue_html_ga4c0d8a4a11174197699c231e0b5c3c84"><div class="ttname"><a href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84">keyGetBinary</a></div><div class="ttdeci">ssize_t keyGetBinary(const Key *key, void *returnedBinary, size_t maxSize)</div><div class="ttdoc">Copy the binary value of a Key into returnedBinary.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:443</div></div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the Key object to get the binary value from </td></tr>
    <tr><td class="paramname">returnedBinary</td><td>pre-allocated memory to store a copy of the Key's value </td></tr>
    <tr><td class="paramname">maxSize</td><td>number of bytes of pre-allocated memory in <code>returnedBinary</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes copied to <code>returnedBinary</code> </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the binary is empty </td></tr>
    <tr><td class="paramname">-1</td><td>on NULL pointers </td></tr>
    <tr><td class="paramname">-1</td><td>if maxSize is 0, too small for the value or larger than SSIZE_MAX </td></tr>
    <tr><td class="paramname">-1</td><td>if the Key's value is a string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.0.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af" title="Return a pointer to the real internal key value.">keyValue()</a> for getting a raw pointer to the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e" title="Returns the number of bytes needed to store the key value, including the NULL terminator.">keyGetValueSize()</a> for getting the size of the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7" title="Set the value of a Key to the binary value newBinary.">keySetBinary()</a> for setting the binary value of a Key </dd>
<dd>
<a class="el" href="group__keytest.html#ga9526b371087564e43e3dff8ad0dac949" title="Check if the value of a key is of binary type.">keyIsBinary()</a> for checking whether a Key's value is binary </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a>, <a class="el" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2" title="Set the value for key as newStringValue.">keySetString()</a> for working with string values </dd></dl>

</div>
</div>
<a id="ga41b9fac5ccddafe407fc0ae1e2eb8778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41b9fac5ccddafe407fc0ae1e2eb8778">&#9670;&nbsp;</a></span>keyGetString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t keyGetString </td>
          <td>(</td>
          <td class="paramtype">const Key *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>returnedString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the string value of a Key into <code>returnedString</code>. </p>
<p>When there is no value inside the string, 1 will be returned and the returnedString will be empty ("") to avoid programming errors where old strings are shown to the user.</p>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line">Key *key = <a class="code" href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a> (<span class="stringliteral">&quot;user:/keyname&quot;</span>, <a class="code" href="group__key.html#gga9b703ca49f48b482def322b77d3e6bc8aa8adb6fcb92dec58fb19410eacfdd403">KEY_END</a>);</div>
<div class="line"><span class="keywordtype">char</span> buffer[300];</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778">keyGetString</a>(key,buffer,<span class="keyword">sizeof</span>(buffer)) == -1)</div>
<div class="line">{</div>
<div class="line">        <span class="comment">// handle error</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">        printf (<span class="stringliteral">&quot;buffer: %s\n&quot;</span>, buffer);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__keyvalue_html_ga41b9fac5ccddafe407fc0ae1e2eb8778"><div class="ttname"><a href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778">keyGetString</a></div><div class="ttdeci">ssize_t keyGetString(const Key *key, char *returnedString, size_t maxSize)</div><div class="ttdoc">Copy the string value of a Key into returnedString.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:321</div></div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the Key object to get the string from </td></tr>
    <tr><td class="paramname">returnedString</td><td>pre-allocated memory to store a copy of the Key's value </td></tr>
    <tr><td class="paramname">maxSize</td><td>number of bytes of allocated memory in <code>returnedString</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes actually copied to <code>returnedString</code>, including final NULL </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if the string is empty </td></tr>
    <tr><td class="paramname">-1</td><td>on any NULL pointers </td></tr>
    <tr><td class="paramname">-1</td><td>if the Key's value is binary </td></tr>
    <tr><td class="paramname">-1</td><td>maxSize is 0, too small for the string or larger than SSIZE_MAX</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.0.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e" title="Returns the number of bytes needed to store the key value, including the NULL terminator.">keyGetValueSize()</a> for getting the size of the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af" title="Return a pointer to the real internal key value.">keyValue()</a> for getting a raw pointer to the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga880936f2481d28e6e2acbe7486a21d05" title="Get a pointer to the c-string representing the value.">keyString()</a> for getting a raw char pointer to the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a>, <a class="el" href="group__keytest.html#ga9526b371087564e43e3dff8ad0dac949" title="Check if the value of a key is of binary type.">keyIsBinary()</a> for working with binary data </dd></dl>

</div>
</div>
<a id="gae326672fffb7474abfe9baf53b73217e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae326672fffb7474abfe9baf53b73217e">&#9670;&nbsp;</a></span>keyGetValueSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t keyGetValueSize </td>
          <td>(</td>
          <td class="paramtype">const Key *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of bytes needed to store the key value, including the NULL terminator. </p>
<p>It returns the correct size, independent of the Key Type. If the value is binary there might be '\0' values in it.</p>
<p>For an empty string you need one byte to store the ending NULL. For that reason 1 is returned. This is not true for binary data, so 0 will be returned.</p>
<p>A binary key has no '\0' termination. String types are null-terminated, and the terminator will be considered for the length.</p>
<p>This method can be used with <a class="el" href="internal_8c.html#a35cdc2e5caed3454cb73b4fc7f37858c" title="Allocate memory for Elektra.">elektraMalloc()</a> before <a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> or <a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a> is called.</p>
<div class="fragment"><div class="line"><span class="keywordtype">char</span> *buffer;</div>
<div class="line">buffer = <a class="code" href="internal_8c.html#a35cdc2e5caed3454cb73b4fc7f37858c">elektraMalloc</a> (<a class="code" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">keyGetValueSize</a> (key));</div>
<div class="line"><span class="comment">// use this buffer to store the value (binary or string)</span></div>
<div class="line"><span class="comment">// pass keyGetValueSize (key) for maxSize</span></div>
<div class="ttc" id="agroup__keyvalue_html_gae326672fffb7474abfe9baf53b73217e"><div class="ttname"><a href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">keyGetValueSize</a></div><div class="ttdeci">ssize_t keyGetValueSize(const Key *key)</div><div class="ttdoc">Returns the number of bytes needed to store the key value, including the NULL terminator.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:266</div></div>
<div class="ttc" id="ainternal_8c_html_a35cdc2e5caed3454cb73b4fc7f37858c"><div class="ttname"><a href="internal_8c.html#a35cdc2e5caed3454cb73b4fc7f37858c">elektraMalloc</a></div><div class="ttdeci">void * elektraMalloc(size_t size)</div><div class="ttdoc">Allocate memory for Elektra.</div><div class="ttdef"><b>Definition:</b> internal.c:274</div></div>
</div><!-- fragment --><dl class="section post"><dt>Postcondition</dt><dd>returns the exact amount of bytes needed to store <code>key's</code> value (including NULL terminators)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the Key object to get the size of the value from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes needed to store the Key's value </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>when there is no data and type is a string </td></tr>
    <tr><td class="paramname">0</td><td>when there is no data and type is binary </td></tr>
    <tr><td class="paramname">-1</td><td>on null pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.0.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> for getting the Key's value as a string </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a> for getting the Key's value as a binary </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af" title="Return a pointer to the real internal key value.">keyValue()</a> for getting a pointer to the Key's value </dd></dl>

</div>
</div>
<a id="gaa50a5358fd328d373a45f395fa1b99e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa50a5358fd328d373a45f395fa1b99e7">&#9670;&nbsp;</a></span>keySetBinary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t keySetBinary </td>
          <td>(</td>
          <td class="paramtype">Key *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>newBinary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value of a Key to the binary value <code>newBinary</code>. </p>
<p>A private copy of <code>newBinary</code> will be allocated and saved inside <code>key</code>, so the parameter can be deallocated after the call.</p>
<p>Binary values might be encoded in another way than string values depending on the plugin. Typically character encodings should not take place on binary data. Consider using a string Key instead, if encoding should occur.</p>
<p>When <code>newBinary</code> is a NULL pointer the value will be freed and 0 will be returned.</p>
<p>Read-only keys will stay unchanged after calling this function.</p>
<dl class="section note"><dt>Note</dt><dd>The metadata "binary" will be set to mark that the key is binary from now on. When the Key is already binary the metadata won't be changed. This will only happen in the successful case, but not when -1 is returned.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>dataSize</code> matches the length of <code>newBinary</code> </dd>
<dd>
<code>newBinary</code> is not NULL and <code>dataSize</code> &gt; 0 </dd>
<dd>
<code>key</code> is not read-only </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><code>key's</code> value set exactly to the data in <code>newBinary</code> </dd>
<dd>
"binary" key set in <code>key's</code> metadata</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the Key object where the value should be set </td></tr>
    <tr><td class="paramname">newBinary</td><td>a pointer to any binary data or NULL (to clear the stored value) </td></tr>
    <tr><td class="paramname">dataSize</td><td>number of bytes to copy from <code>newBinary</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes actually copied to internal struct storage </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>when the internal binary was freed and is now a null pointer </td></tr>
    <tr><td class="paramname">-1</td><td>if <code>key</code> is NULL </td></tr>
    <tr><td class="paramname">-1</td><td>when <code>dataSize</code> is 0 (and newBinary not NULL) or larger than SSIZE_MAX </td></tr>
    <tr><td class="paramname">-1</td><td>if <code>key</code> is read-only</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.0.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a> for getting a Key's value as binary </dd>
<dd>
<a class="el" href="group__keytest.html#ga9526b371087564e43e3dff8ad0dac949" title="Check if the value of a key is of binary type.">keyIsBinary()</a> to check if the Key's value is binary </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> and <a class="el" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2" title="Set the value for key as newStringValue.">keySetString()</a> for working with string values </dd></dl>

</div>
</div>
<a id="ga622bde1eb0e0c4994728331326340ef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga622bde1eb0e0c4994728331326340ef2">&#9670;&nbsp;</a></span>keySetString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t keySetString </td>
          <td>(</td>
          <td class="paramtype">Key *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newStringValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value for <code>key</code> as <code>newStringValue</code>. </p>
<p>The function will allocate and save a private copy of <code>newStringValue</code>, so the parameter can be freed after the call.</p>
<p>String values will be saved in backend storage in UTF-8 universal encoding, regardless of the program's current encoding (if the iconv plugin is available).</p>
<dl class="section pre"><dt>Precondition</dt><dd><code>newStringValue</code> is a NULL terminated string </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Value of the Key is set to the UTF-8 encoded value of <code>newStringValue</code> </dd>
<dd>
Metakey <code>meta:/binary</code> is cleared</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the Key for which to set the string value </td></tr>
    <tr><td class="paramname">newStringValue</td><td>NULL-terminated string to be set as <code>key's</code> value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes actually saved in private struct including final NULL </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if <code>newStringValue</code> is a NULL pointer, this will make the string empty (string only containing null termination) </td></tr>
    <tr><td class="paramname">-1</td><td>if <code>key</code> is a NULL pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.0.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyvalue.html#ga880936f2481d28e6e2acbe7486a21d05" title="Get a pointer to the c-string representing the value.">keyString()</a> for getting a pointer to the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> for getting a copy of the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7" title="Set the value of a Key to the binary value newBinary.">keySetBinary()</a> for setting binary data </dd></dl>

</div>
</div>
<a id="ga880936f2481d28e6e2acbe7486a21d05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga880936f2481d28e6e2acbe7486a21d05">&#9670;&nbsp;</a></span>keyString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* keyString </td>
          <td>(</td>
          <td class="paramtype">const Key *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the c-string representing the value. </p>
<p>Will return "(null)" on null pointers. Will return "(binary)" on binary data not ended with a null byte.</p>
<dl class="section note"><dt>Note</dt><dd>You must not change or delete the returned value. Use the respective functions for that (<a class="el" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2" title="Set the value for key as newStringValue.">keySetString()</a>, <a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a>)</dd></dl>
<p>It is not checked if it is actually a string, only if it terminates for security reasons.</p>
<dl class="section post"><dt>Postcondition</dt><dd>returned pointer points to the real internal value </dd>
<dd>
value is NULL terminated</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the Key object to get the string value from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the c-string representing the Key's value </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">""</td><td>if no data found </td></tr>
    <tr><td class="paramname">(null)</td><td>on null Key </td></tr>
    <tr><td class="paramname">(binary)</td><td>on binary Key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.0.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> for getting a copy of the Key's value as string </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a> for getting a copy of the Key's value as binary </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af" title="Return a pointer to the real internal key value.">keyValue()</a> for getting a pointer to the Key's value as binary </dd></dl>

</div>
</div>
<a id="ga6f29609c5da53c6dc26a98678d5752af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f29609c5da53c6dc26a98678d5752af">&#9670;&nbsp;</a></span>keyValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* keyValue </td>
          <td>(</td>
          <td class="paramtype">const Key *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a pointer to the real internal <code>key</code> value. </p>
<p>This is a much more efficient version of <a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> <a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a>. You should use it if you are responsible enough to not mess up things. You are not allowed to modify anything in the returned string. If you need a copy of the Value, consider to use <a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> or <a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a> instead.</p>
<h1><a class="anchor" id="string"></a>
String Handling</h1>
<p>If <code>key</code> is string (<a class="el" href="group__keytest.html#gaea7670778abd07fee0fe8ac12a149190" title="Check if the value of key is of string type.">keyIsString()</a>), you may cast the returned as a <code>"char *"</code> because you'll get a NULL terminated regular string.</p>
<p><a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af" title="Return a pointer to the real internal key value.">keyValue()</a> returns "" in string mode when there is no value. The reason is </p><div class="fragment"><div class="line">key=<a class="code" href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a>(0);</div>
<div class="line"><a class="code" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2">keySetString</a>(key,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(key); <span class="comment">// you would expect &quot;&quot; here</span></div>
<div class="line"><a class="code" href="group__key.html#ga3df95bbc2494e3e6703ece5639be5bb1">keyDel</a>(key);</div>
<div class="ttc" id="agroup__key_html_ga3df95bbc2494e3e6703ece5639be5bb1"><div class="ttname"><a href="group__key.html#ga3df95bbc2494e3e6703ece5639be5bb1">keyDel</a></div><div class="ttdeci">int keyDel(Key *key)</div><div class="ttdoc">A destructor for Key objects.</div><div class="ttdef"><b>Definition:</b> key.c:462</div></div>
<div class="ttc" id="agroup__keyvalue_html_ga622bde1eb0e0c4994728331326340ef2"><div class="ttname"><a href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2">keySetString</a></div><div class="ttdeci">ssize_t keySetString(Key *key, const char *newStringValue)</div><div class="ttdoc">Set the value for key as newStringValue.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:381</div></div>
<div class="ttc" id="agroup__keyvalue_html_ga6f29609c5da53c6dc26a98678d5752af"><div class="ttname"><a href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a></div><div class="ttdeci">const void * keyValue(const Key *key)</div><div class="ttdoc">Return a pointer to the real internal key value.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:163</div></div>
</div><!-- fragment --><h1><a class="anchor" id="binary"></a>
Binary Data Handling</h1>
<p>If the data is binary, the size of the value must be determined by <a class="el" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e" title="Returns the number of bytes needed to store the key value, including the NULL terminator.">keyGetValueSize()</a>, any strlen() operations are not suitable to determine the size.</p>
<p><a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af" title="Return a pointer to the real internal key value.">keyValue()</a> returns 0 in binary mode when there is no value. The reason is </p><div class="fragment"><div class="line">key=<a class="code" href="group__key.html#gad23c65b44bf48d773759e1f9a4d43b89">keyNew</a>(0);</div>
<div class="line"><a class="code" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">keySetBinary</a>(key, 0, 0);</div>
<div class="line"><a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(key); <span class="comment">// you would expect 0 here</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">keySetBinary</a>(key,<span class="stringliteral">&quot;&quot;</span>, 1);</div>
<div class="line"><a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(key); <span class="comment">// you would expect &quot;&quot; (a pointer to &#39;\0&#39;) here</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> i=23;</div>
<div class="line"><a class="code" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">keySetBinary</a>(key, (<span class="keywordtype">void</span>*)&amp;i, 4);</div>
<div class="line">(<span class="keywordtype">int</span>*)<a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(key); <span class="comment">// you would expect a pointer to (int)23 here</span></div>
<div class="line"><a class="code" href="group__key.html#ga3df95bbc2494e3e6703ece5639be5bb1">keyDel</a>(key);</div>
<div class="ttc" id="agroup__keyvalue_html_gaa50a5358fd328d373a45f395fa1b99e7"><div class="ttname"><a href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7">keySetBinary</a></div><div class="ttdeci">ssize_t keySetBinary(Key *key, const void *newBinary, size_t dataSize)</div><div class="ttdoc">Set the value of a Key to the binary value newBinary.</div><div class="ttdef"><b>Definition:</b> keyvalue.c:514</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Note that the Key structure keeps its own size field that is calculated by library internal calls, so to avoid inconsistencies, you must never use the pointer returned by <a class="el" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af" title="Return a pointer to the real internal key value.">keyValue()</a> method to set a new value. Use <a class="el" href="group__keyvalue.html#ga622bde1eb0e0c4994728331326340ef2" title="Set the value for key as newStringValue.">keySetString()</a> or <a class="el" href="group__keyvalue.html#gaa50a5358fd328d373a45f395fa1b99e7" title="Set the value of a Key to the binary value newBinary.">keySetBinary()</a> instead.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Binary keys will return a NULL pointer when there is no data in contrast to <a class="el" href="group__keyname.html#ga8e805c726a60da921d3736cda7813513" title="Returns a pointer to the abbreviated real internal key name.">keyName()</a>, <a class="el" href="group__keyname.html#gaaff35e7ca8af5560c47e662ceb9465f5" title="Returns a pointer to the unescaped Key&#39;s name where the basename starts.">keyBaseName()</a> and <a class="el" href="group__meta.html#gac89fd319783b3457db45b4c09e55274a" title="Return a pointer to the real internal key comment.">keyComment()</a>. For string value the behaviour is the same.</dd></dl>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line">KDB *handle = <a class="code" href="group__kdb.html#ga844e1299a84c3fbf1d3a905c5c893ba5">kdbOpen</a>();</div>
<div class="line">KeySet *ks=<a class="code" href="group__keyset.html#ga671e1aaee3ae9dc13b4834a4ddbd2c3c">ksNew</a>(0, <a class="code" href="group__keyset.html#ga7a28fce3773b2c873c94ac80b8b4cd54">KS_END</a>);</div>
<div class="line">kdbGetByName(handle,ks,<span class="stringliteral">&quot;system:/sw/my&quot;</span>,KDB_O_SORT|KDB_O_RECURSIVE);</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">for</span> (elektraCursor it = 0; it &lt; <a class="code" href="group__keyset.html#ga7474ad6b0a0fa969dbdf267ba5770eee">ksGetSize</a> (ks); ++it)</div>
<div class="line"> {</div>
<div class="line">        Key * current = <a class="code" href="group__keyset.html#gab3fb5e067c672d9fd60a4022b2ae9dd1">ksAtCursor</a> (ks, it);</div>
<div class="line">        <span class="keywordtype">size_t</span> size=0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__keytest.html#ga9526b371087564e43e3dff8ad0dac949">keyIsBinary</a>(current)) {</div>
<div class="line">                size=<a class="code" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e">keyGetValueSize</a>(current);</div>
<div class="line">                printf(<span class="stringliteral">&quot;Key %s has a value of size %d bytes. Value: &lt;BINARY&gt;\nComment: %s&quot;</span>,</div>
<div class="line">                        <a class="code" href="group__keyname.html#ga8e805c726a60da921d3736cda7813513">keyName</a>(current),</div>
<div class="line">                        size,</div>
<div class="line">                        <a class="code" href="group__meta.html#gac89fd319783b3457db45b4c09e55274a">keyComment</a>(current));</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">                size=<a class="code" href="internal_8c.html#afd676487565d083a6ad5a1381095acd8">elektraStrLen</a>((<span class="keywordtype">char</span> *)<a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(current));</div>
<div class="line">                printf(<span class="stringliteral">&quot;Key %s has a value of size %d bytes. Value: %s\nComment: %s&quot;</span>,</div>
<div class="line">                        <a class="code" href="group__keyname.html#ga8e805c726a60da921d3736cda7813513">keyName</a>(current),</div>
<div class="line">                        size,</div>
<div class="line">                        (<span class="keywordtype">char</span> *)<a class="code" href="group__keyvalue.html#ga6f29609c5da53c6dc26a98678d5752af">keyValue</a>(current),</div>
<div class="line">                        <a class="code" href="group__meta.html#gac89fd319783b3457db45b4c09e55274a">keyComment</a>(current));</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__keyset.html#ga27e5c16473b02a422238c8d970db7ac8">ksDel</a> (ks);</div>
<div class="line"><a class="code" href="group__kdb.html#gadb54dc9fda17ee07deb9444df745c96f">kdbClose</a> (handle);</div>
<div class="ttc" id="agroup__kdb_html_ga844e1299a84c3fbf1d3a905c5c893ba5"><div class="ttname"><a href="group__kdb.html#ga844e1299a84c3fbf1d3a905c5c893ba5">kdbOpen</a></div><div class="ttdeci">KDB * kdbOpen(const KeySet *contract, Key *errorKey)</div><div class="ttdoc">Opens the session with the Key database.</div><div class="ttdef"><b>Definition:</b> kdb.c:924</div></div>
<div class="ttc" id="agroup__kdb_html_gadb54dc9fda17ee07deb9444df745c96f"><div class="ttname"><a href="group__kdb.html#gadb54dc9fda17ee07deb9444df745c96f">kdbClose</a></div><div class="ttdeci">int kdbClose(KDB *handle, Key *errorKey)</div><div class="ttdoc">Closes the session with the Key database.</div><div class="ttdef"><b>Definition:</b> kdb.c:1045</div></div>
<div class="ttc" id="agroup__keyname_html_ga8e805c726a60da921d3736cda7813513"><div class="ttname"><a href="group__keyname.html#ga8e805c726a60da921d3736cda7813513">keyName</a></div><div class="ttdeci">const char * keyName(const Key *key)</div><div class="ttdoc">Returns a pointer to the abbreviated real internal key name.</div><div class="ttdef"><b>Definition:</b> elektra/keyname.c:432</div></div>
<div class="ttc" id="agroup__keyset_html_ga27e5c16473b02a422238c8d970db7ac8"><div class="ttname"><a href="group__keyset.html#ga27e5c16473b02a422238c8d970db7ac8">ksDel</a></div><div class="ttdeci">int ksDel(KeySet *ks)</div><div class="ttdoc">A destructor for KeySet objects.</div><div class="ttdef"><b>Definition:</b> keyset.c:524</div></div>
<div class="ttc" id="agroup__keyset_html_ga671e1aaee3ae9dc13b4834a4ddbd2c3c"><div class="ttname"><a href="group__keyset.html#ga671e1aaee3ae9dc13b4834a4ddbd2c3c">ksNew</a></div><div class="ttdeci">KeySet * ksNew(size_t alloc,...)</div><div class="ttdoc">Allocate, initialize and return a new KeySet object.</div><div class="ttdef"><b>Definition:</b> keyset.c:282</div></div>
<div class="ttc" id="agroup__keyset_html_ga7474ad6b0a0fa969dbdf267ba5770eee"><div class="ttname"><a href="group__keyset.html#ga7474ad6b0a0fa969dbdf267ba5770eee">ksGetSize</a></div><div class="ttdeci">ssize_t ksGetSize(const KeySet *ks)</div><div class="ttdoc">Return the number of Keys that ks contains.</div><div class="ttdef"><b>Definition:</b> keyset.c:794</div></div>
<div class="ttc" id="agroup__keyset_html_ga7a28fce3773b2c873c94ac80b8b4cd54"><div class="ttname"><a href="group__keyset.html#ga7a28fce3773b2c873c94ac80b8b4cd54">KS_END</a></div><div class="ttdeci">#define KS_END</div><div class="ttdoc">End of a list of keys.</div><div class="ttdef"><b>Definition:</b> kdbenum.c:156</div></div>
<div class="ttc" id="agroup__keyset_html_gab3fb5e067c672d9fd60a4022b2ae9dd1"><div class="ttname"><a href="group__keyset.html#gab3fb5e067c672d9fd60a4022b2ae9dd1">ksAtCursor</a></div><div class="ttdeci">Key * ksAtCursor(const KeySet *ks, elektraCursor pos)</div><div class="ttdoc">Return Key at given position pos.</div><div class="ttdef"><b>Definition:</b> keyset.c:1981</div></div>
<div class="ttc" id="agroup__keytest_html_ga9526b371087564e43e3dff8ad0dac949"><div class="ttname"><a href="group__keytest.html#ga9526b371087564e43e3dff8ad0dac949">keyIsBinary</a></div><div class="ttdeci">int keyIsBinary(const Key *key)</div><div class="ttdoc">Check if the value of a key is of binary type.</div><div class="ttdef"><b>Definition:</b> keytest.c:366</div></div>
<div class="ttc" id="agroup__meta_html_gac89fd319783b3457db45b4c09e55274a"><div class="ttname"><a href="group__meta.html#gac89fd319783b3457db45b4c09e55274a">keyComment</a></div><div class="ttdeci">const char * keyComment(const Key *key)</div><div class="ttdoc">Return a pointer to the real internal key comment.</div><div class="ttdef"><b>Definition:</b> meta.c:91</div></div>
<div class="ttc" id="ainternal_8c_html_afd676487565d083a6ad5a1381095acd8"><div class="ttname"><a href="internal_8c.html#afd676487565d083a6ad5a1381095acd8">elektraStrLen</a></div><div class="ttdeci">size_t elektraStrLen(const char *s)</div><div class="ttdoc">Calculates the length in bytes of a string.</div><div class="ttdef"><b>Definition:</b> internal.c:385</div></div>
</div><!-- fragment --></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>key</code> is not NULL and has stored data </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>returned pointer points to the stored internal value </dd>
<dd>
if the value is a string, the value is NULL terminated</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the Key from which to get the value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the Key's internal value </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">""</td><td>when there is no value and Key is not binary </td></tr>
    <tr><td class="paramname">0</td><td>where there is no value and Key is binary </td></tr>
    <tr><td class="paramname">0</td><td>on NULL pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.0.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyvalue.html#gae326672fffb7474abfe9baf53b73217e" title="Returns the number of bytes needed to store the key value, including the NULL terminator.">keyGetValueSize()</a> to get the size of the Key's value </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga41b9fac5ccddafe407fc0ae1e2eb8778" title="Copy the string value of a Key into returnedString.">keyGetString()</a> for getting the Key's value as string </dd>
<dd>
<a class="el" href="group__keyvalue.html#ga4c0d8a4a11174197699c231e0b5c3c84" title="Copy the binary value of a Key into returnedBinary.">keyGetBinary()</a> for getting the Key's value as binary </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
