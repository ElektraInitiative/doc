<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Plugin: email</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Plugin: email </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about the email plugin is in keys below</li>
<li>infos/author = Andreas Kraschitzer <a href="#" onclick="location.href='mai'+'lto:'+'e01'+'22'+'685'+'3@'+'stu'+'de'+'nt.'+'tu'+'wie'+'n.'+'ac.'+'at'; return false;">e0122<span style="display: none;">.nosp@m.</span>6853<span style="display: none;">.nosp@m.</span>@stud<span style="display: none;">.nosp@m.</span>ent.<span style="display: none;">.nosp@m.</span>tuwie<span style="display: none;">.nosp@m.</span>n.ac<span style="display: none;">.nosp@m.</span>.at</a></li>
<li>infos/licence = BSD</li>
<li>infos/needs =</li>
<li>infos/provides = check</li>
<li>infos/recommends =</li>
<li>infos/placements = presetstorage</li>
<li>infos/status = maintained unittest nodep experimental</li>
<li>infos/metadata = check/email</li>
<li>infos/description = Validation for email addresses</li>
</ul>
<h1><a class="anchor" id="src_plugins_email_README_md"></a>
Email Address Validation</h1>
<h2><a class="anchor" id="autotoc_md178"></a>
Introduction</h2>
<p>This plugin validates email addresses using regular expressions. The plugin does not support the full RFC5321 spec. For more information see <a href="#Limitations">Limitations</a> below.</p>
<h2><a class="anchor" id="autotoc_md179"></a>
Installation</h2>
<p>See <a class="el" href="doc_INSTALL_md.html">installation</a>. The package is called <code>libelektra5-experimental</code>.</p>
<h2><a class="anchor" id="autotoc_md180"></a>
Usage</h2>
<div class="fragment"><div class="line"># Mount `email` plugin to cascading namespace `/tests/email`</div>
<div class="line">kdb mount config.dump /tests/email dump email</div>
<div class="line"> </div>
<div class="line"># Incorrect address is valid with incomplete configuration</div>
<div class="line">kdb meta-set /tests/email/noaddr check/email</div>
<div class="line">kdb set /tests/email/noaddr invalid..address@com</div>
<div class="line"># RET: 0</div>
<div class="line"> </div>
<div class="line"># Check the validity of the email stored in `/tests/email/adr`</div>
<div class="line">kdb meta-set /tests/email/adr check/email &quot;&quot;</div>
<div class="line"> </div>
<div class="line"># Set a correct email address</div>
<div class="line">kdb set /tests/email/adr test+email@dev.libelektra.com</div>
<div class="line">kdb get /tests/email/adr</div>
<div class="line">#&gt; test+email@dev.libelektra.com</div>
<div class="line"> </div>
<div class="line"># Try to set incorrect addresses</div>
<div class="line">kdb set /tests/email/adr invalid..address@com</div>
<div class="line"># STDERR: .*Validation Semantic.*</div>
<div class="line"># ERROR:  C03200</div>
<div class="line"># RET: 5</div>
<div class="line"> </div>
<div class="line">kdb set /tests/email/adr not.@email.com</div>
<div class="line"># STDERR: .*Validation Semantic.*</div>
<div class="line"># ERROR:  C03200</div>
<div class="line"># RET: 5</div>
<div class="line"> </div>
<div class="line">kdb set /tests/email/adr @</div>
<div class="line"># STDERR: .*Validation Semantic.*</div>
<div class="line"># ERROR:  C03200</div>
<div class="line"># RET: 5</div>
<div class="line"> </div>
<div class="line"># Undo modifications to the database</div>
<div class="line">kdb rm -r /tests/email</div>
<div class="line">kdb umount /tests/email</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md181"></a>
Limitations</h2>
<p>The plugin only checks email addresses for validity. It is not able to resolve if the host and or check if the address can receive emails. The validation does not completely support the RFC5321. The following valid email addresses are not supported:</p>
<ul>
<li><code>(ele)ktra@elektra.io</code></li>
<li><code>elektra@elektra.io(io)</code></li>
<li><code>"hi@you"@elektra.io</code></li>
<li><code>"hi you"@elektra.io</code></li>
<li><code>" "@elektra.io</code></li>
<li><code>"&lt;\"\".!.#%$@elektra.io</code></li>
<li><code>cow@[dead::beef]</code></li>
<li><code>1@[23456789]</code></li>
</ul>
<p>There is no validation of top level domains and no length check. The following invalid email addresses will be allowed:</p>
<ul>
<li><code>valid+part@nonexistenttopleveldomain</code></li>
<li><code>1234567890123456789012345678901234567890123456789012345678901234+x@example.com</code> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
