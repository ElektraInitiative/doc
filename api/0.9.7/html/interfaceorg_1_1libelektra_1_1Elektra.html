<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: org.libelektra.Elektra Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>org</b></li><li class="navelem"><a class="el" href="namespaceorg_1_1libelektra.html">libelektra</a></li><li class="navelem"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html">Elektra</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="interfaceorg_1_1libelektra_1_1Elektra-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.libelektra.Elektra Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The JNA dynamic proxy interface to libelektra.  
 <a href="interfaceorg_1_1libelektra_1_1Elektra.html#details">More...</a></p>

<p>Inherits Library.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a32639cf92429fe65bf3744a007d8647f"><td class="memItemLeft" align="right" valign="top">Pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a32639cf92429fe65bf3744a007d8647f">kdbOpen</a> (@Nullable Pointer contractKeySet, Pointer errorKey)</td></tr>
<tr class="memdesc:a32639cf92429fe65bf3744a007d8647f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the session with the <a class="el" href="classorg_1_1libelektra_1_1Key.html" title="Key represents an native Elektra key providing access to its name, value and meta information.">Key</a> database.  <a href="interfaceorg_1_1libelektra_1_1Elektra.html#a32639cf92429fe65bf3744a007d8647f">More...</a><br /></td></tr>
<tr class="separator:a32639cf92429fe65bf3744a007d8647f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60cf0c7cefd0a6a34b4608bdc5eded4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b">kdbClose</a> (Pointer handle, Pointer errorKey)</td></tr>
<tr class="memdesc:a60cf0c7cefd0a6a34b4608bdc5eded4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the session with the <a class="el" href="classorg_1_1libelektra_1_1Key.html" title="Key represents an native Elektra key providing access to its name, value and meta information.">Key</a> database.  <a href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b">More...</a><br /></td></tr>
<tr class="separator:a60cf0c7cefd0a6a34b4608bdc5eded4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ad2a446a215b6cce4cfb31d9871ac2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">kdbGet</a> (Pointer handle, Pointer returnKeySet, Pointer parentKey)</td></tr>
<tr class="memdesc:a09ad2a446a215b6cce4cfb31d9871ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve keys in an atomic and universal way.  <a href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">More...</a><br /></td></tr>
<tr class="separator:a09ad2a446a215b6cce4cfb31d9871ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b69b22fd8b712891d188215707e0540"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a7b69b22fd8b712891d188215707e0540">kdbSet</a> (Pointer handle, Pointer keySet, Pointer parentKey)</td></tr>
<tr class="memdesc:a7b69b22fd8b712891d188215707e0540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set keys in an atomic and universal way.  <a href="interfaceorg_1_1libelektra_1_1Elektra.html#a7b69b22fd8b712891d188215707e0540">More...</a><br /></td></tr>
<tr class="separator:a7b69b22fd8b712891d188215707e0540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba251761ea3e25ba205df77f7729e1bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#aba251761ea3e25ba205df77f7729e1bf">elektraGOptsContractFromStrings</a> (Pointer contractKeySet, long argsSize, String args, long envSize, String env, Pointer parentKey, @Nullable Pointer goptsConfigKeySet)</td></tr>
<tr class="memdesc:aba251761ea3e25ba205df77f7729e1bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up a contract for use with <a class="el" href="">kdbOpen()</a> that configures the.  <a href="interfaceorg_1_1libelektra_1_1Elektra.html#aba251761ea3e25ba205df77f7729e1bf">More...</a><br /></td></tr>
<tr class="separator:aba251761ea3e25ba205df77f7729e1bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae437441010a3a634a39107e37808cbd1"><td class="memItemLeft" align="right" valign="top">Pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#ae437441010a3a634a39107e37808cbd1">keyNew</a> (@Nullable String name, @Nullable Object... args)</td></tr>
<tr class="memdesc:ae437441010a3a634a39107e37808cbd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A practical way to fully create a <a class="el" href="classorg_1_1libelektra_1_1Key.html" title="Key represents an native Elektra key providing access to its name, value and meta information.">Key</a> object in one step.  <a href="interfaceorg_1_1libelektra_1_1Elektra.html#ae437441010a3a634a39107e37808cbd1">More...</a><br /></td></tr>
<tr class="separator:ae437441010a3a634a39107e37808cbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5a69a68a26ccec272c0f992f0a94a4cc"><td class="memItemLeft" align="right" valign="top"><a id="a5a69a68a26ccec272c0f992f0a94a4cc"></a>
<a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html">Elektra</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a5a69a68a26ccec272c0f992f0a94a4cc">INSTANCE</a> = Native.load (&quot;elektra-kdb&quot;, Elektra.class)</td></tr>
<tr class="memdesc:a5a69a68a26ccec272c0f992f0a94a4cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton instance of the native library proxy. <br /></td></tr>
<tr class="separator:a5a69a68a26ccec272c0f992f0a94a4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The JNA dynamic proxy interface to libelektra. </p>
<p>This proxy is not intended to be used directly by libelektra API consumers. Please see <a class="el" href="classorg_1_1libelektra_1_1KDB.html">KDB</a> and its accompanying classes. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aba251761ea3e25ba205df77f7729e1bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba251761ea3e25ba205df77f7729e1bf">&#9670;&nbsp;</a></span>elektraGOptsContractFromStrings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int org.libelektra.Elektra.elektraGOptsContractFromStrings </td>
          <td>(</td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>contractKeySet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>argsSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>envSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>parentKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">@Nullable Pointer&#160;</td>
          <td class="paramname"><em>goptsConfigKeySet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up a contract for use with <a class="el" href="">kdbOpen()</a> that configures the. </p>
<div class="fragment"><div class="line">gopts </div>
</div><!-- fragment --><p> plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contractKeySet</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --> into which the contract will be written. </td></tr>
    <tr><td class="paramname">argsSize</td><td>Size of the<div class="fragment"><div class="line">args </div>
</div><!-- fragment --> data. </td></tr>
    <tr><td class="paramname">args</td><td>Continuous buffer containing all<div class="fragment"><div class="line">argv </div>
</div><!-- fragment --> arguments separated (and terminated) by zero bytes. The whole buffer is copied, so the pointer only has to be valid for this function call. </td></tr>
    <tr><td class="paramname">envSize</td><td>Size of the<div class="fragment"><div class="line">env </div>
</div><!-- fragment --> data. </td></tr>
    <tr><td class="paramname">env</td><td>Continuous buffer containing all environment variables separated (and terminated) by zero bytes The whole buffer is copied, so the pointer only has to be valid for this function call. </td></tr>
    <tr><td class="paramname">parentKey</td><td>The parent key that should be used by<div class="fragment"><div class="line">gopts </div>
</div><!-- fragment --> . Only the key name is copied. The key can be deleted immediately after calling this function. </td></tr>
    <tr><td class="paramname">goptsConfigKeySet</td><td>Configuration that is used to mount the <div class="fragment"><div class="line">gopts </div>
</div><!-- fragment --> plugin. Only keys in the <div class="fragment"><div class="line">user:/ </div>
</div><!-- fragment --> namespace will be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>
<div class="fragment"><div class="line">0 </div>
</div><!-- fragment --> on success </li>
<li>
<div class="fragment"><div class="line">-1 </div>
</div><!-- fragment --> on<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --> pointer passed </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a60cf0c7cefd0a6a34b4608bdc5eded4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60cf0c7cefd0a6a34b4608bdc5eded4b">&#9670;&nbsp;</a></span>kdbClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int org.libelektra.Elektra.kdbClose </td>
          <td>(</td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>errorKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the session with the <a class="el" href="classorg_1_1libelektra_1_1Key.html" title="Key represents an native Elektra key providing access to its name, value and meta information.">Key</a> database. </p>
<p><br  />
 <br  />
 You must call this method when you finished your affairs with the key database. You can still manipulate</p><div class="fragment"><div class="line">Key </div>
</div><!-- fragment --><p> and</p><div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --><p> objects after calling</p><div class="fragment"><div class="line"><span class="preprocessor">#kdbClose(Pointer, Pointer) </span></div>
</div><!-- fragment --><p> , but you must not use any </p><div class="fragment"><div class="line"><a class="code" href="namespacekdb.html">kdb</a>*() </div>
<div class="ttc" id="anamespacekdb_html"><div class="ttname"><a href="namespacekdb.html">kdb</a></div><div class="ttdoc">This is the main namespace for the C++ binding and libraries.</div><div class="ttdef"><b>Definition:</b> backend.hpp:31</div></div>
</div><!-- fragment --><p> call afterwards.<br  />
</p>
<dl class="section see"><dt>See also</dt><dd>#kdbOpen(Pointer, Pointer) <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a32639cf92429fe65bf3744a007d8647f" title="Opens the session with the Key database.">kdbOpen()</a> </dd>
<dd>
#keyNew(String, Object...) <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#ae437441010a3a634a39107e37808cbd1" title="A practical way to fully create a Key object in one step.">keyNew()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">KDB handle </div>
</div><!-- fragment --> as returned by <a class="el" href="">kdbOpen()</a>. </td></tr>
    <tr><td class="paramname">errorKey</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">Key </div>
</div><!-- fragment --> , where issued errors and warnings will be made available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>
<div class="fragment"><div class="line">0 </div>
</div><!-- fragment --> on success </li>
<li>
<div class="fragment"><div class="line">-1 </div>
</div><!-- fragment --> on<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --> pointer passed </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a09ad2a446a215b6cce4cfb31d9871ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ad2a446a215b6cce4cfb31d9871ac2">&#9670;&nbsp;</a></span>kdbGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int org.libelektra.Elektra.kdbGet </td>
          <td>(</td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>returnKeySet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>parentKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve keys in an atomic and universal way. </p>
<p><br  />
 <br  />
 The</p><div class="fragment"><div class="line">returnKeySet </div>
</div><!-- fragment --><p> may already contain some keys, e.g. from previous <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">kdbGet()</a> calls. The new retrieved keys will be appended using the native function underlying <a class="el" href="">ksAppendKey()</a>.</p>
<p>@apiNote <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">kdbGet()</a> might retrieve more keys than requested (that are not below parentKey). These keys must be passed to when saving modifications via <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a7b69b22fd8b712891d188215707e0540">kdbSet()</a>, otherwise they will be lost. This stems from the fact that the user has the only copy of the whole configuration and backends only write configuration that was passed to them. For example, if you get </p><div class="fragment"><div class="line">system:/mountpoint/interest </div>
</div><!-- fragment --><p> you will not only get all keys below</p><div class="fragment"><div class="line">system:/mountpoint/interest </div>
</div><!-- fragment --><p> , but also all keys below </p><div class="fragment"><div class="line">system:/mountpoint </div>
</div><!-- fragment --><p> (if</p><div class="fragment"><div class="line">system:/mountpoint </div>
</div><!-- fragment --><p> is a mountpoint as the name suggests, but </p><div class="fragment"><div class="line">system:/mountpoint/interest </div>
</div><!-- fragment --><p> is not a mountpoint). Make sure to not touch or remove keys outside the keys of interest, because others may need them!</p>
<p>@implNote Optimization: In the first run of <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">kdbGet()</a> all requested (or more) keys are retrieved. On subsequent calls only the keys are retrieved where something was changed inside the key database. The other keys stay in the</p><div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --><p> returned as passed.</p>
<dl class="section see"><dt>See also</dt><dd>#kdbOpen(Pointer, Pointer) <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a32639cf92429fe65bf3744a007d8647f" title="Opens the session with the Key database.">kdbOpen()</a> which needs to be called before </dd>
<dd>
#ksLookup(Pointer, Pointer, int) <a class="el" href="group__keyset.html#ga60f1ddcf23272f2b29b90e92ebe9b56f" title="Look for a Key contained in ks that matches the name of the key.">ksLookup()</a> and </dd>
<dd>
#ksLookupByName(Pointer, String, int) <a class="el" href="group__keyset.html#gad65d2cdcbb5381194a1688e169af8a83" title="Convenience method to look for a Key contained in ks with name name.">ksLookupByName()</a> for powerful lookups after the<div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --> was retrieved </dd>
<dd>
<a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a7b69b22fd8b712891d188215707e0540" title="Set keys in an atomic and universal way.">kdbSet(Pointer, Pointer, Pointer)</a> <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a7b69b22fd8b712891d188215707e0540" title="Set keys in an atomic and universal way.">kdbSet()</a> to save the configuration afterwards </dd>
<dd>
<a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b" title="Closes the session with the Key database.">kdbClose(Pointer, Pointer)</a> <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b" title="Closes the session with the Key database.">kdbClose()</a> to finish affairs with the <a class="el" href="group__key.html" title="Key is an essential class that encapsulates key name , value  and metainfo .">Key</a> database</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">KDB handle </div>
</div><!-- fragment --> as returned by <a class="el" href="">kdbOpen()</a>. </td></tr>
    <tr><td class="paramname">returnKeySet</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --> to be populated with all keys found. It will not be changed on error or if no update is required. </td></tr>
    <tr><td class="paramname">parentKey</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">Key </div>
</div><!-- fragment --> . It is used to add warnings and set an error information. Additionally, its name is a hint which keys should be retrieved (it is possible that more are retrieved, see API Note). <ul>
<li>
cascading keys (starting with "/") will retrieve the same path in all namespaces </li>
<li>
"/" will retrieve all keys. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>
<div class="fragment"><div class="line">1 </div>
</div><!-- fragment --> if the keys were retrieved successfully </li>
<li>
<div class="fragment"><div class="line">0 </div>
</div><!-- fragment --> if there was no update </li>
<li>
<div class="fragment"><div class="line">-1 </div>
</div><!-- fragment --> on failure or<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --> pointer passed </li>
</ul>
When a backend fails, <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">kdbGet()</a> will return<div class="fragment"><div class="line">-1 </div>
</div><!-- fragment --> with all error and warning information in the<div class="fragment"><div class="line">parentKey </div>
</div><!-- fragment --> and<div class="fragment"><div class="line">returnKeySet </div>
</div><!-- fragment --> left unchanged. </dd></dl>

</div>
</div>
<a id="a32639cf92429fe65bf3744a007d8647f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32639cf92429fe65bf3744a007d8647f">&#9670;&nbsp;</a></span>kdbOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Pointer org.libelektra.Elektra.kdbOpen </td>
          <td>(</td>
          <td class="paramtype">@Nullable Pointer&#160;</td>
          <td class="paramname"><em>contractKeySet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>errorKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens the session with the <a class="el" href="classorg_1_1libelektra_1_1Key.html" title="Key represents an native Elektra key providing access to its name, value and meta information.">Key</a> database. </p>
<p><br  />
 <br  />
 You must always call this method before retrieving or committing any keys to the database. In the end of the program, after using the key database, you must not forget to <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b">kdbClose()</a>.<br  />
 <br  />
 Get a</p><div class="fragment"><div class="line">KDB handle </div>
</div><!-- fragment --><p> for every thread using <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html" title="The JNA dynamic proxy interface to libelektra.">Elektra</a>. Don't share the handle across threads, and also not the pointer accessing it.<br  />
 <br  />
 You don't need <a class="el" href="">kdbOpen()</a> if you only want to manipulate plain in-memory</p><div class="fragment"><div class="line">Key </div>
</div><!-- fragment --><p> or</p><div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --><p> objects.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2" title="Retrieve keys in an atomic and universal way.">kdbGet(Pointer, Pointer, Pointer)</a> <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2" title="Retrieve keys in an atomic and universal way.">kdbGet()</a> </dd>
<dd>
<a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b" title="Closes the session with the Key database.">kdbClose(Pointer, Pointer)</a> <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b" title="Closes the session with the Key database.">kdbClose()</a> </dd>
<dd>
#keyNew(String, Object...) <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#ae437441010a3a634a39107e37808cbd1" title="A practical way to fully create a Key object in one step.">keyNew()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contractKeySet</td><td>TODO #3754 - documentation unclear - the contract that should be ensured before opening the <a class="el" href="classorg_1_1libelektra_1_1KDB.html" title="Represents a session with the Elektra key database.">KDB</a> all data is copied and the <a class="el" href="classorg_1_1libelektra_1_1KeySet.html" title="Java representation of a native Elektra key set, a container for keys.">KeySet</a> can safely be used for e.g. <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2" title="Retrieve keys in an atomic and universal way.">kdbGet()</a> later </td></tr>
    <tr><td class="paramname">errorKey</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">Key </div>
</div><!-- fragment --> , where issued errors and warnings will be made available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>
<a class="el" href="">Pointer</a> to<div class="fragment"><div class="line">KDB handle </div>
</div><!-- fragment --> on success </li>
<li>
<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --> on failure </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a7b69b22fd8b712891d188215707e0540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b69b22fd8b712891d188215707e0540">&#9670;&nbsp;</a></span>kdbSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int org.libelektra.Elektra.kdbSet </td>
          <td>(</td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>keySet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pointer&#160;</td>
          <td class="paramname"><em>parentKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set keys in an atomic and universal way. </p>
<p><br  />
 <br  />
 For the particularities of error handling, please see the documentation of the native library: TODO #3754 link to C API documentation</p>
<p>@apiNote <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">kdbGet()</a> must be called before <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a7b69b22fd8b712891d188215707e0540">kdbSet()</a>: initially (after <a class="el" href="">kdbOpen()</a>) and also after conflict errors in <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a7b69b22fd8b712891d188215707e0540">kdbSet()</a>.</p>
<p>@implNote Optimization: Each key is checked using the native function underlying <a class="el" href="">keyNeedSync()</a> before being actually committed. If no key of a backend needs to be synced any affairs to backends are omitted and</p><div class="fragment"><div class="line">0 </div>
</div><!-- fragment --><p> is returned.<br  />
 It is your responsibility to save the original keyset if you need it afterwards.<br  />
 If you want to be sure to get a fresh keyset again, you need to open a second handle to the key database using <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a32639cf92429fe65bf3744a007d8647f" title="Opens the session with the Key database.">kdbOpen()</a>.</p>
<dl class="section see"><dt>See also</dt><dd>#keyNeedSync(Pointer) <a class="el" href="group__keytest.html#gaf247df0de7aca04b32ef80e39ef12950" title="Test if a key needs to be synced to backend storage.">keyNeedSync()</a> </dd>
<dd>
#kdbOpen(Pointer, Pointer) kdbopen() and </dd>
<dd>
<a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2" title="Retrieve keys in an atomic and universal way.">kdbGet(Pointer, Pointer, Pointer)</a> <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2" title="Retrieve keys in an atomic and universal way.">kdbGet()</a> must be called first </dd>
<dd>
<a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b" title="Closes the session with the Key database.">kdbClose(Pointer, Pointer)</a> <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a60cf0c7cefd0a6a34b4608bdc5eded4b" title="Closes the session with the Key database.">kdbClose()</a> must be called afterwards</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">KDB handle </div>
</div><!-- fragment --> as returned by <a class="el" href="">kdbOpen()</a>. </td></tr>
    <tr><td class="paramname">keySet</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --> containing modified keys, otherwise no update is done. </td></tr>
    <tr><td class="paramname">parentKey</td><td><a class="el" href="">Pointer</a> to a valid<div class="fragment"><div class="line">Key </div>
</div><!-- fragment --> . It is used to add warnings and set an error information. Additionally, its name is an hint which keys should be committed (it is possible that more are changed).<br  />
 With<div class="fragment"><div class="line">parentKey </div>
</div><!-- fragment --> you can give an hint which part of the given<div class="fragment"><div class="line">KeySet </div>
</div><!-- fragment --> is of interest to you. Then you promise to only modify or remove keys below this key. All others would be passed back as they were retrieved by <a class="el" href="interfaceorg_1_1libelektra_1_1Elektra.html#a09ad2a446a215b6cce4cfb31d9871ac2">kdbGet()</a>. <ul>
<li>
cascading keys (starting with "/") will set the path in all namespaces </li>
<li>
"/" will commit all keys </li>
<li>
metanames will be rejected (error C01320) </li>
<li>
empty/invalid (error C01320) </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>
<div class="fragment"><div class="line">1 </div>
</div><!-- fragment --> on success </li>
<li>
<div class="fragment"><div class="line">0 </div>
</div><!-- fragment --> if nothing had to be done, no changes in <a class="el" href="classorg_1_1libelektra_1_1KDB.html" title="Represents a session with the Elektra key database.">KDB</a> </li>
<li>
<div class="fragment"><div class="line">-1 </div>
</div><!-- fragment --> on failure or<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --> pointer passed. No changes in <a class="el" href="classorg_1_1libelektra_1_1KDB.html" title="Represents a session with the Elektra key database.">KDB</a>, an error will be set on<div class="fragment"><div class="line">parentKey </div>
</div><!-- fragment --> if possible </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ae437441010a3a634a39107e37808cbd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae437441010a3a634a39107e37808cbd1">&#9670;&nbsp;</a></span>keyNew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Pointer org.libelektra.Elektra.keyNew </td>
          <td>(</td>
          <td class="paramtype">@Nullable String&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">@Nullable Object...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A practical way to fully create a <a class="el" href="classorg_1_1libelektra_1_1Key.html" title="Key represents an native Elektra key providing access to its name, value and meta information.">Key</a> object in one step. </p>
<p><br  />
 <br  />
 For examples and further particularities, please see the documentation of the native library: TODO #3754 link to C API documentation</p>
<dl class="section see"><dt>See also</dt><dd>#keyDel(Pointer) <a class="el" href="group__key.html#ga3df95bbc2494e3e6703ece5639be5bb1" title="A destructor for Key objects.">keyDel()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>A valid name to the key, or <a class="el" href="">KEY_NAME_SIMPLE_INITALIZED_BUT_EMPTY_OBJECT</a> to get a simple initialized, but really empty, object. </td></tr>
    <tr><td class="paramname">args</td><td>Argument flags, each followed by a corresponding value, if appropriate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>
A <a class="el" href="">Pointer</a> to a newly allocated and initialized <div class="fragment"><div class="line">Key </div>
</div><!-- fragment --> object on success </li>
<li>
<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --> on allocation error or if an invalid<div class="fragment"><div class="line">name </div>
</div><!-- fragment --> was passed (see <a class="el" href="">keySetName()</a> </li>
</ul>
</dd></dl>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>Elektra.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
