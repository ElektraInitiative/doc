<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: 0.8.21 Release</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">0.8.21 Release </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We are proud to release Elektra 0.8.21.</p>
<ul>
<li>guid: 7f5de1b1-6086-47a6-9922-cac08c898ae7</li>
<li>author: Markus Raab</li>
<li>pubDate: Fri, 22 Dec 2017 09:24:02 +0100</li>
<li>shortDesc: FOSDEM, New Book, Maturing of Plugins</li>
</ul>
<p>Elektra serves as a universal and secure framework to access configuration settings in a global, hierarchical key database. For more information, visit <a href="https://libelektra.org">https://libelektra.org</a>.</p>
<p>The news can be read rendered at <a href="https://www.libelektra.org/news/0.8.21-release">our web server</a>.</p>
<p>In this release 8 authors created 307 commits and changed 217 files (5227 insertions, 1914 deletions). The highlights of this release are:</p>
<ul>
<li>Fosdem Talk about Elektra was accepted</li>
<li>CC-licensed book about Elektra published</li>
<li>Maturing of plugins</li>
<li>Elektra with encryption</li>
<li>Preparation for switch to INI as default storage</li>
</ul>
<p>We are happy to announce that there will be a talk about Elektra in one of the <a href="https://fosdem.org/2018/schedule/event/elektra/">main tracks of Fosdem 2018</a>:</p>
<ul>
<li>Title: Configuration Revolution</li>
<li>Subtitle: Why it Needed 13 Years and How it Will be Done</li>
<li>Day: Saturday 2018-02-03</li>
<li>Start time: 15:00</li>
<li>Duration: 50 min</li>
<li>Room: K.1.105 (La Fontaine)</li>
</ul>
<p>And a second talk in the <a href="https://fosdem.org/2018/schedule/event/puppet_key_value/">Config Management DevRoom</a>:</p>
<ul>
<li>Title: Breaking with conventional Configuration File Editing</li>
<li>Subtitle: Puppet with a Key/Value API in a User Study</li>
<li>Day: Sunday 2018-02-04</li>
<li>Start time: 12:30</li>
<li>Duration: 25 min</li>
<li>Room: UA2.114 (Baudoux)</li>
</ul>
<p>See you in Brussels at 3 and 4 February 2018!</p>
<p>I will also be present in the <a href="http://cfgmgmtcamp.eu/">Config Management Camp</a> directly after Fosdem in Gent.</p>
<p>I am proud to release a book with the title "Context-aware Configuration" describing:</p>
<ul>
<li>the last 13 years of Elektra (focus on last 4 years with the questionnaire survey and code analysis),</li>
<li>the current state of Elektra, and</li>
<li>the long-term goals of Elektra (context-aware configuration).</li>
</ul>
<p>The Fosdem talk will cover some highlights from the book.</p>
<p>A huge thanks to everyone involved in the questionnaire survey, without you we would not have been able to collect all the information that led to the requirements for Elektra.</p>
<p>The LaTeX sources are available <a href="https://book.libelektra.org">here</a> and the compiled book can be downloaded from <a href="https://www.libelektra.org/ftp/elektra/publications/raab2017context.pdf">here</a>.</p>
<ul>
<li>The new <a href="https://www.libelektra.org/plugins/directoryvalue">Directory Value plugin</a> supports storage plugins such as <a href="https://www.libelektra.org/plugins/yajl">YAJL</a> and <a href="https://www.libelektra.org/plugins/yamlcpp">YAML CPP</a>. It adds extra leaf values for directories (keys with children) that store the data of their parents. This way plugins that normally are only able to store values in leaf keys are able to support arbitrary key sets.</li>
<li>The <a href="https://www.libelektra.org/plugins/yamlcpp">YAML CPP plugin</a> reads and writes <a href="http://yaml.org">YAML</a> data using <a href="https://github.com/jbeder/yaml-cpp">yaml-cpp</a>. The plugin supports arrays, binary data and metadata.</li>
<li>The Camel plugin stores data as simplified YAML flow lists containing double quoted keys and values. For proper YAML support please use the <a href="https://www.libelektra.org/plugins/yamlcpp">YAML CPP</a> instead.</li>
<li>The <a href="https://www.libelektra.org/plugins/mini">mINI plugin</a> reads and writes simple property list, separated by equal (<code>=</code>) signs.</li>
<li>The <a href="https://www.libelektra.org/plugins/xerces">xerces plugin</a> allows Elektra to read and write XML data. The plugin uses <a href="http://xerces.apache.org/xerces-c">Xerces-C++</a> for this task. It supports both arrays and metadata.</li>
<li>The <a href="https://www.libelektra.org/plugins/boolean">boolean plugin</a> normalizes boolean values such as <code>0</code>, <code>1</code>, <code>true</code> and <code>false</code>.</li>
<li>The <a href="https://www.libelektra.org/plugins/crypto">crypto plugin</a> and <a href="https://www.libelektra.org/plugins/fcrypt">fcrypt plugin</a> are described below.</li>
</ul>
<p>The plugins <code>fcrypt</code> and <code>crypto</code> are now considered stable. They are no longer tagged as <code>experimental</code>. While <code>crypto</code> encrypts individual values within configuration files, <code>fcrypt</code> encrypts and/or signs the whole configuration file.</p>
<p>For this release Peter Nirschl prepared a demo showing Elektra's cryptographic abilities:</p>
<p><a href="https://asciinema.org/a/153014"><img src="https://asciinema.org/a/153014.png" alt="asciicast" class="inline"/>
</a></p>
<p>Thanks to Peter Nirschl for this great work!</p>
<p>We plan to switch to INI as default storage instead of Elektra's infamous internal dump format.</p>
<p>As preparation work we implemented the <code>dini</code> plugin which transparently converts all <code>dump</code> files to <code>ini</code> files on any write attempt. Furthermore, we fixed most of the INI bugs which blocked INI to be the default storage.</p>
<p>Due to this progress we will likely switch to INI as default starting with the next release. If you want to, you can switch now by compiling Elektra with:<br />
 <code>-DKDB_DEFAULT_STORAGE=dini</code></p>
<p>Or simply switch for your installation with:<br />
 <code>sudo kdb change-default-storage dini</code></p>
<p>If you are already using <code>ini</code> as default, changing to <code>dini</code> will:</p>
<ul>
<li>add some overhead because <code>dini</code> always checks if a file uses the <code>dump</code> format, unless the <code>dump</code> plugin is not installed.</li>
<li>add support for binary values using the <code>binary</code> plugin</li>
</ul>
<blockquote class="doxtable">
<p>NOTE: INI (dini) was not completely ready for 0.8.21 thus we kept <code>dump</code> as default. <code>dini</code> is currently an experimental plugin. </p>
</blockquote>
<p>We added even more functionality, which could not make it to the highlights:</p>
<ul>
<li><code>kdb rm</code> now supports <code>-f</code> to ignore non-existing keys</li>
<li>use <code>%</code> as profile name to disable reading from any profile</li>
<li>The new function <code>elektraArrayDecName</code>:</li>
</ul>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="array_8c.html#a4376537e9d6545dd26afe0c6c62dd9ed">elektraArrayDecName</a> (Key * key);</div></div><!-- fragment --><p>decreases the index of an array element by one. It can be used to reverse the effect of <code>elektraArrayIncName</code>, thanks to René Schwaiger</p>
<p>We improved the documentation in the following ways:</p>
<ul>
<li>We renamed our beginner friendly issues to "good first issue" as recommended by GitHub.</li>
<li>In many parts of the documentation we already switched to American spelling thanks to René Schwaiger</li>
<li>Added more <a href="https://master.libelektra.org/scripts/sed">automatic spelling corrections</a> thanks to René Schwaiger</li>
<li>Fixed many spelling mistakes thanks to René Schwaiger</li>
<li>We extended the ReadMe of the <code>jni</code> plugin. The ReadMe now also contains information about the Java prerequisites of the <code>jni</code> plugin on Debian Stretch.</li>
<li>Improved notes about testing thanks to Thomas Wahringer</li>
<li>qt-gui: give hints which package to install</li>
<li>The build phrases <code>jenkins build all please</code> and <code>jenkins build doc please</code> were documented thanks to René Schwaiger</li>
<li>Documentation for libelektra-invoke was added</li>
</ul>
<p>As always, the ABI and API of kdb.h is fully compatible, i.e. programs compiled against an older 0.8 version of Elektra will continue to work (ABI) and you will be able to recompile programs without errors (API).</p>
<p>All unit tests of 0.8.20 run successfully with Elektra 0.8.21. There are, however, some additions and changes in rarely used interfaces:</p>
<ul>
<li>added <code>elektraArrayDecName</code> and <code>elektraArrayValidateName</code> in libease</li>
<li>fixed <code>kdbinvoke.h</code> interface: make structure private and complete API</li>
<li>fixed <code>xmlns</code> and <code>xsi:schemaLocation</code> to be <code><a href="https://www.libelektra.org">https://www.libelektra.org</a></code></li>
<li>the private header file <code><a class="el" href="kdbopmphm_8h.html" title="Defines for the Order Preserving Minimal Perfect Hash Map.">kdbopmphm.h</a></code> got nearly rewritten</li>
</ul>
<p>These notes are of interest for people maintaining packages of Elektra:</p>
<ul>
<li>We added the following files in this release:<ul>
<li><code>libelektra-dini.so</code></li>
<li><code>libelektra-directoryvalue.so</code></li>
<li><code>testmod_directoryvalue</code></li>
</ul>
</li>
<li>The following plugins are not marked as experimental anymore:<ul>
<li><code>camel</code></li>
<li><code>crypto</code></li>
<li><code>mini</code></li>
<li><code>xerces</code></li>
<li><code>yamlcpp</code></li>
</ul>
</li>
<li>The binding <code>intercept-fs</code> is now marked more clearly as experimental</li>
<li>The <code>jni</code> plugin is again experimental because it does not work with some Java systems. For the <code>lua</code> plugin there are also problems with some Lua systems.</li>
</ul>
<p>These notes are of interest for people developing Elektra:</p>
<ul>
<li>From now on release notes are written as part of PRs</li>
<li>Elektra Initiative is spelled as two words</li>
<li>At some more places we switched to use the logger, thanks to René Schwaiger</li>
<li>Shell Recorder got many improvements, see below in Testing. Please use it.</li>
<li>The plugin's template now adds all placements within backends by default (must be removed accordingly).</li>
<li>We now warn if plugins do not have any placement.</li>
<li>Please prefer -log and -debug builds</li>
<li>The build server now understands the build phrase <code>jenkins build all please</code> thanks to René Schwaiger. Please use it carefully, since it puts our <a href="https://build.libelektra.org/">build server</a> under heavy load.</li>
<li>Markdown Shell Recorder Syntax recommended when reporting bugs.</li>
<li>Elektra's <a href="https://master.libelektra.org/scripts/docker/legacy/Dockerfile">Dockerfile</a> was improved and simplified, thanks to Thomas Wahringer.</li>
<li>Add more Explanations how to do Fuzz Testing</li>
<li>Started documenting disabled tests in <a href="https://master.libelektra.org/doc/todo/TESTING">doc/todo/TESTING</a></li>
<li>You now can use <code>tests/icheck.suppression</code> to disable already checked API changes.</li>
<li>The (hopefully) last Sourceforge references were removed and a redirection page was added, thanks to @the-Arioch for reporting.</li>
</ul>
<ul>
<li>AFL unveiled some crashes in INI code</li>
<li>fix OCLint problems, thanks to René Schwaiger</li>
<li>fix ASAN problems, thanks to René Schwaiger</li>
<li>disabled non-working tests</li>
<li>Shell recorder</li>
<li>Benchmark optionally also works with OpenMP, thanks to Kurt Micheli</li>
<li>The Shell Recorder now uses <code>kdb-static</code> or <code>kdb-full</code> if <code>kdb</code> is not available (<code>BUILD_SHARED=OFF</code>)</li>
</ul>
<p>Many problems were resolved with the following fixes:</p>
<ul>
<li>fix use of <code>dbus_connection_unref(NULL)</code> API thanks to Kai-Uwe Behrmann</li>
<li>Properly include headers for <code>std::bind</code> thanks to Nick Sarnie</li>
<li>qt-gui: assure active focus on appearance selection window thanks to Raffael Pancheri</li>
<li>René Schwaiger repaired the <code>boolean</code> plugin:<ul>
<li>wrong metadata was used</li>
<li>plugin configuration was missing</li>
<li>documentation was missing</li>
<li>logging code was added</li>
</ul>
</li>
<li>René Schwaiger repaired many problems different build agents had</li>
<li><code>kdb info -l</code> does not open <code>KDB</code> anymore.</li>
<li><code>change-resolver-symlink</code> and <code>change-storage-symlink</code> now correctly use <code>@TARGET_PLUGIN_FOLDER@</code></li>
<li>date plugin will be removed on attempts to compile it with gcc 4.7, thanks to René Schwaiger</li>
<li>C plugin: storage/c metadata added</li>
<li>fix disabling documentation in CMake, thanks to Kurt Micheli</li>
<li>Simplify <code>elektraArrayValidateName</code>, thanks to René Schwaiger</li>
</ul>
<p>The Order Preserving Minimal Perfect Hash Map (OPMPHM) is ready to extend <code>ksLookup</code>. The implementation of the randomized Las Vegas hash map algorithm is in a final stage and the heuristic functions that ensure time and space optimality are backed up by benchmarks. Thanks to Kurt Micheli, the next release will include the OPMPHM!</p>
<p>You can download the release from <a href="https://www.libelektra.org/ftp/elektra/releases/elektra-0.8.21.tar.gz">here</a> or <a href="https://github.com/ElektraInitiative/ftp/blob/master/releases/elektra-0.8.21.tar.gz?raw=true">GitHub</a></p>
<p>The <a href="https://github.com/ElektraInitiative/ftp/blob/master/releases/elektra-0.8.21.tar.gz.hashsum?raw=true">hashsums are:</a></p>
<ul>
<li>name: elektra-0.8.21.tar.gz</li>
<li>size: 4712043</li>
<li>md5sum: d627a01a0249fde46e80042c848d4521</li>
<li>sha1: a7659a7bb1b2388d03cdf0084160de612e5c4511</li>
<li>sha256: 51892570f18d1667d0da4d0908a091e41b41c20db9835765677109a3d150cd26</li>
</ul>
<p>The release tarball is also available signed by me using GnuPG from <a href="https://www.libelektra.org/ftp/elektra/releases/elektra-0.8.21.tar.gz.gpg">here</a> or <a href="https://github.com/ElektraInitiative/ftp/blob/master/releases//elektra-0.8.21.tar.gz.gpg?raw=true">GitHub</a></p>
<p>Already built API-Docu can be found <a href="https://doc.libelektra.org/api/0.8.21/html/">online</a> or <a href="https://github.com/ElektraInitiative/doc/tree/master/api/0.8.21">GitHub</a>.</p>
<p>Subscribe to the <a href="https://www.libelektra.org/news/feed.rss">RSS feed</a> to always get the release notifications.</p>
<p>For any questions and comments, please contact the issue tracker <a href="http://issues.libelektra.org">on GitHub</a> or me by email using <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<p><a href="https://www.libelektra.org/news/0.8.21-release">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="https://libelektra.org">https://libelektra.org</a></p>
<p>Best regards, Markus Raab for the <a href="https://www.libelektra.org/developers/authors">Elektra Initiative</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
