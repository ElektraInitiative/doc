<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Version</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Version </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The version of Elektra is handled with the kdb.h macros <code>KDB_VERSION</code> which is a string and <code>KDB_VERSION_MAJOR</code>, <code>KDB_VERSION_MINOR</code> and <code>KDB_VERSION_MICRO</code> which are numbers. They represent the public announced version information.</p>
<p>The same information can be retrieved at run-time using</p>
<div class="fragment"><div class="line">system/elektra/version/constants/KDB_VERSION</div><div class="line">system/elektra/version/constants/KDB_VERSION_MAJOR</div><div class="line">system/elektra/version/constants/KDB_VERSION_MICRO</div><div class="line">system/elektra/version/constants/KDB_VERSION_MINOR</div></div><!-- fragment --><p>This is the API to programs using Elektra. Its interface is defined in src/include/kdb.h. Both applications and plugins use this API.</p>
<p>Additionally there is also a very small API to plugins. It consists of only 5 functions and is described in <a href="/home/markus/Projekte/Elektra/current/src/plugins/doc/doc.c">src/plugins/doc/doc.c</a>.</p>
<h2>Compatibility</h2>
<p>This section describes under which circumstances API and ABI incompatibilities may occur. As developer from Elektra your mission is to avoid that. The tool icheck against the interfaces mentioned above may help you too.</p>
<p>In <code>0.8.*</code> the API and ABI must be always forward-compatible, but not backwards-compatible. That means that a program written and compiled against 0.8.0 compiles and links against 0.8.1. But because it is not necessarily backwards-compatible a program written for 0.8.1 may not link or compile against elektra 0.8.0 (but it may do when you use the compatible subset, maybe with #ifdefs).</p>
<p>Following points are allowed: When you add a new function you break ABI and API backward- compatibility, but not forward, so you are allowed to do so.</p>
<p>In the signature you are only allowed to add const to any parameter. You are <em>not</em> allowed to use subtypes to the objects, in C means you are not allowed to call any functions of an object which appear new. C does <em>not</em> type check that, it's your responsibility.</p>
<p>What C also does not check are the pre and postconditions. That means you are not allowed to demand more client code (e.g. first accept a NULL pointer and in the next version you crash on it) and you are not allowed to return values that the previous version did not return. It is a complex topic, so better don't underestimate it, but generally said the methods should behave on the same data the same way.</p>
<p>References: <a href="http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html">http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html</a> <a href="http://packages.debian.org/de/sid/icheck">http://packages.debian.org/de/sid/icheck</a></p>
<h2>Increment</h2>
<p>This section describes how to increment the <code>KDB_VERSION</code>. It consists of a triplet integer <code>current:revision:age</code>.</p>
<p><code>revision</code> is something which will always incremented when there is a new bug fix release.</p>
<p><code>current</code> and <code>age</code> will be incremented by one when you release a compatible but changed API. The revision is set back to zero then.</p>
<p>Note: All 3 versioning infos are handled separately!</p>
<p><a href="http://www.gnu.org/software/libtool/manual/libtool.html#Versioning">http://www.gnu.org/software/libtool/manual/libtool.html#Versioning</a> <a href="http://semver.org/">http://semver.org/</a></p>
<blockquote class="doxtable">
<p>TODO write about SO_VERSION and rest version</p>
</blockquote>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
