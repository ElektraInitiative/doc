\label{doc_decisions_6_implemented_multiple_file_backends_md_md_doc_decisions_6_implemented_multiple_file_backends}%
\Hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_md_doc_decisions_6_implemented_multiple_file_backends}%
 A file backend refers to exactly one file per namespace. This file can be returned using {\ttfamily kdb file}.\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2475}{}\doxysection{Problem}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2475}
In some situations a single mountpoint refers to more than one file per namespace\+:


\begin{DoxyItemize}
\item For XDG in the {\ttfamily system} namespace may contain several files (XDG\+\_\+\+CONFIG\+\_\+\+DIRS).
\item A fallback file if some data cannot be stored in some format (Idea from @kodebach\+: writing the same content to several files, merging when reading)
\end{DoxyItemize}\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2476}{}\doxysection{Constraints}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2476}
\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2477}{}\doxysection{Assumptions}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2477}
\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2478}{}\doxysection{Considered Alternatives}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2478}
\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2479}{}\doxysection{Decision}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2479}
Multiple File Backends are not supported in the case of writing files.

Multiple sources in one namespace only work, if the fallback Key\+Set is part of the mountpoint config. That way any change to the fallback Key\+Set would essentially make the whole thing a different mountpoint and thereby invalidate all guarantees.\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2480}{}\doxysection{Rationale}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2480}
Writeable multiple file backends would\+:


\begin{DoxyItemize}
\item make it impossible for admins to modify content of all files using Elektra
\item do not work atomically (a journal would be needed)
\item do not work together with mmap (as it only checks one file for cache misses)
\end{DoxyItemize}\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2481}{}\doxysection{Implications}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2481}
See Rationale.\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2482}{}\doxysection{Related Decisions}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2482}
\hypertarget{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2483}{}\doxysection{Notes}\label{doc_decisions_6_implemented_multiple_file_backends_md_autotoc_md2483}
