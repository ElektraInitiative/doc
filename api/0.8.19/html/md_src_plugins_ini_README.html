<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Elektra: Plugin: ini</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.8.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Plugin: ini </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about ini plugin is in keys below</li>
<li>infos/author = Thomas Waser <a href="#" onclick="location.href='mai'+'lto:'+'tho'+'ma'+'s.w'+'as'+'er@'+'li'+'bel'+'ek'+'tra'+'.o'+'rg'; return false;">thoma<span style="display: none;">.nosp@m.</span>s.wa<span style="display: none;">.nosp@m.</span>ser@l<span style="display: none;">.nosp@m.</span>ibel<span style="display: none;">.nosp@m.</span>ektra<span style="display: none;">.nosp@m.</span>.org</a> Felix Berlakovich <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'be'+'rla'+'ko'+'vic'+'h.'+'net'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@b<span style="display: none;">.nosp@m.</span>erlak<span style="display: none;">.nosp@m.</span>ovic<span style="display: none;">.nosp@m.</span>h.net</a></li>
<li>infos/licence = BSD</li>
<li>infos/provides = storage/ini</li>
<li>infos/needs =</li>
<li>infos/placements = getstorage setstorage</li>
<li>infos/status = maintained unittest nodep libc configurable 1000</li>
<li>infos/description = storage plugin for ini files</li>
</ul>
<p>This plugin allows read/write of INI files. INI files consist of simple key value pairs of the form <code>key = value</code>. Additionally keys can be categorised into different sections. Sections must be enclosed in "[]", for example "[section]". Each section is converted into a directory key (without value) and keys below the section are located below the section key. If the same section appears multiple times, the keys of all sections with the same name are merged together under the section key.</p>
<p>The plugin is feature rich and customizable (+1000 in status)</p>
<h2>Usage</h2>
<p>If you want to add an ini file to the global key database, simply use mount: </p><pre class="fragment">kdb mount file.ini /example ini
</pre><p>Then you can modify the contents of the ini file using set: </p><pre class="fragment">kdb set user/example/key value
kdb set user/example/section
kdb set user/example/section/key value
</pre><p>Find out which file you modified: </p><pre class="fragment">kdb file user/example
</pre><h2>Comments</h2>
<p>The ini plugin supports the use of comments. Comment lines start with a ';' or a '#'. Adjacent comments are merged together (separated by "\n") and are put into the comment metadata of the key following the comment. This can be either a section key or a normal key.</p>
<h2>Multi-Line Support</h2>
<p>The ini plugin supports multiline ini values. Continuations of previous values have to start with whitespace characters.</p>
<p>For example consider the following ini file:</p>
<p>```ini key1 = value1 key2 = value2 with continuation lines ```</p>
<p>This would result in a KeySet containing two keys. One key named <code>key1</code> with the value <code>value1</code> and another key named <code>key2</code> with the value <code>value2\nwith continuation\nlines</code>.</p>
<p>By default this feature is enabled.</p>
<h2>Arrays</h2>
<p>The ini plugin handles repeating keys by turning them into an elektra array when the <code>array</code> config is set.</p>
<p>For example a ini file looking like:</p>
<p>```ini [sec] a = 1 a = 2 a = 3 a = 4 ```</p>
<p>will be interpreted as</p>
<p>```ini /sec /sec/a /sec/a/#0 /sec/a/#1 /sec/a/#2 /sec/a/#3 ```</p>
<h2>Sections</h2>
<p>The ini plugin supports 3 different sectioning modes (via <code>section=</code>):</p>
<ul>
<li><code>NONE</code> sections wont be printed as <code>[Section]</code> but as part of the key name <code>section/key</code></li>
<li><code>NULL</code> only binary keys will be printed as <code>[Section]</code></li>
<li><code>ALWAYS</code> sections will be created automatically. This is the default setting:</li>
</ul>
<p>``` $ kdb mount /empty.ini dir/empty ini $ kdb set dir/empty/a/b ab $ kdb get dir/empty/a # &lt;&ndash; key is suddenly here $ cat empty.ini [a] b = ab ```</p>
<p>By changing the option <code>section</code> you can suppress the automatic creation of keys. E.g., if you use <code>NULL</code> instead you only get a section if you explicitly create it:</p>
<p>``` $ kdb mount /empty.ini dir/empty ini section=NULL $ kdb set dir/empty/a/b ab $ kdb get dir/empty/a # no key here $ cat empty.ini a/b = ab $ kdb rm dir/empty/a/b $ kdb set dir/empty/a # create section first $ kdb set dir/empty/a/b ab $ cat empty.ini [a] b = ab ```</p>
<h3>Merge Sections</h3>
<p>The ini plugin supports merging duplicated section entries when the <code>mergesections</code> config is set. The keys will be appended to the first occurrence of the section key.</p>
<h2>Ordering</h2>
<p>The ini plugin preserves the order. Inserted subsections get appended to the corresponding parent section and new sections by name.</p>
<p>Example:</p>
<p>``` % cat test.ini</p>
<p>[Section1] key1 = val1 [Section3] key3 = val3</p>
<p>% kdb set system/test/Section1/Subsection1/subkey1 subval1 % kdb set system/test/Section2/key2 val2 % cat test.ini</p>
<p>[Section1] key1 = val1 [Section1/Subsection1] subkey1 = subval1 [Section2] key2 = val2 [Section3] key3 = val3 ``` </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
