<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: How-To: kdb import</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How-To: kdb import </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_tutorials_import"></a> </p>
<h1><a class="anchor" id="autotoc_md4423"></a>
Introduction</h1>
<p>The kdb tool allows users to interact with Elektraâ€™s Key Database via the command line. This tutorial explains the import function of kdb. This command lets you import Keys from the Elektra Key Database.</p>
<p>The command to use kdb import is:</p>
<div class="fragment"><div class="line">kdb import [options] destination [format]</div>
</div><!-- fragment --><p>In this command, <code>destination</code> is where the imported Keys should be stored below. For instance, <code>kdb import system:/imported</code> would store all the keys below <code>system:/imported</code>. This command takes Keys from <code>stdin</code> to store them into the Elektra Key Database. Typically, it is used with a pipe to read in the Keys from a file.</p>
<h2><a class="anchor" id="autotoc_md4424"></a>
Format</h2>
<p>The format argument can be a very powerful option to use with kdb import. The format argument allows a user to specify which plugin is used to import the Keys into the Key Database. The user can specify any storage plugin to serve as the format for the Keys to be imported. For instance, if a user wanted to import a <code>/etc/hosts</code> file into KDB without mounting it, they could use the command <code>cat /etc/hosts | kdb import system:/hosts hosts</code>. This command would essentially copy the current hosts file into KDB, like mounting it. Unlike mounting it, changes to the Keys would not be reflected in the hosts file and vise versa.</p>
<h3><a class="anchor" id="autotoc_md4425"></a>
Dump Format</h3>
<p>The dump does not rename keys by design. If a user exports a KeySet using dump using a command such as <code>kdb export system:/backup &gt; backup.ecf</code>, they can only import that keyset back into <code>system:/backup</code> using a command like <code>cat backup.ecf | kdb import system:/backup</code>.</p>
<h1><a class="anchor" id="autotoc_md4426"></a>
Options</h1>
<p>The kdb import command only takes one special option <code>-s &lt;name&gt;</code> or alternatively <code>--strategy &lt;name&gt;</code>, which is used to specify a strategy.</p>
<h1><a class="anchor" id="autotoc_md4427"></a>
Example</h1>
<div class="fragment"><div class="line">cat backup.ecf | kdb import system:/backup</div>
</div><!-- fragment --><p>This command would import all keys stored in the file <code>backup.ecf</code> into the Key Database under <code>system:/backup</code>.</p>
<p>In this example, <code>backup.ecf</code> was exported from the KeySet using the dump format by using the command:</p>
<div class="fragment"><div class="line">kdb export system:/backup &gt; backup.ecf</div>
</div><!-- fragment --><p><code>backup.ecf</code> contains all the information about the keys below <code>system:/backup</code>:</p>
<div class="fragment"><div class="line">cat backup.ecf</div>
<div class="line">#&gt; kdbOpen 1</div>
<div class="line">#&gt; ksNew 3</div>
<div class="line">#&gt; keyNew 19 0</div>
<div class="line">#&gt; system:/backup/key1</div>
<div class="line">#&gt; keyMeta 7 1</div>
<div class="line">#&gt; binary</div>
<div class="line">#&gt; keyEnd</div>
<div class="line">#&gt; keyNew 19 0</div>
<div class="line">#&gt; system:/backup/key2</div>
<div class="line">#&gt; keyMeta 7 1</div>
<div class="line">#&gt; binary</div>
<div class="line">#&gt; keyEnd</div>
<div class="line">#&gt; keyNew 19 0</div>
<div class="line">#&gt; system:/backup/key3</div>
<div class="line">#&gt; keyMeta 7 1</div>
<div class="line">#&gt; binary</div>
<div class="line">#&gt; keyEnd</div>
<div class="line">#&gt; ksEnd</div>
</div><!-- fragment --><p>Before the import command, <code>system:/backup</code> does not exists and no keys are contained there. After the import command, running the command <code>kdb ls system:/backup</code> prints:</p>
<div class="fragment"><div class="line">system:/backup/key1</div>
<div class="line">system:/backup/key2</div>
<div class="line">system:/backup/key3</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
