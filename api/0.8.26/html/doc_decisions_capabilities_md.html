<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Capabilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.8.26</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Capabilities </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Problem</h2>
<p>Every backend, except <code>filesys</code>, was unable to represent full file system semantics. Capabilities described the differences between <code>filesys</code> and another backend. (For POSIX file systems a similar technique is <code>pathconf()</code>. It allows the user to query the capabilities of a specific mounted file system given by path.) Capabilities made it possible to implement a backend different from the way <code>filesys</code> works and let the backend still have predictable behavior. The user could query a backend if it was capable of a specific detail of file system semantics.</p>
<p>Capabilities were initially introduced to make backend development easier, because they also expressed the disabilities of a backend. For example, it was possible for a backend to claim that it is not aware of comments.</p>
<p>Getting a single key works well for <code>filesys</code>. However, for configuration files the whole content must be parsed even for a single key. Capabilities were able to describe that the backend will always retrieve and store all keys and will not be able to retrieve and store individual keys. This restriction simplified the implementation of such backends considerably. Capabilities allowed us to implement fstab, passwd and hosts backends.</p>
<p>But we soon found the limits of capabilities. Capabilities were unable to describe:</p>
<ul>
<li>that some key names are not allowed.</li>
<li>that not every structure of configuration is allowed.</li>
<li>that some characters are not allowed.</li>
<li>that only specific key values are allowed.</li>
</ul>
<h2>Constraints</h2>
<h2>Assumptions</h2>
<h2>Considered Alternatives</h2>
<h2>Decision</h2>
<p>No capabilities are used, but instead other plugins implement the limitations other plugins have.</p>
<h2>Rationale</h2>
<p>The main problem was that the complexity was just moved to the applications. In the end, application developers had to understand what the backend can write out. They no longer had confidence that the storage was able to understand the full semantics. Elektraâ€™s core was unable to hide that fact. Capabilities did not turn out to make backend development much easier. Instead, Elektra was more difficult to use with capabilities. Capabilities are no longer part of Elektra for these reasons.</p>
<h2>Implications</h2>
<h2>Related decisions</h2>
<h2>Notes</h2>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
