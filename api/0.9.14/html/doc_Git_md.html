<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Git</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.9.14</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Git </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_Git"></a> </p>
<h1><a class="anchor" id="autotoc_md2694"></a>
Cheat Sheet: Basic Git Commands</h1>
<div class="fragment"><div class="line">git add readme.md   # adds the changes of the file `readme.md` to the staging area</div>
<div class="line">git add .           # adds all changes of files in the current directory (recursively) to the staging area</div>
<div class="line">git add --all       # adds all changes of files in the repository to the staging area</div>
<div class="line">git commit -a       # executes a commit that automatically stages all changed and deleted files before</div>
<div class="line">git checkout -b     # Create a new local branch based on the current branch</div>
<div class="line">git pull            # Pull changes from the current remote branch</div>
<div class="line">git push            # Push changes to the current remote branch</div>
<div class="line">git stash           # Puts all changes in an dirty wirkling directory aside</div>
<div class="line">git stash apply     # Reapplies stashed changes on the current branch</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2695"></a>
Installation</h1>
<ul>
<li><a href="https://git-scm.com/download/win">Windows</a></li>
<li><a href="https://git-scm.com/download/mac">macOS</a></li>
<li><a href="https://git-scm.com/download/linux">Linux</a></li>
</ul>
<p>If you are uncomfortable with command line interfaces, there are also <a href="https://git-scm.com/downloads/guis">plenty of GUI options available</a>.</p>
<h1><a class="anchor" id="autotoc_md2696"></a>
Basic Configuration</h1>
<p>To configure git, you can use the <code>git config</code> command. You can configure each project individually, just by running <code>git config &lt;setting&gt; &lt;value&gt;</code> anywhere within a checked out repository, or for all projects for a user on the local machine using <code>git config --global &lt;setting&gt; &lt;value&gt;</code>. We recommend you set the following configuration options, when using git:</p>
<div class="fragment"><div class="line">git config merge.ff false # Git will always create a commit, when trying to merge</div>
<div class="line">git config pull.rebase true # Automatically rebase when pulling</div>
</div><!-- fragment --><p>Also ensure that you have your username and e-mail configured, so your work can be attributed to you:</p>
<div class="fragment"><div class="line">git config --global user.name &quot;Your Name&quot;</div>
<div class="line">git config --global user.email &quot;yourname@yourdomain.com&quot;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2697"></a>
The Commit Message</h1>
<p>A commit message should have the following syntax: <code>component: short change description</code></p>
<p>For a clean and meaningful log the commit message should fulfill the following:</p>
<ul>
<li>use imperative in the subject line</li>
<li>the subject line should not be longer than 50 characters</li>
<li>start the subject line with the module name (e.g. resolver:, cpp bindings:)</li>
<li>separate subject from body with a blank line</li>
<li>in the body describe in detail what you did, and possibly why</li>
<li>metadata like "Fixes #123" should be kept at the bottom of the commit message and definitely not in the title</li>
</ul>
<p>Most commits should have a longer description in the body.</p>
<h2><a class="anchor" id="autotoc_md2698"></a>
GitHub: Attributing Co-Authors</h2>
<p>If multiple people worked on a commit, GitHub, supports a nice way to represent this. You can attribute them by leaving two blank lines at the end and then add a single line of <code>Co-authored-by: NAME &lt;NAME@EXAMPLE.COM&gt;</code> for every other person that worked on it. <a href="https://docs.github.com/en/pull-requests/committing-changes-to-your-project/creating-and-editing-commits/creating-a-commit-with-multiple-authors">More Details here</a></p>
<h1><a class="anchor" id="autotoc_md2699"></a>
Remote Branches</h1>
<p>To list all remote branches use:</p>
<div class="fragment"><div class="line">git branch -a</div>
</div><!-- fragment --><p>To checkout a remote branch initially use:</p>
<div class="fragment"><div class="line">git checkout -b &lt;branchname&gt; origin/&lt;branchname&gt;</div>
</div><!-- fragment --><p>Once you have done this, it will be a local branch, too. Following remote branches should exist: </p><pre class="fragment">master
</pre><p> This is the development branch. Please try to not work directly on it, but instead you should use feature branches. So the only commits on master should be non-fastforward merges from features branches. Commits on master should always compile, and all test cases should pass successfully. (see config option above)</p>
<h2><a class="anchor" id="autotoc_md2700"></a>
Communication Methods</h2>
<p>To communicate with remote branches, Git supports the file protocol (acessible through the local file system), http and ssh. We generally recommend ssh, as it is encrypted and authentication with ssh-keys is simple and secure.</p>
<h3><a class="anchor" id="autotoc_md2701"></a>
GitHub: Adding/creating an SSH Key</h3>
<p>GitHub supports both HTTP and SSH for communication. Using SSH, you can remove the annoyance of having to enter your password every time. To learn how to add an SSH-Key follow <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">this guide provided by GitHub</a>.</p>
<h1><a class="anchor" id="autotoc_md2702"></a>
Local Branches</h1>
<p>You should always make your own feature branch with:</p>
<div class="fragment"><div class="line">git checkout -b &lt;feature-branch-name&gt;</div>
</div><!-- fragment --><p>On this branch it is not so important that every commit compiles or all test cases run.</p>
<p>To merge a branch use (no-fastforward):</p>
<div class="fragment"><div class="line">git merge --no-ff &lt;branchname&gt;</div>
</div><!-- fragment --><p>If you already did some commits, but want them in a branch, you can do:</p>
<div class="fragment"><div class="line">git branch foo</div>
<div class="line">git reset HEAD^^  # for 2 commits back</div>
<div class="line">git reset origin/master</div>
<div class="line"> </div>
<div class="line">git-ref-log # recover</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2703"></a>
Working with forks</h1>
<p>We recommend you use your own fork of the main <code>libelektra</code> repository, if you want to contribute. For more information on creating a fork, please take a look at <a href="https://docs.github.com/en/github/getting-started-with-github/fork-a-repo">GitHub's tutorial</a>.</p>
<p>Once you have set up and cloned your fork, you need to keep it in sync with the main repository. To do that, we recommend you never directly commit anything to your fork's <code>master</code> branch. You also need to add a remote for the main repository:</p>
<div class="fragment"><div class="line"># We assume the remote for your fork is called `origin` (the default).</div>
<div class="line">git remote add upstream https://github.com/ElektraInitiative/libelektra.git</div>
</div><!-- fragment --><p>When you want to sync changes from the main repository into your fork, you can use these commands:</p>
<div class="fragment"><div class="line">git fetch upstream master:master</div>
<div class="line">git push orign master:master</div>
</div><!-- fragment --><blockquote class="doxtable">
<p><b>Note</b>: These commands work with any branch checked out. You don't need to switch to the <code>master</code> branch first. However, this only works, if you have not modified your <code>master</code> branch, i.e. the latest commit in your forked <code>master</code> branch was once the latest commit in the main <code>master</code> branch. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md2704"></a>
Rebasing branches</h1>
<p>When you work on a local feature branch, it might happen that a change occurs within the master branch, that introduces merge conflicts. I.e. if you create a pull request, it cannot be merged into master automatically anymore. In these cases, we expect you to rebase your feature branch, so it can be merged automatically once again.</p>
<p>To achieve this, make sure you have your master branch synced up. Then switch to the feature branch you want to update using <code>git checkout &lt;feature-branch-name&gt;</code> and then type <code>git rebase master</code>. Sometimes, this will result in a merge conflict.</p>
<p>If you already have pushed changes from your feature branch to a remote branch, you'll need to either overwrite it using <code>git push --force</code> or push to a new remote branch.</p>
<h2><a class="anchor" id="autotoc_md2705"></a>
Resolving merge conflicts</h2>
<p>To resolve merge conflicts, edit the files that need to be merged manually. You can check which files need to be merged using <code>git status</code>. After you are done merging a file manually, you can use <code>git add &lt;path-to-file&gt;</code> and when you have merged all files, continue with <code>git rebase --continue</code>.</p>
<blockquote class="doxtable">
<p><b>Note</b>: Keep in mind that manual merges within a rebase are potentially destructive. If you accidentally remove changes you've done in your feature branch, you might be able to recover them using <a href="https://git-scm.com/docs/git-reflog/2.39.0">git-reflog</a>, but they could also be deleted by the <a href="https://git-scm.com/docs/git-gc">git-gc</a>. If you're new to manually merging files, consider creating a new branch from your feature branch using <code>git checkout -b &lt;new-branch-name&gt;</code> on which you can perform the merge without risk. When you're stuck on a manual merge, you can also always abort the rebase using <code>git rebase --abort</code> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md2706"></a>
Further resources</h1>
<ul>
<li><a href="https://git-scm.com/book/en/v2">Git Book</a></li>
<li><a href="https://docs.github.com/en">GitHub Docs</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
