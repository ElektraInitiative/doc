\hypertarget{elektra_2plugin_8c}{}\doxysection{plugin.\+c File Reference}
\label{elektra_2plugin_8c}\index{plugin.c@{plugin.c}}


Interna of plugin functionality.  


{\ttfamily \#include $<$kdbassert.\+h$>$}\newline
{\ttfamily \#include $<$kdberrors.\+h$>$}\newline
{\ttfamily \#include $<$kdbinternal.\+h$>$}\newline
{\ttfamily \#include $<$kdbversion.\+h$>$}\newline
Include dependency graph for elektra/plugin.c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{elektra_2plugin_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{elektra_2plugin_8c_a0c1bb87ce27fcf307fa71468206872c2}{elektra\+Process\+Plugin}} (Key $\ast$cur, int $\ast$plugin\+Number, char $\ast$$\ast$plugin\+Name, char $\ast$$\ast$reference\+Name, Key $\ast$error\+Key)
\item 
int \mbox{\hyperlink{elektra_2plugin_8c_a2d7f402a564d2164783890d3e742b319}{elektra\+Process\+Plugins}} (Plugin $\ast$$\ast$plugins, Key\+Set $\ast$modules, Key\+Set $\ast$reference\+Plugins, Key\+Set $\ast$config, Key\+Set $\ast$system\+Config, Key\+Set $\ast$global, Key $\ast$error\+Key)
\begin{DoxyCompactList}\small\item\em Load a plugin. \end{DoxyCompactList}\item 
Plugin $\ast$ \mbox{\hyperlink{elektra_2plugin_8c_a32a70a7876542c51d153164ac5108a57}{elektra\+Plugin\+Open}} (const char $\ast$name, Key\+Set $\ast$modules, Key\+Set $\ast$config, Key $\ast$error\+Key)
\begin{DoxyCompactList}\small\item\em Opens a plugin. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{elektra_2plugin_8c_a9c44a58fa46e132d04a513ff9c453201}{elektra\+Plugin\+Get\+Function}} (Plugin $\ast$plugin, const char $\ast$name)
\begin{DoxyCompactList}\small\item\em Retrieves a function exported by a plugin. \end{DoxyCompactList}\item 
Plugin $\ast$ \mbox{\hyperlink{elektra_2plugin_8c_a7b3681aca8accc06b86d25a31cc82643}{elektra\+Plugin\+Find\+Global}} (KDB $\ast$handle, const char $\ast$plugin\+Name)
\begin{DoxyCompactList}\small\item\em Searches the global plugins for a given plugin name. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Interna of plugin functionality. 

\begin{DoxyCopyright}{Copyright}
BSD License (see LICENSE.\+md or \href{https://www.libelektra.org}{\texttt{ https\+://www.\+libelektra.\+org}}) 
\end{DoxyCopyright}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{elektra_2plugin_8c_a7b3681aca8accc06b86d25a31cc82643}\label{elektra_2plugin_8c_a7b3681aca8accc06b86d25a31cc82643}} 
\index{elektra/plugin.c@{elektra/plugin.c}!elektraPluginFindGlobal@{elektraPluginFindGlobal}}
\index{elektraPluginFindGlobal@{elektraPluginFindGlobal}!elektra/plugin.c@{elektra/plugin.c}}
\doxysubsubsection{\texorpdfstring{elektraPluginFindGlobal()}{elektraPluginFindGlobal()}}
{\footnotesize\ttfamily Plugin$\ast$ elektra\+Plugin\+Find\+Global (\begin{DoxyParamCaption}\item[{KDB $\ast$}]{handle,  }\item[{const char $\ast$}]{plugin\+Name }\end{DoxyParamCaption})}



Searches the global plugins for a given plugin name. 

NOTE\+: if the list plugin occupies the prerollback position, this queries the list plugin first, and only if we don\textquotesingle{}t find anything there, we look directly in the global plugins array


\begin{DoxyParams}{Parameters}
{\em handle} & The KDB handle to search \\
\hline
{\em plugin\+Name} & The plugin name to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the plugin handle, if found or NULL otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{elektra_2plugin_8c_a9c44a58fa46e132d04a513ff9c453201}\label{elektra_2plugin_8c_a9c44a58fa46e132d04a513ff9c453201}} 
\index{elektra/plugin.c@{elektra/plugin.c}!elektraPluginGetFunction@{elektraPluginGetFunction}}
\index{elektraPluginGetFunction@{elektraPluginGetFunction}!elektra/plugin.c@{elektra/plugin.c}}
\doxysubsubsection{\texorpdfstring{elektraPluginGetFunction()}{elektraPluginGetFunction()}}
{\footnotesize\ttfamily size\+\_\+t elektra\+Plugin\+Get\+Function (\begin{DoxyParamCaption}\item[{Plugin $\ast$}]{plugin,  }\item[{const char $\ast$}]{name }\end{DoxyParamCaption})}



Retrieves a function exported by a plugin. 


\begin{DoxyParams}{Parameters}
{\em plugin} & Plugin handle \\
\hline
{\em name} & Function name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to function. NULL if function not found or not enough memory available 
\end{DoxyReturn}
\mbox{\Hypertarget{elektra_2plugin_8c_a32a70a7876542c51d153164ac5108a57}\label{elektra_2plugin_8c_a32a70a7876542c51d153164ac5108a57}} 
\index{elektra/plugin.c@{elektra/plugin.c}!elektraPluginOpen@{elektraPluginOpen}}
\index{elektraPluginOpen@{elektraPluginOpen}!elektra/plugin.c@{elektra/plugin.c}}
\doxysubsubsection{\texorpdfstring{elektraPluginOpen()}{elektraPluginOpen()}}
{\footnotesize\ttfamily Plugin$\ast$ elektra\+Plugin\+Open (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{Key\+Set $\ast$}]{modules,  }\item[{Key\+Set $\ast$}]{config,  }\item[{Key $\ast$}]{error\+Key }\end{DoxyParamCaption})}



Opens a plugin. 

The config will be used as is. So be sure to transfer ownership of the config to it, with e.\+g. \mbox{\hyperlink{group__keyset_gac59e4b328245463f1451f68d5106151c}{ks\+Dup()}}. elektra\+Plugin\+Close() will delete the config.

\begin{DoxyReturn}{Returns}
a pointer to a new created plugin or 0 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{elektra_2plugin_8c_a0c1bb87ce27fcf307fa71468206872c2}\label{elektra_2plugin_8c_a0c1bb87ce27fcf307fa71468206872c2}} 
\index{elektra/plugin.c@{elektra/plugin.c}!elektraProcessPlugin@{elektraProcessPlugin}}
\index{elektraProcessPlugin@{elektraProcessPlugin}!elektra/plugin.c@{elektra/plugin.c}}
\doxysubsubsection{\texorpdfstring{elektraProcessPlugin()}{elektraProcessPlugin()}}
{\footnotesize\ttfamily int elektra\+Process\+Plugin (\begin{DoxyParamCaption}\item[{Key $\ast$}]{cur,  }\item[{int $\ast$}]{plugin\+Number,  }\item[{char $\ast$$\ast$}]{plugin\+Name,  }\item[{char $\ast$$\ast$}]{reference\+Name,  }\item[{Key $\ast$}]{error\+Key }\end{DoxyParamCaption})}


\begin{DoxyRetVals}{Return values}
{\em 1} & and an allocated string of the plugin\+Name if a new plugins should be created. \\
\hline
{\em 2} & and an allocated string of the reference\+Name if an old plugin should be used \\
\hline
{\em 3} & and both if a new plugin should be created and made available for later back referencing. \\
\hline
{\em -\/1} & on error \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{elektra_2plugin_8c_a2d7f402a564d2164783890d3e742b319}\label{elektra_2plugin_8c_a2d7f402a564d2164783890d3e742b319}} 
\index{elektra/plugin.c@{elektra/plugin.c}!elektraProcessPlugins@{elektraProcessPlugins}}
\index{elektraProcessPlugins@{elektraProcessPlugins}!elektra/plugin.c@{elektra/plugin.c}}
\doxysubsubsection{\texorpdfstring{elektraProcessPlugins()}{elektraProcessPlugins()}}
{\footnotesize\ttfamily int elektra\+Process\+Plugins (\begin{DoxyParamCaption}\item[{Plugin $\ast$$\ast$}]{plugins,  }\item[{Key\+Set $\ast$}]{modules,  }\item[{Key\+Set $\ast$}]{reference\+Plugins,  }\item[{Key\+Set $\ast$}]{config,  }\item[{Key\+Set $\ast$}]{system\+Config,  }\item[{Key\+Set $\ast$}]{global,  }\item[{Key $\ast$}]{error\+Key }\end{DoxyParamCaption})}



Load a plugin. 

The array of plugins must be set to 0. Its length is NR\+\_\+\+OF\+\_\+\+PLUGINS.

system\+Config will only be used, not deleted.


\begin{DoxyParams}{Parameters}
{\em config} & the config with the information how the plugins should be put together \\
\hline
{\em system\+Config} & the shared (system) config for the plugins. Every plugin additional get this config. \\
\hline
{\em global} & the global keyset of the KDB instance\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em -\/1} & on failure \\
\hline
\end{DoxyRetVals}
