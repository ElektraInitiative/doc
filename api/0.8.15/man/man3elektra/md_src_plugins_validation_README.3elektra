.TH "md_src_plugins_validation_README" 3elektra "Tue Feb 16 2016" "Version 0.8.15" "Elektra" \" -*- nroff -*-
.ad l
.nh
.SH NAME
md_src_plugins_validation_README \- Plugin: validation 

.IP "\(bu" 2
infos = Information about validation plugin is in keys below
.IP "\(bu" 2
infos/author = Markus Raab elektra@libelektra.org
.IP "\(bu" 2
infos/licence = BSD
.IP "\(bu" 2
infos/provides = check
.IP "\(bu" 2
infos/needs =
.IP "\(bu" 2
infos/placements = presetstorage
.IP "\(bu" 2
infos/status = maintained nodep libc
.IP "\(bu" 2
infos/metadata = check/validation check/validation/message
.IP "\(bu" 2
infos/description = Validates key values using regular expressions
.PP
.PP
This plugin is a check plugin which checks string values of Keys using regular expressions\&.
.PP
.SS "Usage"
.PP
The validation plugin looks for two metakeys\&. \fCcheck/validation\fP gives a regular expression to check against\&. If it is present, \fCcheck/validation/message\fP may contain an optional humanly readable message that will be passed with the error information\&.
.PP
To validate against the whole string, you have to start the regular expression with \fC^\fP and end it with \fC$\fP\&. Otherwise expressions that match the empty string, always return true\&.
.PP
.SS "Implementation"
.PP
The implementation consists of a loop checking for every key if it has the mentioned metakey\&. The check itself is done by the POSIX regular expression library with the interface \fCregcomp\fP, \fCregexec\fP, \fCregerror\fP and \fCregfree\fP\&. The flag \fCREG_EXTENDED\fP is passed so that the regular expression will be compiled as an extended regular expression\&. \fCREG_NOSUB\fP gives a better performance and subexpressions cannot be used in this setup anyway\&.
.PP
.SS "Exported Methods"
.PP
The plugin also exports the function \fCksLookupRE()\fP that does a lookup in a KeySet using a regular expression\&. It starts from the current cursor of the KeySet and stops when the first value matches\&. Finally, this key is returned\&. 
