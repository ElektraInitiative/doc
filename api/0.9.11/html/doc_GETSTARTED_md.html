<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Get Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Get Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_GETSTARTED"></a> This document is intended for developers who want to get started with developing with Elektra.</p>
<h1><a class="anchor" id="autotoc_md2362"></a>
Skill requirements</h1>
<ul>
<li><p class="startli">Operating system</p>
<p class="startli">We recommend a Unix-based operating system to run Elektra (Linux, BSD, macOS) but it's also possible to use Windows which is supported but not yet fully tested.</p>
</li>
<li><p class="startli">Using command-line interface and commands</p>
<p class="startli">The easiest way to compile, install and use Elektra is by using the terminal. We will introduce the basic commands which you will need to run Elektra for the very first time.</p>
</li>
<li><p class="startli">Basic knowledge about git</p>
<p class="startli">Don't panic! <a href="https://git-scm.com/">GIT</a> is a distributed version control system to track changes of the source code in a project. We will use a single GIT command to get the source code of Elektra.</p>
</li>
<li><p class="startli">Basic knowledge about make/cmake</p>
<p class="startli"><a href="https://www.gnu.org/software/make/">make</a> or <a href="https://cmake.org/">cmake</a> are used to generate an executable program from the code. If you are not used to these tools, it's not a problem, we will introduce them to you in later sections.</p>
</li>
<li><p class="startli">We also need your skill set to improve Elektra</p>
<p class="startli">You can contribute to Elektra to improve the source code, website, documentation, translation etc.</p>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2363"></a>
Software requirements</h1>
<p>We need to install some basic tools to run Elektra: cmake, git and essential build tools (make, gcc, and some standard Unix tools; alternatively <a href="https://ninja-build.org/">ninja</a> and <a href="https://clang.llvm.org/index.html">clang</a> are also supported but not described here). Depending on your Linux distribution use the following commands to install these tools:</p>
<div class="fragment"><div class="line">sudo apt-get install cmake git build-essential</div>
</div><!-- fragment --><p>Or on RPM (Red Hat Package Manager) based systems (like Fedora, openSUSE, CentOS etc.):</p>
<div class="fragment"><div class="line">sudo yum install -y cmake git gcc-c++</div>
</div><!-- fragment --><p>Or on macOS, most of the build tools can be obtained by installing <a href="https://developer.apple.com/xcode/">Xcode</a>. Other required tools may be installed using <a href="https://brew.sh/">brew</a>. First, install brew as described on their website. Then issue the following command to get cmake to complete the basic requirements:</p>
<div class="fragment"><div class="line">brew install cmake git</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2364"></a>
Installation</h1>
<p>If you meet all the software requirements you can get the source code of Elektra by using this command:</p>
<div class="fragment"><div class="line">git clone https://github.com/ElektraInitiative/libelektra.git</div>
</div><!-- fragment --><p>Run the following commands to compile Elektra with non-experimental plugins where your system happens to fulfill the dependencies:</p>
<div class="fragment"><div class="line">cd libelektra  #navigate to libelektra</div>
<div class="line">mkdir build  &amp;&amp; cd build  #create and navigate to the build directory</div>
<div class="line">cmake ..  # watch output to see if everything needed is included</div>
<div class="line">#  optionally run &quot;ccmake ..&quot; to get an overview of the available build settings (needs cmake-curses-gui)</div>
<div class="line">cmake --build . -- -j5</div>
</div><!-- fragment --><p>Optionally you can also run tests, see <a class="el" href="doc_TESTING_md.html">here for more information</a>:</p>
<div class="fragment"><div class="line">cmake --build . --target run_nokdbtests</div>
</div><!-- fragment --><p>With these commands you will be able to run the "Hello World!" example, but usually you will need to use some of the <a class="el" href="src_plugins_README_md.html">plugins</a>, tools and bindings of Elektra. Please take a look at the more detailed <a class="el" href="doc_COMPILE_md.html">compiling documentation</a>. After you completed building Elektra on your own, you can execute these commands to install Elektra (please check the <a class="el" href="doc_INSTALL_md.html">installation documentation</a>for the many available packages):</p>
<div class="fragment"><div class="line">sudo make install</div>
<div class="line">sudo ldconfig #optional: check installation documentation for more information</div>
</div><!-- fragment --><p><a class="el" href="doc_INSTALL_md.html">Installation documentation</a> contains further information about available packages.</p>
<p>Optionally you can also run tests to verify the installed Elektra, see <a class="el" href="doc_TESTING_md.html">here for more information</a>:</p>
<div class="fragment"><div class="line">kdb run_nokdbtests</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2365"></a>
Hello first steps!</h1>
<p>This section attempts to give a brief introduction on how to use the key database of Elektra. The key database is modified and queried by using the <code>kdb</code> tool.</p>
<p>Let's look into an example:</p>
<div class="fragment"><div class="line">sudo kdb mount &quot;hello.spec.ni&quot; &quot;spec:/example/hello&quot; ni</div>
</div><!-- fragment --><p>This first command shows one of the core concepts: In Elektra you mount a file into the key database by specifying a mountpoint. In this example we mount the file <code>hello.spec.ni</code> that shall be our configuration specification to the mountpoint <code>/example/hello</code> in the <code>spec</code> <a class="el" href="doc_tutorials_namespaces_md.html">namespace</a> (which is the namespace used for specifications). We could also say that we persistently mount a new <em>backend</em>. The last parameter <code>ni</code> specifies that we use the <a class="el" href="md_src_plugins_ni_README.html#src_plugins_ni_README_md">ni plugin</a> to write in the ni format (a specialised variant of INI) to the file. This can also be omitted in which case the less human-friendly dump plugin is used.</p>
<p>Since we did not denote an absolute file path it depends on the namespace where the actual file is stored. However, we can always retrieve the location of a file with the <code>file</code> subcommand, e.g., <code>kdb file "spec:/example/hello"</code>.</p>
<p>Now let's add some data to our specification:</p>
<div class="fragment"><div class="line">sudo kdb set &quot;spec:/example/hello/what&quot; &quot;&quot;</div>
</div><!-- fragment --><p>As you see above we extended the the mountpoint <code>/example/hello</code> with <code>/what</code>. Our specification now expects (but not requires) a <code>what</code> key in the configuration. (If you want to actually require it you need to set the metakey <code>meta:/require</code>, but more about metakeys below.) Note that the value is empty since we just want to specify the key.</p>
<p>Now let's show the actual power of Elektra by setting metadata to our specification:</p>
<div class="fragment"><div class="line">sudo kdb meta-set &quot;spec:/example/hello/what&quot; default World</div>
</div><!-- fragment --><p>The metakey <code>default</code> (having the value <code>World</code>) is now associated with the key <code>spec:/example/hello/what</code>. It should be noted that the previous setting of <code>what</code> is in this scenario redundant and could be omitted because this is done implicitly.</p>
<p>Now let's mount our specification:</p>
<div class="fragment"><div class="line">sudo kdb meta-set &quot;spec:/example/hello&quot; mountpoint &quot;hello.ni&quot;</div>
<div class="line">sudo kdb spec-mount &quot;/example/hello&quot; ni</div>
</div><!-- fragment --><p>As you see above, we first specify a mountpoint for our configuration (which is just metadata of the parent key <code>spec:/example/hello</code>). Afterwards we use the <code>spec-mount</code> subcommand to mount a new backend by a previously mounted specification. Note that there shall not be a namespace given, because <code>spec-mount</code> creates mountpoints for all namespaces (except <code>spec</code> of course).</p>
<p>Now let's enjoy some configuration magic:</p>
<div class="fragment"><div class="line">kdb get &quot;/example/hello/what&quot;</div>
</div><!-- fragment --><p>We notice even if we did not set a value for the key <code>/example/hello/what</code> we still get <code>World</code> back since this is specified as default value. Therein lies the power of Elektra: We can set metadata (like <a class="el" href="md_src_plugins_type_README.html#src_plugins_type_README_md">types</a>, <a class="el" href="md_src_plugins_validation_README.html#src_plugins_validation_README_md">RegEx</a> or <a class="el" href="md_src_plugins_date_README.html#src_plugins_date_README_md">date</a> validation, etc.) that gets handled by plugins.</p>
<p>If we want to set a custom value we can do it this way:</p>
<div class="fragment"><div class="line">kdb set &quot;user:/example/hello/what&quot; &quot;first few steps&quot;</div>
</div><!-- fragment --><p>Now a <code>kdb get /example/hello/what</code> would return <code>first few steps</code>.</p>
<p>Note that when we set a value the namespace of the key should be specified explicitly. If we don't give a proper namespace (like in the get example above) a so-called <a class="el" href="doc_tutorials_cascading_md.html">cascading lookup</a> is done. However, cascading lookups during <code>kdb set</code> only work, if there is already an existing value (i.e. there is no ambiguity which key we want to set).</p>
<h1><a class="anchor" id="autotoc_md2366"></a>
Hello World!</h1>
<p>Start with your very first Elektra application in C and follow these steps: <a class="el" href="doc_tutorials_hello-elektra_md.html">Hello World!</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
