<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Big Picture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Big Picture </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Elektra solves a non-trivial issue: how to abstract configuration in a way that software can be integrated and reconfiguration can be automated. Elektra solves this problem in a holistic way. Read <a class="el" href="doc_WHY_md.html">why Elektra</a> for an explanation of why such a solution is necessary.</p>
<p>If you know virtual file systems, you already know a very similar solution to a very similar problem (otherwise first read about what a virtual file system is <a href="https://en.wikipedia.org/wiki/Virtual_file_system">here</a>).</p>
<p>Before file systems (or for devices without operating system) software simply wrote at discs (think of <code>dd of=/dev/sda</code>) to persistently store data. This obviously does not work with multiple applications. To allow multiple applications to access data in <code>/dev/sda</code>, a file system structures them in a way that every application knows where its bits are. In analogy configuration files are application-specific initialization that cannot be shared with other applications. So as first steps we need to have a "file system" that describes the content of a configuration file in a uniform way. In Elektra <a class="el" href="src_plugins_README_md.html">plugins</a> represent file systems: they know how the data in configuration files should be interpreted.</p>
<p>For file systems, the API is <code>open</code>, <code>read</code>, <code>write</code>, and then <code>close</code>. For configuration key-value access is more suitable because values are so small that a single read/write always suffices. Thus Elektra <a href="https://doc.libelektra.org/api/current/html">has a key-value API</a> with <code>kdbOpen</code>, <code>kdbGet</code>, <code>kdbSet</code> and <code>kdbClose</code>. Not every application is written in C, thus many <code>bindings</code> where written to access file systems. For example, in C++ you have <code>fstream</code>, and in Java <code>FileReader</code>. Also Elektra provides different bindings: In C++ you have a class <code>KDB</code> and can use <code>kdb.get</code> or <code>kdb.set</code>. Furthermore, every language has native support for the language's iterators which make Elektra easier to use.</p>
<p>Furthermore, command-line tools like <code>cat</code> and <code>ls</code> provide an additional interface to the content of file systems for users and administrators. In Elektra also <a class="el" href="doc_help_kdb_md.html">command-line tools</a> for the analog purpose exist: With <code>kdb cp</code>, <code>kdb mv</code>, and <code>kdb ls</code> some command-line tools operating on file systems are mimicked.</p>
<p>There is not one file system satisfying every need, e.g., <code>proc</code>, <code>tmpfs</code>, <code>nfs</code> and <code>ext4</code> have quite different use cases and are needed at the same time in parallel. In analogy, different configuration file format (parsers) have different advantages and disadvantages. For example, <code>/etc/passwd</code> or <code>/etc/hosts</code> are structured and very compact, while many other configuration files are semi-structured.</p>
<p>To have multiple file systems present at the same time a virtual file system is able to mount (2) concrete file systems and thus give applications a way to uniformly access them. Similarly, Elektra also implements a <a class="el" href="doc_help_elektra-mounting_md.html">mount</a> functionality in its core. In Elektra a <a href="/home/mpranj/workspace/libelektra/doc/CONTRACT.ini">contract</a> specifies the obligations between plugins.</p>
<p>Sometimes, it is even useful to have multiple file systems at the same mount point, so called <code>stacked</code> file systems. They allow you to combine features of different file systems. For example, <a href="https://wiki.archlinux.org/index.php/ECryptfs">eCryptfs</a> allows you to encrypt directories or files. In Elektra, stacking plugins is a core feature and heavily used to avoid feature-bloated plugins. For example, the <a class="el" href="autotoc_md113.html#src_plugins_crypto_README_md">crypto plugin</a> allows you to encrypt individual keys or the <a class="el" href="autotoc_md285.html#src_plugins_iconv_README_md">iconv plugin</a> to change the character encoding.</p>
<p>In file systems metadata describes information about files, e.g. when they were last accessed and who they are owned by (<code>ls -l</code>). In the same way Elektra has metadata that describe individual key-value pairs. In Elektra metadata is <a href="/home/mpranj/workspace/libelektra/doc/METADATA.ini">defined globally</a> but implemented in many <a class="el" href="src_plugins_README_md.html">plugins</a>.</p>
<p>Implementations of file systems is not an easy task. The idea of FUSE (Filesystem in Userspace) is to make file system development easier by having the conveniences of userspace together with a helper library <code>libfuse</code>. In particular this allowed developers to use any programming language and easier abstractions. Elektra also tries hard to make plugin development simple. For example, special <a class="el" href="src_plugins_README_md.html">interpreter plugins</a> enable developers to also write plugins in different languages. Furthermore, <a class="el" href="src_libs_README_md.html">other libraries</a> also assist in creating plugins.</p>
<p>Of course not every feature of virtual file systems or Elektra has an analogy in the other system. If they would solve the same problem, one of them would be useless. Main differences are:</p>
<ul>
<li>API (get/set vs. read/write)</li>
<li>commit semantics: one <code>kdbSet</code> can change many configuration files atomically. This is important if you want, e.g., a new host in <code>/etc/hosts</code> and use this host in some other configuration files.</li>
<li><a class="el" href="doc_help_elektra-namespaces_md.html">namespaces</a> there are many places where the same configuration is stored. All of these configuration files have the same semantics and they override each other (think of command-line arguments, <code>/etc</code>, <code>$HOME/.config</code>, ...)</li>
<li>Elektra interacts closely with the program execution environment such as command-line parsing. The namespace <code>proc</code> is specifically reserved for this purpose.</li>
<li>in Elektra it is possible to create holes (files without directories above them) which are needed because of these override semantics: we want to be able to override a single value without duplicating the whole skeleton.</li>
<li>validation: in Elektra you can describe how valid configuration should look like and reject invalid configuration.</li>
<li>and much more...</li>
</ul>
<ul>
<li><a class="el" href="doc_COMPILE_md.html">Compile</a> and <a class="el" href="doc_INSTALL_md.html">Install</a> Elektra</li>
<li>Then continue reading the <a class="el" href="md_doc_tutorials_README.html#doc_tutorials_README_md">tutorials</a></li>
<li>Read about bindings</li>
<li>Read about tools</li>
<li>Look into <a class="el" href="doc_help_elektra-glossary_md.html">the glossary</a>.</li>
<li>Start reading about <a class="el" href="doc_help_kdb_md.html">command-line tools</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
