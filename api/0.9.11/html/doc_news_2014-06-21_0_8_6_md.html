<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: 0.8.6 Release</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.9.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">0.8.6 Release </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_news_2014_06_21_0_8_6"></a></p><ul>
<li>author: Markus Raab</li>
<li>pubDate: Sat, 21 Jun 2014 12:00:00 +0100</li>
<li>shortDesc: adds technical previews &amp; other improvements</li>
</ul>
<h1><a class="anchor" id="autotoc_md2809"></a>
Introduction</h1>
<p>The Elektra Initiative moved to GitHub for following reasons:</p>
<ul>
<li>We were seriously missing a bug tracker</li>
<li>It may make collaboration easier</li>
<li>Build Server Integration:<ul>
<li>Build on MergeRequests waits for the first merge request to be built!</li>
<li>And the build status is now published for this job</li>
</ul>
</li>
</ul>
<p>The main entrance point and URL for any advertisement and linking stays</p>
<p><a href="https://www.libelektra.org">https://www.libelektra.org</a></p>
<p>(which points to GitHub at the moment).</p>
<p>Additionally (not related to GitHub), we now have a <a href="https://doc.libelektra.org/coverage/master/debian-buster-full">LCOV code coverage report</a>!</p>
<h1><a class="anchor" id="autotoc_md2810"></a>
Improvements</h1>
<p>The hosts plugin got documentation and several bug fixes. Multiline comments now remove the comment start sequences within the metadata comment. Additionally the kdb tool has an improved error message on invalid filenames. (thanks to Manuel Mausz)</p>
<p>Fix an issue that the resolver plugin did not delete tmpfile in some error situations and add test cases with error plugin.</p>
<p>Fix KS_END in C++ that did not specify the namespace.</p>
<p>"kdb run_all" will now run all tests using Elektra from your system. Because not all testdata will be installed, some test cases fail unless you copy the data manually. Those are: </p><pre class="fragment">testmod_yajl testmod_augeas testmod_fstab testmod_hosts test_xml
</pre><p> Virtually all clang compiler warnings were fixed (thanks to Felix Berlakovich).</p>
<p>kdb mv now is atomic. (API was used wrongly in the tool)</p>
<p>Clang, icc and gcc are now all supported and tested.</p>
<h1><a class="anchor" id="autotoc_md2811"></a>
Technical Previews</h1>
<p>A plugin that logs write operations and errors via the native journald interface was added (thanks to Felix Berlakovich).</p>
<p>A preview of the augeas plugin was added. In cmake add "augeas" to PLUGINS and then run "kdb info augeas" for further instructions. Additionally, see Outlook below (thanks to Felix Berlakovich).</p>
<p>A preview of python3 and lua bindings were added. In cmake enable the options <code>BUILD_SWIG BUILD_SWIG_LUA BUILD_SWIG_PYTHON</code> so that they are compiled (thanks to Manuel Mausz).</p>
<p>The code generator was extended to support contextual values, more information about that topic later.</p>
<p>The libtools library is back to life again! It has the same idea as its predecessor, but it is much more powerful. Because of the plugin system libtools is able to export and import any configuration format Elektra supports. Additionally it adds support for mounting backends. While most of its functionality is mature, the API is not final, though.</p>
<h1><a class="anchor" id="autotoc_md2812"></a>
API Changes</h1>
<p>The API and ABI is as always backwards-compatible within the 0.8 series.</p>
<p>This time it is, however, not forward-compatible (that means programs linked against 0.8.6 might not work with 0.8.5), because <a class="el" href="group__keyset.html#gab3fb5e067c672d9fd60a4022b2ae9dd1" title="Return Key at given position pos.">ksAtCursor()</a> was added.</p>
<p><a class="el" href="group__keyset.html#gab3fb5e067c672d9fd60a4022b2ae9dd1" title="Return Key at given position pos.">ksAtCursor()</a> provides the means for an external iterator. This was immediately exploited by an implementation of the C++ iterators. These new C++(11) (reverse)iterators allow multi-pass algorithm over the same KeySet.</p>
<p>ksSort was in the kdb.h header file, even though it never was needed nor available in 0.8. Automatic compatibility checkers may wrongly tell that the API is not compatible, but this is not the case (thanks to Manuel Mausz).</p>
<p>The C++ API changed, including:</p>
<ul>
<li>does not wrongly convert garbage to default types using <code>get&lt;T&gt;</code></li>
<li>getMeta now internally uses <code>get&lt;T&gt;</code> and both throw the KeyTypeConversion Exception</li>
<li>KeySet::at directly allows one to use <a class="el" href="group__keyset.html#gab3fb5e067c672d9fd60a4022b2ae9dd1" title="Return Key at given position pos.">ksAtCursor()</a></li>
<li>KeyTypeConversion (or former KeyBadMeta) is not thrown anymore if key is not available</li>
<li>Key::hasMeta allows one to directly check if metadata is available</li>
</ul>
<p>CMake: ENABLE_CXX11 is now default OFF (because gcc 4.6 and older won't work with it). It disables some tests, though. <code>unique_ptr</code> will automatically be used instead of <code>auto_ptr</code> in this mode.</p>
<p>Note for maintainers: libelektratools now needs to be installed so that the kdb tool will work.</p>
<h1><a class="anchor" id="autotoc_md2813"></a>
Outlook</h1>
<p>One drawback of Elektra is the small number of available storage plugins. While writing storage plugins isn't too hard, it still requires knowledge of Elektra’s plugin architecture. In addition it is always necessary to keep both translation directions in mind (from file to Elektra and back). In order to mitigate this issue Felix Berlakovich is working on an Elektra storage plugin which uses Augeas [1] to read and manipulate configuration files. Augeas uses a concept called lenses to translate between files and abstract trees (i.e. trees that hide unimportant details like whitespaces). In brief, what makes lenses special is the fact that they automatically disallow translations that cannot be reversed. This means that one of the translation directions comes for free as it is implicitly described by the other one. Therefore writing lenses is much simpler than programming both directions explicitly as done in traditional Elektra storage plugins. Furthermore many lenses for common applications like Apache, MySQL, DHCPd and many more [2] already exist. Besides these benefits, Augeas lacks many features of Elektra. Although this is mostly intended because Augeas aims to concentrate just on configuration file manipulation some of these features would be valuable for administrators and developers. Some of these mentioned Elektra features include but are not limited to: logging of all configuration changes done, transformation of character encoding as needed, import and export of configuration data in any format, e.g. XML or JSON (Augeas has a similar feature for XML), file conflict detection and several different validations for configuration options (see [3] for a full list of features). With the Augeas storage plugin these features cannot be used with only the applications already integrated into Elektra, but with all applications for which lenses exist. This storage plugin targets system administrators as well as developers, that wish to take advantage of Elektra’s features, but were unable to do so because of missing plugins. If no lens exists already, writing a new one requires neither programming skills nor knowledge of Elektra’s plugin architecture. Furthermore, implementing a new configuration file format is just a matter of writing a lens instead of writing a full-fledged parser. [1] <a href="http://augeas.net/">http://augeas.net/</a> [2] <a href="http://augeas.net/stock_lenses.html">http://augeas.net/stock_lenses.html</a> [3] <a href="https://www.libelektra.org">https://www.libelektra.org</a></p>
<p>Since Elektra is written in C, integration is limited to projects written in C and languages compatible with C like C++. In order to change this situation Manuel Mausz is working on the implementation of language bindings using two different techniques. The first technique uses SWIG as a generic generator for various languages. In a nutshell, SWIG is a compiler that takes C/C++ declarations and creates the wrappers needed to access those declarations from other languages. The second technique is called GObject Introspection. In contrast to SWIG, GObject Introspection generates a language independent metadata file. For dynamic languages the GObject Introspection support in the target language will load this metadata file to generate bindings at run-time. In order to provide bindings for static languages a compiler on the metadate file will be used. This is comparable to using SWIG. Manuel will focus on implementing language bindings for Python and Lua though both techniques will support various other languages. As language bindings only allow to call into Elektra’s API Manuel will also embed the interpreters of both Python and Lua into two generic plugins. Using these plugins in combination with the languages bindings it will be fully possible to write plugins for Elektra in languages other than C/C++.</p>
<p>While Elektra offers sophisticated methods to store and manipulate configuration, currently there is only a command line tool (kdb) available to interact with the database. This requires the user to study and learn the possible commands and does not allow free exploration of the options of the application. To enable new ways to interact with Elektra, Raffael Pancheri is designing and implementing a Graphical User Interface (GUI). To increase the probability to create a GUI that is indeed usable and beneficial, Pancheri is following the design principles proposed by Ben Shneiderman and Jakob Nielson.</p>
<p>Finally, as you already noticed, Ian Donnelly is working on a semantic 3-way merge to make distribution and package upgrades smoother. This is done as GSOC project. The progress is documented here: <a href="http://community.libelektra.org/wp/">http://community.libelektra.org/wp/</a></p>
<h1><a class="anchor" id="autotoc_md2814"></a>
Get It!</h1>
<p>You can download the release at: <a href="http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.6.tar.gz">http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.6.tar.gz</a></p>
<ul>
<li>size: 1188337</li>
<li>md5sum: 4a59824e70a29295e9ef9ae7605d9299</li>
<li>sha1: 2570710b0057470223611ca00d61a0196e54e7b2</li>
<li>sha256: e815cf69b070c339784472841aa0ee0b169fab7c78f41cbbd7044f53fa9ed216</li>
</ul>
<p>Docu can be found here: <a href="https://doc.libelektra.org/api/0.8.6/html/">https://doc.libelektra.org/api/0.8.6/html/</a></p>
<p>You can install the debian packages for debian (wheezy, amd64 only, some packages will be added later) by adding following lines to your /etc/apt/sources.list: deb <a href="http://markus-raab.org/ftp/wheezy">http://markus-raab.org/ftp/wheezy</a> wheezy main</p>
<p>and install or upgrade the packages with:</p>
<div class="fragment"><div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install libelektra-core4 libelektra-full4 libelektra-bin libelektra-dev libelektra-test libelektra-xmltool4 libelektra-json4 libelektra-dbus4 libelektra-doc</div>
</div><!-- fragment --><p>Best regards, Markus </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
