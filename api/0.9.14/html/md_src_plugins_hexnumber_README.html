<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Plugin: hexnumber</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.9.14</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Plugin: hexnumber </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about the hexnumber plugin is in keys below</li>
<li>infos/author = Klemens BÃ¶swirth <a href="#" onclick="location.href='mai'+'lto:'+'k.b'+'oe'+'swi'+'rt'+'h+g'+'it'+'@gm'+'ai'+'l.c'+'om'; return false;">k.boe<span style="display: none;">.nosp@m.</span>swir<span style="display: none;">.nosp@m.</span>th+gi<span style="display: none;">.nosp@m.</span>t@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a></li>
<li>infos/licence = BSD</li>
<li>infos/needs =</li>
<li>infos/provides = conv check</li>
<li>infos/recommends =</li>
<li>infos/placements = postgetstorage presetstorage</li>
<li>infos/status = maintained unittest nodep configurable</li>
<li>infos/metadata = unit/base</li>
<li>infos/ordering = type</li>
<li>infos/description = converts hexadecimal values into decimal and back</li>
</ul>
<h1><a class="anchor" id="src_plugins_hexnumber_README_md"></a>
Introduction</h1>
<p>This plugin is used to read configuration files that use hexadecimal values. All "hex-values" (see below) will be converted into decimal when Elektra reads values from the mounted file. When Elektra writes back to the file the converted values will be converted back and stored as before (<code>0X</code> will be replaced with <code>0x</code>).</p>
<h1><a class="anchor" id="autotoc_md258"></a>
Installation</h1>
<p>See <a class="el" href="doc_INSTALL_md.html">installation</a>. The package is called <code>libelektra5-extra</code>.</p>
<h2><a class="anchor" id="autotoc_md259"></a>
What are "hex-values"?</h2>
<p>There are multiple ways you can signal to the hexnumber plugin, that a value should be converted:</p>
<ol type="1">
<li>If a Key has the metadata <code>unit/base</code> set to <code>hex</code> it will always be interpreted as a hex-value. The plugin will also produce an error, if the value contained in such a Key does not start with <code>0x</code> (or <code>0X</code>).</li>
<li>If <code>unit/base</code> is not present and<ul>
<li>the <code>type</code> metadata is set to one of the recognized integer-types (default: <code>byte</code>, <code>short</code>, <code>unsigned_short</code>, <code>long</code>, <code>unsigned_long</code>, <code>long_long</code>, <code>unsigned_long_long</code>)</li>
<li>AND the configuration value itself starts with <code>0x</code> (or <code>0X</code>) it will be interpreted as a hex-value.</li>
</ul>
</li>
<li>If forced conversion mode (<code>/force</code> plugin configuration, see below) is enabled all values starting with <code>0x</code> (or <code>0X</code>) are considered hex-values.</li>
</ol>
<h1><a class="anchor" id="autotoc_md260"></a>
Configuration</h1>
<p>When mounting a backend with the hexnumber plugin, a few settings can be configured.</p>
<ol type="1">
<li><p class="startli">To enable forced conversion mode set <code>/force</code> to any value. In forced conversion mode the plugin tries to convert <b>ALL</b> strings starting with <code>0x</code> (or <code>0X</code>) into decimal before passing the value on to the rest of Elektra. This can be useful for importing a configuration file that uses hexadecimal values into Elektra without writing a specification for the file.</p>
<p class="startli">NOTE: be careful when using this option, as any configuration value that contains invalid non-hexadecimal characters (i.e. does not match <code>0[xX][0-9A-Fa-f]+</code>) will result in an error.</p>
</li>
</ol>
<div class="fragment"><div class="line">sudo kdb mount test.ecf /examples/hexnumber/forced hexnumber /force=1</div>
</div><!-- fragment --><ol type="1">
<li>The types recognized as integers can be configured. For this purpose specify all <em>additional</em> types you want to be considered for possible hexadecimal conversion as an Elektra array. All keys with a type from <code>/accept/types/#</code>, or one of the default types, will be converted to hexadecimal if the value starts with <code>0x</code> (or <code>0X</code>).</li>
</ol>
<div class="fragment"><div class="line">sudo kdb mount test.ecf /examples/hexnumber/customtypes hexnumber /accept/types/#0=customint /accept/types/#1=othercustomint</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md261"></a>
Usage &amp; Example</h1>
<ul>
<li>To mount a simple backend that uses hexadecimal numbers, you can use: <div class="fragment"><div class="line">sudo kdb mount test.ecf user:/tests/hexnumber hexnumber</div>
</div><!-- fragment --></li>
<li>A few examples on how to use the plugin:</li>
</ul>
<div class="fragment"><div class="line"># Example 1: read hex value</div>
<div class="line">kdb set user:/tests/hexnumber/hex 0x1F</div>
<div class="line">kdb meta-set user:/tests/hexnumber/hex type long</div>
<div class="line"> </div>
<div class="line">kdb get user:/tests/hexnumber/hex</div>
<div class="line">#&gt; 31</div>
<div class="line"> </div>
<div class="line"># Example 2: decimal value not converted</div>
<div class="line">kdb set user:/tests/hexnumber/dec 26</div>
<div class="line">kdb meta-set user:/tests/hexnumber/dec type long</div>
<div class="line"> </div>
<div class="line">kdb get user:/tests/hexnumber/dec</div>
<div class="line">#&gt; 26</div>
<div class="line"> </div>
<div class="line"># Example 3: string untouched</div>
<div class="line">kdb set user:/tests/hexnumber/string value</div>
<div class="line">kdb meta-set user:/tests/hexnumber/string type string</div>
<div class="line"> </div>
<div class="line">kdb get user:/tests/hexnumber/string</div>
<div class="line">#&gt; value</div>
<div class="line"> </div>
<div class="line"># Example 4: read hex value with unit/base</div>
<div class="line">kdb set user:/tests/hexnumber/hex2 0xF</div>
<div class="line">kdb meta-set user:/tests/hexnumber/hex2 unit/base hex</div>
<div class="line"> </div>
<div class="line">kdb get user:/tests/hexnumber/hex2</div>
<div class="line">#&gt; 15</div>
<div class="line"> </div>
<div class="line"># Undo changes</div>
<div class="line">kdb rm -r user:/tests/hexnumber</div>
</div><!-- fragment --><ul>
<li>To unmount the plugin use the following command: <div class="fragment"><div class="line">kdb umount user:/tests/hexnumber</div>
<div class="line">#&gt;</div>
</div><!-- fragment --> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
