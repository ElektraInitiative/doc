<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Elektra: 0.8.17 Release</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elektra
   &#160;<span id="projectnumber">0.8.17</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">0.8.17 Release </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In preparation and not yet released!</p>
<ul>
<li>guid: e6153a39-c4bd-41c3-bc86-785d451eb6c5</li>
<li>author: Markus Raab</li>
<li>pubDate: Tue, 14 Jun 2016 08:32:44 +0200</li>
</ul>
<h2>Survey</h2>
<p>First off: We created a survey questionnaire to gather more knowledge about the relevance of configuration systems. If you are involved in the development of free and open source software (FLOSS) you are the person we are looking for.</p>
<p>It would be a great help if you take this survey:</p>
<p><a href="http://elektra.limequery.org/625192">http://elektra.limequery.org/625192</a></p>
<p>It will be available till 18.07.2016 (anywhere on earth).</p>
<p>For every thoroughly and not anonymously finished survey € 40 cent will be donated to one of the following organizations of your choice:</p>
<ul>
<li>LimeSurvey (LimeService, kindly hosts this survey)</li>
<li>SPI (General Donation: 0 A.D., LibreOffice, Debian, ArchLinux, …)</li>
<li>FSFE</li>
<li>GNOME</li>
<li>KDE</li>
<li>Mozilla (Firefox)</li>
<li>Wikimedia Foundation (Wikipedia)</li>
</ul>
<h2>Why should I use Elektra?</h2>
<p>The three main points relevant for most people are:</p>
<ol type="1">
<li>Even though Elektra provides a global keydatabase configuration files stay human read- and writable which allows us to integrate unmodified software.</li>
<li>Flexible adoption on how the configuration is accessed via plugins: you can run arbitrary code, e.g. do a <code>git commit</code> or log/notify when configuration files are changed.</li>
<li>Elektra allows you to specify configuration values:<ul>
<li>use the value of other configuration values (symbolic links)</li>
<li>calculate the values based on other configuration values</li>
<li>validation configuration files</li>
<li>generate code based on it</li>
<li><a class="el" href="md_src_plugins_README.html#src_plugins_README_md">and much more</a></li>
</ul>
</li>
</ol>
<p>Read more about <a class="el" href="doc_WHY_md.html">Why using Elektra</a>, which also contains since this release unique features, further reasons and limitations.</p>
<h2>Highlights</h2>
<ul>
<li>Qt-Gui reworked mounting and native icons</li>
<li>Full Mac OS X Support, Build Server improvements and new beginner friendly tasks</li>
<li>allows us to mount csv, json and xml (and other common provider names) without needing to know plugin names</li>
<li>colored output for kdb tools</li>
<li>Experimental GSettings support</li>
</ul>
<h2>Beginner friendly tasks</h2>
<p>In this release starting developing Elektra gets easier:</p>
<ul>
<li>ELEKTRA_DEBUG adds run-time checks and makes stack traces as if Elektra would not use plugins</li>
<li>CMakeLists.txt for plugins got simplified, in most cases it should be not more than calling a single function, even if unit tests are present</li>
<li>We prepared <a href="https://github.com/ElektraInitiative/libelektra/issues?q=is%3Aissue+is%3Aopen+label%3A%22beginner+friendly%22">beginner friendly tasks</a> for you.</li>
</ul>
<p>For details, see below.</p>
<h2>Find-Tools</h2>
<p>There is now a fine collection of external scripts which can executed by <code>kdb + &lt;script&gt;</code>. The new script <code>kdb find-tools</code> provides full text search over the meta data as provided by the scripts.</p>
<ul>
<li><code>kdb find-tools -b BRIEF</code> to search for a short text.</li>
<li><code>kdb find-tools -a AUTHOR</code> to search for a author.</li>
<li><code>kdb find-tools -d DATE</code> to search for a creation date.</li>
<li><code>kdb find-tools -e EXECUTE</code> to search for a type.</li>
</ul>
<p>Developers should now https://github.com/elektrainitiative/libelektra/tree/scripts/README.md "add MetaData for their scripts.".</p>
<p>Thanks to Kurt Micheli!</p>
<h2>Mac OS X Support</h2>
<p>Because of its POSIX support one might think it would be trivial to support Mac OS X. Unfortunately there were many small issues, especially in the regular expression handling and the filesystem.</p>
<p>Nevertheless we finally fully support Mac OS X and the newly added travis build server makes sure it will stay this way.</p>
<p>A huge thanks to Manuel Mausz and Mihael Pranjić for fixing the issues and setting up travis:</p>
<ul>
<li>jni plugin now can load Elektra (avoids using <code>.so</code>) thanks to Mihael Pranjić</li>
<li>initial creation of travis.yml thanks to Manuel Mausz</li>
<li>Add all 3 different XCode setups and some Mac OS X fixes thanks to Mihael Pranjić</li>
</ul>
<h2>jenkins</h2>
<p>Now (nearly) every build job can be triggered from Pull Requests making it. For example:</p>
<ul>
<li>jenkins build <a href="http://build.libelektra.org:8080/job/elektra-git-buildpackage-jessie/">git-buildpackage-jessie</a> please</li>
<li>jenkins build <a href="http://build.libelektra.org:8080/job/elektra-git-buildpackage-wheezy/">git-buildpackage-wheezy</a> please</li>
<li>jenkins build <a href="http://build.libelektra.org:8080/job/elektra-icc/">icc</a> please</li>
<li>jenkins build <a href="http://build.libelektra.org:8080/job/elektra-local-installation/">local-installation</a> please</li>
</ul>
<p>For a full list see https://github.com/elektrainitiative/libelektra/tree/doc/GIT.md "here".</p>
<p>Thanks to Mihael Pranjić for the setup!</p>
<h2>Fixes</h2>
<ul>
<li>fix inconsistency with one excluded compilation variant, thanks to Harald Geyer for reporting #698</li>
<li>fix dynamic searching of installed plugins, needed so that kdb list-tools works correctly thanks to Harald Geyer for reporting</li>
<li>kdbtimer, <code>include &lt;vector&gt;</code> as needed by some compilers, a big thanks to Andreas Bombe for the non-maintainer upload in Debian to fix it for upcoming Debian release</li>
<li>also find yajl header files if installed in non-standard include directories, thanks to Mihael Pranjić</li>
<li>glib: make sure we use all definitions returned by pkg-config #719, fixes build on FreeBSD now glib bindings need cmake 2.8.12 thanks to Mihael Pranjić for reporting/testing and Manuel Mausz for fixing</li>
<li>fix INI for Mac OS X (did require some non-portable sorting properties of <code>qsort</code>.)</li>
<li>INI makes INI-specific meta-data private by prefixing <code>ini</code>.</li>
<li><code>kdb export</code> also works under MinGW, thanks to Gabriel Rauter</li>
</ul>
<h2>Rework Add Plugin</h2>
<ul>
<li>prefer to link shared</li>
<li>add plugin tests when using link shared</li>
<li>make ADD_TEST simpler (without calling add_plugintest)</li>
<li>make installation of test data simpler + honor INSTALL_TESTING option</li>
<li>fix installation of test_data (do not install whole dir)</li>
<li>introduce cache so that it is enough to pass parameters to add_plugin* once</li>
<li>avoid PLUGIN_DIRECTORY_NAME and change CMAKE_CURRENT_SOURCE_DIR and CMAKE_CURRENT_BINARY_DIR instead</li>
<li>add_plugin: remove unused option SHARED_SOURCES</li>
<li>implement a 3rd phase to add test cases: correctly handles dependencies of testcases to bindings</li>
<li>fix testmod_jni</li>
</ul>
<h2>CMake</h2>
<p>for maintainers:</p>
<ul>
<li>The cmake variables KDB_DB_SYSTEM and KDB_DB_HOME are now STRING and not PATH.</li>
<li>BUILD_FULL and BUILD_STATIC are now OFF by default</li>
<li>building with BUILD_SHARED is now preferred (for all examples, test cases,...)</li>
<li>ELEKTRA_DEBUG_BUILD and ELEKTRA_VERBOSE_BUILD is not used anymore.</li>
<li>ENABLE_DEBUG was added: it does not add debug symbols but run-time assertions.</li>
<li>More cmake variables are marked as advanced.</li>
</ul>
<p>for developers:</p>
<ul>
<li>BUILD_STATIC and BUILD_FULL is now OFF by default (nearly) all unit tests now also work with BUILD_SHARED</li>
<li>to support shared unit tests, a third phase was added when adding plugins inconsistent adding (across phases) of plugins and unit tests is reported</li>
<li>in <code>add_plugin</code> remove SHARED_SOURCES, and add <code>ADD_TEST</code> and <code>INSTALL_TEST_DATA</code>.</li>
</ul>
<p>and fixes:</p>
<ul>
<li>adding plugin tests is now much simpler, simply use <code>ADD_TEST</code> in <code>add_plugin</code>.</li>
<li>KDB_DB_SYSTEM and KDB_DB_HOME are now STRING and not PATH because of incorrect resolving of <code>~</code>.</li>
<li>lua bindings tests: make sure lua executable matches with the lua libraries version thanks to Mihael Pranjić</li>
<li>lua bindings: do not use hard-coded <code>lua</code> executable.</li>
<li>Fix cmake configure when BUILD_DOCUMENTATION is set to OFF thanks to Kurt Micheli</li>
</ul>
<p>See more about changes to plugin adding in cmake in the https://github.com/elektrainitiative/libelektra/tree/cmake_plugins.md "plugin decision".</p>
<h2>Experimental GSettings support</h2>
<p>As part of the ongoing work of the bachelor thesis <code>Integration of Elektra into the GNOME desktop environment</code> we now have experimental support for Elektra as a GSettings backend on Linux (We will look into getting OS X support on a later date). When installed, applications using GSettings default backend will write to Elektra below the <code>/sw</code> key. The GSettings bindings are intended as a preview version so please do not use them in a production system.</p>
<p>To build the GSettings backend you have to explicitly add the binding even if <code>ALL</code> is given. e.g. <code>-DBINDINGS=gsettings</code> <code>-DBINDINGS="ALL;gsettings"</code></p>
<p>All needed core functionality of a GSettings backend is already implemented. This includes notification support if you have your <code>/sw</code> mounted with the dbus plugin.</p>
<p>Please report any bugs you encounter.</p>
<p>For further information regarding the status of the implementations please refer to the corresponding <a href="https://github.com/elektrainitiative/libelektra/tree/gsettings-backend/src/bindings/gsettings">README</a> and <a href="https://github.com/ElektraInitiative/libelektra/issues/775">ticket</a>.</p>
<h2>Common Provider Names</h2>
<p>Mounting now supports to mount commonly known names even if the name is not a plugin. If more than one plugin is available automatically the best one is selected. The selection process works by annotating different qualities of the plugins, see <code>infos/status</code> in the README.md of individual plugins.</p>
<p>E.g. to mount a file using a json plugin (called yajl because of the library's name it build upon) </p><pre class="fragment">kdb mount file.json json
</pre><h2>New Cachefilter Plugin</h2>
<p>stores filtered keys internally so that they do not get accidentally lost and can be written to the storage again without the user having to remember including them in the writeout</p>
<p>The longer term goal is to add such global plugins per default, so that the usage of the API is easier.</p>
<p>For now you can simply add it using: </p><pre class="fragment"> kdb global-mount cachefilter
</pre><p>Thanks to Marvin Mall.</p>
<h2>Qt GUI 0.0.12</h2>
<p>The Qt GUI receives new features and a better gnome integration. Its version number was updated to 0.0.12 (beta). Major features:</p>
<ul>
<li>use native icons (Qt GUI xdg icon theme support rework) thanks to Gabriel Rauter</li>
<li>update desktop entry org.libelektra.elektra-qt-editor.desktop with new symbolic icon of Elektra's logo so that qt-gui can nicely started from within Gnome thanks to Gabriel Rauter</li>
<li>Add new layout elements to backend wizard and integrate new BackendBuilder functionality (See Common Provider Names) to qt-gui thanks to Raffael Pancheri</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Reset to defaults now reverts back to build-in defaults.</li>
<li>Make clicks on search icon focus on search textfield.</li>
<li>save settings when settings dialog is closed.</li>
<li>fix crash of qt-gui when crypto plugin was enabled (and added /shutdown option to enable previous behaviour) thanks to Peter Nirschl</li>
<li>fix qt-gui fails to synchronize because of readonly plugins thanks to Raffael Pancheri</li>
<li>Rename desktop file: correct reverse url from org.elektra to org.libelektra.</li>
<li>Rename elektra-qt to elektra-qt-editor.</li>
<li>Rename ChooseColorWindow: The ChooseColorWindows will be replaced by a AppearanceSettingsWindow, all references to ChooseColor, choose color have been replaced by AppearanceSettings or choose appearance.</li>
</ul>
<p>Other improvements:</p>
<ul>
<li>Install <code>elektra-qt-editor</code> binary so both the desktop files TryExec works and people not starting the gui trough <code>kdb qt-gui</code> have a speaking name in their process list.</li>
<li>Replace occurences of <code>Elektra Editor</code> with <code>Elektra Qt Editor</code> so that we use the same name in all places apart from the tools binary.</li>
<li>Introduce Appearance Settings Window: Appearance Settings Window contains both color settings as well as a switch to disable or enable the system icon theme. For this to work we had to introduce the setting in <code>guisettings</code>. We also added a private function in <code>guisettings</code> to get and set settings with a boolean value.</li>
<li>Tree reload on Settings close: We now synch and refresh the tree view on closing of the settings window if any settings have been changed, so changes can be seen imediatly in the tree.</li>
<li>Add qt5 svg module as dependency: the qt5 svg module is needed so we can display icon themes that provide svg as icon format.</li>
<li>Add and install symbolic icon with the installation of the Elektra Qt Editor.</li>
</ul>
<p>Thanks to Gabriel Rauter and Raffael Pancheri for the engagement in improving qt-gui.</p>
<h2>Colored kdb tool</h2>
<p>A big thanks to Gabriel Rauter for improving the user experience with the kdb tool. On errors and in <code>kdb info</code> it was often quite hard to find the relevant text.</p>
<p>Now important parts are highlighted by bold or colorful text. This helps to spot the important information immediately without sacrificing information that would be important for a detailed analysis.</p>
<p>Every tool now has the option <code>--color</code> and <code>-C</code> which is set to <code>auto</code> per default. By writing to </p><pre class="fragment">kdb set +kdb/color off
</pre><p>one can go back to previous behavior.</p>
<h2>Documentation</h2>
<ul>
<li>improve documentation about how to pop a key</li>
<li>document how to avoid running test cases as root in https://github.com/elektrainitiative/libelektra/tree/doc/TESTING.md "TESTING.md".</li>
<li>document guarantees of <code>elektraPluginGetData</code>, thanks to Marvin Mall</li>
<li>doc mentions that -1 should be returned <em>always</em> when an error is set</li>
<li>many more spelling mistakes were fixed and useless whitespace was removed, thanks to René Schwaiger</li>
<li>describe preferences when plugins are included/excluded</li>
<li>improvements in <code>ksCopy</code>, <code>ksPop</code>, <code>kdbGet</code> and <code>kdbSet</code> API description</li>
<li>added https://github.com/elektrainitiative/libelektra/tree/doc/WHY.md "WHY document"</li>
<li>updated https://github.com/elektrainitiative/libelektra/tree/cmake_plugins.md "plugin decision" to include 3rd phase</li>
</ul>
<h2>ELEKTRA_DEBUG build</h2>
<p>ENABLE_DEBUG now enables a debug build for Elektra. It has nothing to do with debug symbols, but with:</p>
<ul>
<li>it enables the internal assertions</li>
<li>it enables <a href="http://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html">undefinied behavior sanitizer</a></li>
<li>plugins will not be closed so that stack traces are more useful (using RTLD_NODELETE)</li>
</ul>
<p>ENABLE_DEBUG is recommended for every developer, even if you are not modifying Elektra itself. The assertions will give you hints on API misusage.</p>
<p>For example, <code>keyNew</code> was known to be error-prone. ENABLE_DEBUG now will report wrong parameters by an assertion.</p>
<p>The old options ELEKTRA_DEBUG and ELEKTRA_VERBOSE are not available anymore.</p>
<p>Thanks to:</p><ul>
<li>Thomas Waser for pointing to RTLD_NODELETE</li>
<li>Gabriel Rauter for fixing qt-gui with -DENABLE_DEBUG=ON</li>
</ul>
<p>The constants plugin was updated to provide cmake/ENABLE_LOGGER cmake/ENABLE_DEBUG and will no longer provide cmake/ELEKTRA_DEBUG_BUILD cmake/ELEKTRA_VERBOSE_BUILD</p>
<h2>Other</h2>
<ul>
<li>Gabriel Rauter is now listed in <a href="https://github.com/elektrainitiative/libelektra/tree/doc/AUTHORS">AUTHORS</a></li>
<li>libtool: remove not-implemented function resolveRecommends from header-file.</li>
<li>constants plugin: configure_file now uses current binary directory, not cluttering the main build directory.</li>
<li>fix ssize_t for VS2015, thanks to Gabriel Rauter</li>
<li>gtest: fix linking when using arch systemd-nspawn, thanks to Marvin Mall</li>
<li>LD_LIBRARY_PATH is added to lua and python bindings needed for Mac OS X, thanks to Mihael Pranjić</li>
<li>Fix external unit test for Ubuntu 15.04 by putting files before the flags, thanks to Marvin Mall</li>
<li>symbols in Ni_ namespace are now in elektraNi_</li>
<li>add more ipv4 and ipv6 test cases for IP adress validation checker</li>
<li>crypto-plugin avoid usage of hardcoded error numbers, thanks to Peter Nirschl</li>
<li>do not use number for resolver position</li>
<li>to fix a compiler warning in Mac OS X, we made the printf format specifier of time_t more portable, thanks to René Schwaiger</li>
<li>many preparations for global plugins and mmap</li>
<li>in the constants plugin cmake/BUILTIN_PLUGIN_FOLDER, BUILTIN_DATA_FOLDER and BUILTIN_EXEC_FOLDER were added.</li>
<li>doxygen is only run once during build, thanks to René Schwaiger</li>
<li>add script configure-home to build Elektra that it will resolve all pathes to home-directories</li>
<li>add script metaini-to-c that converts METADATA.ini to C-code, thanks to Thomas Waser</li>
<li>add note that default values must be present for code generation, thanks to Martin Schleiss</li>
<li>avoid <code>seq</code> as it is not available in some <code>*BSD</code>, thanks to Mihael Pranjić</li>
<li>make jni testmod check consistent to others</li>
</ul>
<h2>Compatibility</h2>
<p>As always, the ABI and API is fully forward- and backward-compatible, i.e. programs compiled against an older 0.8 version of Elektra will continue to work (ABI) and you will be able to recompile every program without errors (API). You can even compile programs against 0.8.17 and run with 0.8.16.</p>
<p>For the qt-gui the svg module is added as dependency.</p>
<p>New and missing files in the installation:</p>
<ul>
<li><code>elektra-qt-editor</code> is installed in the path (needed for TryExec in Desktop file)</li>
<li><code>libelektrasettings.so</code> will be installed if <code>gsettings</code> binding is enabled</li>
<li><code>libelektra-cachefilter.so</code> is the new cachefilter plugin</li>
<li><code>tool_exec/testmod_cachefilter</code> is its unit test</li>
<li><code>tool_exec/find-tools</code> is a new python script to find other tools</li>
<li><code>appdata/org.libelektra.elektra-qt-editor.appdata.xml</code></li>
<li><code>icons/hicolor/scalable/apps/elektra-symbolic.svg</code></li>
<li><code>share/man/man1/kdb-find-tools.1</code></li>
</ul>
<p>Renamed files:</p>
<ul>
<li><code>applications/org.elektra.elektra-qt.desktop</code> got renamed to <code>applications/org.libelektra.elektra-qt-editor.desktop</code>.</li>
</ul>
<p>(Temporarily) removed files:</p>
<ul>
<li>Some of the installed "test data" actually was source code from Elektra. Test data from the following plugins is affected: <code>hosts</code>, <code>ini</code>, <code>lineendings</code>,</li>
<li><code>testmod_lua</code>, <code>testmod_python</code> and <code>testmod_python2</code> do not work in a shared build and are temporarily disabled if <code>BUILD_SHARED</code> is enabled. Also their test data is affected.</li>
</ul>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.17.tar.gz">here</a> and now also <a href="https://github.com/ElektraInitiative/ftp/tree/master/releases/elektra-0.8.17.tar.gz">here on github</a></p>
<ul>
<li>name: elektra-0.8.17.tar.gz</li>
</ul>
<p>This release tarball now is also available <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.17.tar.gz.gpg">signed by me using gpg</a></p>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.17/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">RSS feed</a> to always get the release notifications.</p>
<p>For any questions and comments, please contact the <a href="https://lists.sourceforge.net/lists/listinfo/registry-list">Mailing List</a> the issue tracker <a href="http://git.libelektra.org/issues">on github</a> or by mail <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<p><a href="http://doc.libelektra.org/news/e6153a39-c4bd-41c3-bc86-785d451eb6c5.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://libelektra.org">http://libelektra.org</a></p>
<h1>0.8.16 Release</h1>
<ul>
<li>guid: 9c9247ee-ee9c-4f4a-a68e-76959def9b82</li>
<li>author: Markus Raab</li>
<li>pubDate: Fri, 29 Apr 2016 12:45:39 +0200</li>
</ul>
<p>In case you do not yet know about it, here is an abstract about Elektra:</p>
<p>Elektra serves as a universal and secure framework to access configuration parameters in a global, hierarchical key database. Elektra provides a mature, consistent and easily comprehensible API. Its modularity effectively avoids code duplication across applications and tools regarding configuration tasks. Elektra abstracts from cross-platform-related issues and allows applications to be aware of other applications' configurations, leveraging easy application integration.</p>
<p>Elektra consists of three parts:</p>
<ol type="1">
<li><em>LibElektra</em> is a modular configuration access toolkit to construct and integrate applications into a global, hierarchical key database. The building blocks are:<ul>
<li>language bindings (inclusive high-level interfaces)</li>
<li>GenElektra, the code generator for type-safe bindings</li>
<li>plugins for configuration access behaviour and validation</li>
</ul>
</li>
<li><em>SpecElektra</em> is a configuration specification language that is easy to use and self-contained in the same key database (i.e. written in any of the configuration file formats Elektra supports).</li>
<li>Tools on top of LibElektra for administrators, such as CLI tools and GUIs.</li>
</ol>
<p>See <a href="http://libelektra.org">http://libelektra.org</a></p>
<p>The same text as follows is also available <a href="http://doc.libelektra.org/news/9c9247ee-ee9c-4f4a-a68e-76959def9b82.html">here as html</a> and https://github.com/ElektraInitiative/libelektra/blob/master/doc/NEWS.md "here on github"</p>
<h2>Highlights</h2>
<ul>
<li>Elektra now allows applications to support multiple profiles with a plugin, thus <em>without code modifications</em> in Elektra applications. That means a user can select multiple configuration files to use, even if the application has no explicit support for it. It completes the cascading feature (level $HOME before /etc), to allows us also to select different configuration for the same level.</li>
<li>Resolver can now better handle conflicts that happen when files are removed and others that happen within a single time tick (resolution of your clock) and also better handles NFS and older file systems</li>
<li>Default storage and resolver can be changed by symlink. So no need to recompile Elektra to change the default storage from INI to dump. INI now works quite reliable as default plugin and already used by default by its author Thomas Waser.</li>
</ul>
<h2>Other important features</h2>
<ul>
<li>shell plugin allows you to execute shell commands on every KDB access and curlget plugin allows you to download configuration files from a URL during KDB access.</li>
<li>Improvements in sync/merge of qt-gui with important fix (Usage of 0.8.15 qt-gui is discouraged)</li>
<li>Add plugin for dpkg database (read-only)</li>
<li>Assignment for conditionals using <code>assign/condition</code>.</li>
<li>Support for multiple and nested statements</li>
<li>Support for <code>condition/validsuffix</code> which allows you to suffix numbers with signs such as <code>%</code> or <code>$</code>. It does not check if the suffixes are identical.</li>
<li>kdb mount now uses topological sorting to always find a dependency solution if there is one, many effort was put in that ordering is as requested, thanks to Thomas Waser for the topological sorting implementation</li>
<li>Frontend generated by GenElektra now also can reload its values with taking the correct context into account.</li>
<li>Source is now automatically formatted and formatting is checked on build server</li>
<li>More flexible CMake syntax for PLUGINS</li>
</ul>
<h2>Plugins</h2>
<p>Many new or vastly improved plugins are waiting to be explored.</p>
<h3>curlget</h3>
<p>The plugin curlget fetches a configuration file from a remote host before the configuration is being accessed: </p><pre class="fragment">kdb mount -R noresolver /tmp/curltest.ini system/curltest ini curlget url="https://raw.githubusercontent.com/ElektraInitiative/libelektra/master/src/plugins/ini/ini/plainini"
kdb ls system/curltest  # every get access will redownload the file
</pre><p>Thanks to Thomas Waser!</p>
<h3>INI</h3>
<p>The INI plugin is still under heavy development and was again nearly rewritten:</p>
<ul>
<li>fixed key is below hacks</li>
<li>fixed ordering</li>
<li>custom delimiter</li>
<li>use meta array for comments</li>
<li>rewritten ordering</li>
<li>best effort order</li>
<li>fixed array support</li>
</ul>
<p>Thanks to Thomas Waser!</p>
<h3>shell</h3>
<p>This plugin allows you to executes shell commandos after kdbGet, kdbSet and kdbError (failing kdbSet): </p><pre class="fragment">kdb mount /tmp/test.ini system/shelltest ini array= shell 'execute/set=echo set &gt;&gt; /tmp/log,execute/get=echo get &gt;&gt; /tmp/log'
kdb set system/shelltest
cat /tmp/log
</pre><p>Thanks to Thomas Waser!</p>
<h3>validation</h3>
<p>The validation plugin is not new, but got many new features. It allows you to match values by a regex and set your own error messages in case a validation did not match.</p>
<p>Up to now, the regex was given as is to regcomp, which means that if the regex is contained <em>anywhere</em> in the value, the value is accepted.</p>
<p>Often this is not what we want, thus Thomas Waser added special support for icase, word and line validation. Additionally, flags allow you now to ignore the case or invert the match. This can be changed for every individual value or for the whole mountpoint.</p>
<p>Additionally, <code>kdb vset</code> validation was updated to use the new metadata and correctly match against the whole value.</p>
<p>Thanks to Thomas Waser!</p>
<h3>hosts</h3>
<p>Only minor improvements were necessary for the host plugin but it is quite matured already. The contract was changed so that ipv6 addresses for ipv4 addresses will be rejected:</p>
<p>``` </p><h1>kdb mount &ndash;with-recommends /etc/hosts system/hosts hosts</h1>
<h1>kdb set system/hosts/ipv4/localhost ::1</h1>
<p>The command set failed... Reason: localhost value: ::1 message: Address family not supported </p><h1>kdb set system/hosts/ipv6/localhost ::1</h1>
<p>```</p>
<p>You can also comfortably and safely edit the hosts file with: <code>kdb editor system/hosts hosts</code>, then you have the functionality <code>sudoedit</code> for the hosts file.</p>
<h3>rename</h3>
<p>Again not a new plugin, but the plugin was greatly improved and many test cases were added.</p>
<p>Now you can set upper/lowercase individually for both sides:</p>
<ol type="1">
<li>What applications see.</li>
<li>What the configuration file contains.</li>
</ol>
<p>For example, if you always want the keys in the configuration file upper case, but for your application lower case you would use: ``` $ kdb mount caseconversion.ini /rename ini rename get/case=tolower,set/case=toupper $ kdb set user/rename/section/key valu $ cat ~/.config/caseconversion.ini [SECTION] KEY = value ```</p>
<p>Thanks to Thomas Waser!</p>
<h3>Resolver</h3>
<p>Resolving by ~ as home directory now also for system and spec namespaces, thanks to Thomas Waser.</p>
<p>Files keep their previous owner, useful when root edits configuration files of others, thanks to Thomas Waser.</p>
<p>The resolver has many improvements to better detect conflicts.</p>
<p>The lock is now extended longer after the commit and already requested in the temporary file.</p>
<p>The warnings were improved when <code>getcwd</code> fails.</p>
<p>Resolver now can correctly handle conflicts with empty files. It can also better cope with frequent commits of the same binary. Elektra already reached some limits filesystems have.</p>
<h2>Bindings</h2>
<h3>Java</h3>
<p>Marvin Mall improved the Java binding, fixed the appending of keysets, added lots of documentation, and many unit tests.</p>
<h3>C++</h3>
<p>Some kind of misusage of vaargs is now detected at compile-time instead of crashing at runtime.</p>
<h3>Generated C++</h3>
<p>Value now supports convenience activations. Values can be used to activate context, no more layers are needed. Topological sorting makes sure that values are activated in the correct order, loops are not allowed anymore.</p>
<p>The <code>bool operator&lt;</code> is now correctly inline (allows to use it in more than one translation unit)</p>
<h2>Documentation</h2>
<p>René Schwaiger&lt;sanssecours&gt; reworked most of the documentation and fixed countless spelling mistakes and other problems.</p>
<ul>
<li>Peter Nirschl updated the status of the crypto-plugin and fixed a typo</li>
<li>Daniel Bugl wrote a cascading tutorial</li>
<li>Daniel Bugl fixed all broken links</li>
<li>René Schwaiger also drew a new logo with SVG. It is already used on github as avatar for the organisation.</li>
<li>make all é use the same code point 233.</li>
</ul>
<h2>Testing</h2>
<ul>
<li>Tests work if the build path contains spaces</li>
<li>Tests: Fix problems locating memory checker</li>
<li>remove obsolete TestScript.cmake</li>
</ul>
<p>Thanks to René Schwaiger</p>
<h2>Maintainer</h2>
<p>By default now ALL plugins except EXPERIMENTAL are included. Plugins will be automatically excluded if dependencies are missing.</p>
<p>The PLUGINS syntax was vastly improved. Now many categories can be intermixed freely and also categories can be used for exclusion.</p>
<p>E.g. to include all plugins without deps, that provide storage (except yajl) and are maintained, but not include all plugins that are experimental, you would use: </p><pre class="fragment">    -DPLUGINS="NODEP;STORAGE;-yajl;MAINTAINED;-EXPERIMENTAL"
</pre><p>Details see https://github.com/ElektraInitiative/libelektra/tree/master/doc/COMPILE.md "/doc/COMPILE.md".</p>
<h3>Renamed files:</h3>
<p>/usr/include/elektra/merging/kdbmerge.hpp -&gt; /usr/include/elektra/merging/mergingkdb.hpp</p>
<p>/etc/profile.d/kdb -&gt; /etc/profile.d/kdb.sh</p>
<p>(So that it works on arch linux, thanks to Gabriel Rauter)</p>
<h3>removed files:</h3>
<ul>
<li>/usr/lib/elektra/libelektra-crypto.so</li>
</ul>
<p>was only necessary because of limitations of the build system and is now removed. It never had actual functionality, but was only a stub without a crypto provider selected.</p>
<h3>new files:</h3>
<ul>
<li>/usr/include/kdbease.h</li>
<li>/usr/lib/elektra4/libelektra-curlget.so*</li>
<li>/usr/lib/elektra4/libelektra-dpkg.so*</li>
<li>/usr/lib/elektra4/libelektra-profile.so*</li>
<li>/usr/lib/elektra4/libelektra-resolver_fm_hpu_b.so</li>
<li>/usr/lib/elektra4/libelektra-shell.so*</li>
</ul>
<p>more new files with ALL or EXPERIMENTAL:</p>
<ul>
<li>/usr/lib/elektra/libelektra-semlock.so</li>
</ul>
<p>new tests all in folder /usr/lib/elektra/tool_exec: testcpp_contextual_update testkdb_conflict test_keyname testmod_curlget testmod_dpkg testmod_jni testmod_profile testmod_semlock testmod_shell testtool_mergingkdb</p>
<p>Following Plugins are excluded on specific platforms:</p>
<ul>
<li>mathcheck on Intel compiler (reason: failing test cases)</li>
<li>simpleini on non-glibc systems (reason: not portable printf extension)</li>
</ul>
<h3>new symlinks:</h3>
<ul>
<li>/usr/lib/elektra4/libelektra-storage.so</li>
<li>/usr/lib/elektra4/libelektra-resolver.so</li>
</ul>
<h3>new releases</h3>
<p>The first release of the libraries libelektratools-full, libelektratools and libelektragetenv. They now have SOVERSION 0.</p>
<h2>Development</h2>
<p>You do not need to format the source manually anymore. Make sure that you run scripts/reformat-source before creating a PR.</p>
<p><code>clang-tidy</code> helps you to add blocks to have better maintainable code.</p>
<p>Felix Berlakovich improved the performance of the augeas plugin and also contributed a script to benchmark different host plugin. His thesis can be downloaded from <a href="http://www.libelektra.org/ftp/elektra/berlakovich2016universal.pdf">here</a>. It contains benchmarks and discussions about augeas.</p>
<p>The CMake function <code>add_plugin</code> was completely rewritten. Now you do not have to register your plugin at multiple points but instead information of README.md is parsed to correctly register the plugin to categories as stated by <code>infos/status</code> and <code>infos/provides</code>.</p>
<p>The code generator for errors also yields macros. This avoids usage of the IDs, which can be problematic if multiple pullrequests are prepared at once.</p>
<h2>Compatibility</h2>
<p>This might be the last release supporting wheezy, because it gets more and more time-intensive to find workarounds for the old compiler. The C++11 regex do not work at all.</p>
<h3>Binary Compatibility Test</h3>
<p>When you execute the testcases of 0.8.15 against Elektra 0.8.16 following testcases fail. None of them effect the API.</p>
<ul>
<li>test_splitget test_splitset .. Internal restructuring</li>
<li>testmod_crypto .. not included by default now</li>
<li>testmod_ini .. section handling changed, line 178: <code>nosectionkey contained no comment</code></li>
<li>testmod_rename .. internal API elektraKeyCreateNewName changed</li>
<li>testmod_resolver .. internal data structure now contains more members to remember uid and gid</li>
<li>testmod_template .. not present by default</li>
<li>testtool_backend testtool_backendbuilder testtool_backendparser</li>
<li>testtool_specreader .. changes in KDB tool before release</li>
<li>check_kdb_internal_check .. experimental plugins are now excluded</li>
</ul>
<h3>Added API</h3>
<p>in libease René Schwaiger added: </p><pre class="fragment">extern char const * elektraKeyGetRelativeName(Key const * cur, Key const * parentKey);
</pre><p>in libmeta Thomas Waser added (partly based on ideas/code from Felix Berlakovich): </p><pre class="fragment">extern void elektraMetaArrayAdd(Key *, char const *, char const *);
extern KeySet * elektraMetaArrayToKS(Key *, char const *);
extern char * elektraMetaArrayToString(Key *, char const *, char const *);
extern int elektraSortTopology(KeySet *, Key * *);
</pre><h2>Tools</h2>
<h3>Qt-gui</h3>
<p>Raffael Pancheri fixed an important issue which broke the synchronization because an key related to Elektra's internal version information was missing.</p>
<p>Felix Berlakovich updated the qt-gui so that it uses a newly written sync-method added in libtools.</p>
<p>Gabriel Rauter added a desktop file that uses the new svg logo from René Schwaiger.</p>
<h2>Portability</h2>
<ul>
<li>Peter Nirschl fixed code in the resolver that uses EBADMSG which was not available in BSD.</li>
<li>Peter Nirschl improved detection of librt</li>
<li>Felix Berlakovich fixed searching of FindSystemd</li>
<li>MinGW64 resolver now handles conflicts correctly and does not ignore them anymore and now also is able to create empty files (but still not directories)</li>
</ul>
<h3>Mac OS X</h3>
<p>A lot of effort was invested to all test cases also run on Mac OS X:</p>
<ul>
<li>.template syntax</li>
<li>linking errors</li>
<li>fix regex in conditionals plugins</li>
</ul>
<p>Thanks to René Schwaiger</p>
<h2>Bugs</h2>
<ul>
<li>print null-environment correctly with <code>kdb getenv</code></li>
<li>keyIs(Direct)Below didn't work with cascading keys</li>
<li>fix elektraKeyGetRelativeName (needed by ni) for cascading keys and move it to libease, thanks to René Schwaiger</li>
<li>make nickel tests show correct test name, thanks to René Schwaiger</li>
<li>glib: replace cursor_t with gssize so that GElektra-4.0.gir builds with gobject-introspection later than 1.47, thanks to Manuel Mausz</li>
<li>fixed out-of-bounds bug in timeofday plugin</li>
<li>elektraMetaArrayToKS correctly adds parent key, thanks to Thomas Waser</li>
<li>kdb-shell: Do not abort ksOutput on binary data.</li>
<li>some rework for global hooks, still not stable</li>
</ul>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.16.tar.gz">here</a> and now also <a href="https://github.com/ElektraInitiative/ftp/tree/master/releases/elektra-0.8.16.tar.gz">here on github</a></p>
<ul>
<li>name: elektra-0.8.16.tar.gz</li>
<li>size: 2405443</li>
<li>md5sum: ef0c138b4a4fda017aa8bb6f812671ce</li>
<li>sha1: c6a6f9c26addd5fcc274cea635de02ef680cfb1a</li>
<li>sha256: 3cf0624eb027e533192ca9d612618df3d38ec3674c9cd20474f04ff269fad77e</li>
<li>sha512: b225e61379907365a423ea75ec7138e5257bb78c526bb05a1ec21f66a52eb4bad9e6f1eb23209d700670b21b86166497b47c3bc46bc9d45f6d366cd544afc326</li>
</ul>
<p>This release tarball now is also available <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.16.tar.gz.gpg">signed by me using gpg</a></p>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.16/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">RSS feed</a> to always get the release notifications.</p>
<p>For any questions and comments, please contact the <a href="https://lists.sourceforge.net/lists/listinfo/registry-list">Mailing List</a> the issue tracker <a href="http://git.libelektra.org/issues">on github</a> or by mail <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<p><a href="http://doc.libelektra.org/news/9c9247ee-ee9c-4f4a-a68e-76959def9b82.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://libelektra.org">http://libelektra.org</a></p>
<p>Best regards, Markus</p>
<h1>0.8.15 Release</h1>
<ul>
<li>guid: 1ab4a560-c286-46d2-a058-1a8e7e208fe8</li>
<li>author: Markus Raab</li>
<li>pubDate: Tue, 16 Feb 2016 17:47:00 +0100</li>
</ul>
<p>In case you do not yet know about it, here is an abstract about Elektra:</p>
<p>Elektra serves as a universal and secure framework to access configuration parameters in a global, hierarchical key database. Elektra provides a mature, consistent and easily comprehensible API. Its modularity effectively avoids code duplication across applications and tools regarding configuration tasks. Elektra abstracts from cross-platform-related issues and allows applications to be aware of other applications' configurations, leveraging easy application integration.</p>
<p>See <a href="http://libelektra.org">http://libelektra.org</a></p>
<h2>Overview</h2>
<p>This is one of the largest release up to now. It includes many user-visible improvements. Some highlights:</p>
<ul>
<li>Mounting is vastly improved: think about Debian's "dpkg" to "apt"-like functionality</li>
<li>In previous releases you could already specify the structure of the configuration. Now you can also automatically enforce this property.</li>
<li>We split the shared library <code>libelektra</code> into smaller parts. Now users can link against the parts of the library they need.</li>
<li>As always, the ABI and API is fully forward-compatible.</li>
<li>The release contains improvements in the https://github.com/ElektraInitiative/libelektra/blob/master/doc/decisions/bootstrap.md "bootstrapping process".</li>
<li>We improved the <code>ini</code>, <code>rename</code> and <code>crypto</code> plugins.</li>
<li>The tool <code>kdb</code> now supports bookmarks and profiles.</li>
<li>The new tool <code>kdb editor</code> allows you to edit KDB configuration in your favorite text editor.</li>
<li>We are glad of the new packages for Debian, Arch Linux and OpenWRT.</li>
</ul>
<p>The same text as follows is also available <a href="http://doc.libelektra.org/news/1ab4a560-c286-46d2-a058-1a8e7e208fe8.html">here as html</a> and https://github.com/ElektraInitiative/libelektra/blob/master/doc/NEWS.md "here on github"</p>
<h2>Global Mount</h2>
<p>Sometimes you simply want some functionality for the whole key database. For example, you want to enable logging or notification of configuration changes. In previous versions, you had to change every mountpoint individually. Even more problematic, every mountpoint created its individual logs and notifications, without any way for someone to know if an application has issued its last log/notification.</p>
<p>These problems are now solved by global plugins. The same plugins are reused for this purpose. Also the mounting works nearly in the same way, you only have to omit the configuration file and the mountpoint: </p><pre class="fragment">    kdb global-mount syslog journald dbus
</pre><p>Voilà, from now on every configuration change gets logged to syslog and journald. Additionally, every application gets notified via dbus.</p>
<p>If you want it more verbose for debugging, you can easily do so by: </p><pre class="fragment">    kdb global-mount logchange counter
</pre><p>Which gives you detailed information to standard output which keys were changed/edited/deleted. Additionally, Elektra counts how often the <code>counter</code> plugin is invoked.</p>
<p>The underlying work for the global plugins, i.e. hooks in the core libraries and the <code>list</code> plugin that allows us to use many plugins without bloating the core was done by Thomas Waser.</p>
<p>It was already possible in earlier versions of Elektra to specify the configuration of your program. Until now, this specification could be mainly used to to generate code as described <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/tools/gen">here</a>. This release adds two more interesting options:</p>
<ol type="1">
<li>the spec plugin, and</li>
<li>the spec mount.</li>
</ol>
<h2>Spec Plugin</h2>
<p>The most important global plugin that is now newly introduced with this release (thanks to Thomas Waser) is the <code>spec</code> plugin. By default it will be added for every global-mount. So for a new installation make sure you executed at least once: </p><pre class="fragment">    kdb global-mount
</pre><p>The spec plugin is a global plugin that copies metadata from the <code>spec</code>-namespace to other namespaces. That means, it reads the specification, and makes sure that the configuration conforms to it. The actual validation is done by the many validation plugins already present.</p>
<p>Lets start by saying a key is a long and must have at least the value 10: </p><pre class="fragment">    kdb setmeta spec/example/longkey check/type long
</pre><p>Then we can create a key in a different namespace and see if the <code>spec</code> plugin applies the meta-data correctly: </p><pre class="fragment">    kdb set /example/longkey 25
    kdb lsmeta /example/longkey
</pre><p>Should now at least print <code>check/type</code>. By itself, this is useful for documentation of keys. For example, the application developer says: </p><pre class="fragment">    kdb setmeta spec/example/longkey description "Do not change"
    kdb setmeta spec/example/longkey example 30
</pre><p>The user can retrieve this documentation by: </p><pre class="fragment">    kdb getmeta /example/longkey description
</pre><p>But we want <code>check/type</code> to be not only a documentation, but also enforced.</p>
<h2>Spec Mount</h2>
<p>Using <code>kdb setmeta</code> extensively and always looking out that all plugins are mounted correctly is error-prone. So instead, one can directly mount the plugins as specified. For the example above one simply needs: </p><pre class="fragment">    kdb setmeta spec/example mountpoint example.ecf
    kdb spec-mount /example
</pre><p>Now, when we try to modify <code>/example/longkey</code> it will be validated: </p><pre class="fragment">    kdb set /example/longkey a
    &gt; Error (#52) [...] long [not] matched [...] a
</pre><p>Based on the present meta-data, the correct plugins (in this case <code>type</code> because of the metadata <code>check/type</code>) will be loaded.</p>
<p>We can also create a whole specification file, first mount the specification and then the mountpoint according the specification, e.g when we have <code>battery.ini</code> in the folder <code>$(dirname $(kdb file spec))</code> with following content: </p><pre class="fragment">    []
    mountpoint = battery.ini
    infos/plugins = ini

    [level]
    check/enum = 'critical', 'low', 'high', 'full'
</pre><p>Then we can use: </p><pre class="fragment">    # mount the file itself:
    kdb mount battery.ini spec/example/battery ni
    # make sure all plugins are present (e.g. enum for check/enum):
    kdb spec-mount /example/battery
</pre><p>Now lets verify if it worked: </p><pre class="fragment">    kdb lsmeta /example/battery/level
    # we see it has a check/enum
    kdb getmeta /example/battery/level check/enum
    # now we know allowed values
    kdb set /example/battery/level low
    # success, low is ok!
    kdb set /example/battery/level wrong
    # fails, not one of the allowed values!
</pre><p>The main idea of the spec-mount is: search a plugin for every specification (meta-data) found in the spec-namespace.</p>
<h2>General Mount Improvements</h2>
<p>In earlier versions <code>kdb mount</code> failed when plugin dependencies were not satisfied. Now dependencies will automatically be fulfilled, e.g. </p><pre class="fragment">    kdb mount /etc/modules system/modules line
</pre><p>In earlier versions you would have got an error because of the missing <code>null</code> plugin. Now it simply adds the needed plugins.</p>
<p>The plugins given in the command-line used to be real plugins. Now also so called providers are accepted.</p>
<p>To make providers useful we need to actually know which plugin is the best candidate. To get the information we added a <code>infos/status</code> clause in the contract. In this clause the plugin developer adds many details how well the plugin is tested, reviewed, documented, maintained and so on. Based on this information, the best suited plugin will be chosen. For example, you now can use: </p><pre class="fragment">    kdb mount /etc/security/limits.conf system/limits augeas \
            lens=Limits.lns logging
</pre><p>And the best suitable logger will automatically be chosen.</p>
<p>The configuration variable <code>/sw/kdb/current/plugins</code> now allows us to pass plugin configuration with the same syntax as the plugin specification passed on the commandline. A subtle difference is that thus the shell-splitting of arguments is missing, it is not possible to include whitespaces in the plugin configuration that way.</p>
<p>Now it is also possible to include the same plugin multiple times and also give them individual names. This feature is essential for script-based plugins, e.g. you now might add: </p><pre class="fragment">    kdb mount file.x /example/mountpoint \
            lua#resolver script=resolver.lua \
            lua#storage script=storage.lua
</pre><p>Furthermore, <code>kdb mount</code> now supports recommendations, which can be enabled with <code>--with-recommends</code>. E.g. supplied to the mount command using augeas above, comments will automatically transformed to meta-data to avoid cluttering of the real configuration.</p>
<h2>Library Split</h2>
<p>Up to now, Elektra consisted only of a single shared library, <code>libelektra.so</code>. Not all symbols in it were relevant to end users, for example, some were only needed by plugins. Others were only proposed and not yet part of the stable API. And finally, other symbols were not needed in some situations, e.g. the plugins do not need the <code>kdb</code> interface.</p>
<p>Thus, we split <code>libelektra.so</code>, so that only coherent parts are in the same library:</p>
<ul>
<li><code>libelektra-core.so</code> only contains the <code>KeySet</code> data structure and module loading. Every binary using Elektra should link against it.</li>
<li><code>libelektra-kdb.so</code> contains the missing <code>KDB</code> symbols. Together with the <code>core</code> they contain everything declared in <code>kdb.h</code>. Michael Zehender plans to have multiple variants of <code>libelektra-kdb.so</code> that use different kinds of concurrency. Headerfile: <code>&lt;kdb.h&gt;</code></li>
<li><code>libelektra-ease.so</code> adds functionality missing in <code>core</code> to make the life for C programmers easier. New headerfile: <code>kdbease.h</code></li>
<li><code>libelektra-proposal.so</code> adds functionality proposed for <code>core</code>. It directly uses internal structures of <code>core</code>, thus they always need to have exactly the same version. Headerfile: <code><a class="el" href="kdbproposal_8h.html" title="Proposed declarations. ">kdbproposal.h</a></code></li>
</ul>
<p>The source code is now better organized by the introduction of a <code>libs</code> folder. The explanation of every library can be found in <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/libs">/src/libs/</a>.</p>
<p>The rationale of the library split is documented https://github.com/ElektraInitiative/libelektra/blob/master/doc/decisions/library_split.md "here". Shortly put, it was needed for further evolution and allowing us to grow and enhance without getting a fat core.</p>
<p>Thanks to Manuel Mausz for fixing many bugs related to the library split and also adapting all the bindings for it.</p>
<h3>Benchmark</h3>
<p>To show that the split does not make Elektra slower, Mihael Pranjić made a small benchmark. The real time of <a href="https://github.com/ElektraInitiative/libelektra/blob/master/benchmarks/large.c">benchmarks/large</a> and revision 634ad924109d3cf5d9f83c33aacfdd341b8de17a</p>
<ol type="1">
<li>kdb-static: Median :0.8800</li>
<li>kdb-full: Median :0.8700</li>
<li>kdb: Median :0.8700</li>
</ol>
<p>So it seems that the split does not influence the time of running elektrified processes.</p>
<p><em>Times were measured with time(1) and the median is calculated for 21 runs of benchmarks/large. This was done using <a href="https://github.com/ElektraInitiative/libelektra/blob/master/scripts/benchmark_libsplit.sh">scripts/benchmark_libsplit.sh</a></em></p>
<h2>Compatibility</h2>
<p>As always, the ABI and API is fully forward-compatible, i.e. programs compiled against an older 0.8 version of Elektra will continue to work (ABI) and you will be able to recompile every program without errors (API).</p>
<p>We added <code>keyGetNamespace</code> which allows us to handle all namespaces in a switch and to iterate all namespaces. This is essential, when a new namespace is added, thus then the compiler can warn you about every part where the new namespace is not yet considered. We currently do not plan to add a new namespace, but better be safe than sorry.</p>
<p>The internal function <code>keyCompare</code> now also detects any meta-data change.</p>
<p>libtools was nearly rewritten. Even though it is mostly API compatible (you should not use the low-level <code>Backend</code> anymore but instead use the <code>BackendBuilder</code>), it is certainly not ABI compatible. If you have an undefined symbol: <code>_ZN3kdb5tools7Backend9addPluginESsNS_6KeySetE</code> you need to recompile your tool. Even the merging part has ABI incompatibility (different size of <code>_ZTVN3kdb5tools7merging14NewKeyStrategyE</code>). Unfortunately, we still cannot guarantee compatibility in <code>libtools</code>, further changes are planned (e.g. implementing mounting of lazy plugins).</p>
<p>The python(2) and lua interfaces changed, an additional argument (the plugin configuration) is passed to <code>open</code>.</p>
<p>The INI plugin was rewritten, so many options changed in incompatible ways.</p>
<p>The default format plugin (e.g. for import/export) is no longer hardcoded to be <code>dump</code>. Instead KDB_DEFAULT_STORAGE will be used. To get KDB_DEFAULT_STORAGE you can use the constants plugin: </p><pre class="fragment">    kdb mount-info
    kdb get system/info/constants/cmake/KDB_DEFAULT_STORAGE
</pre><p>Thanks to Manuel Mausz plugins do no longer export any method other than <code>elektraPluginSymbol</code>. It now will fail if you directly linked against plugins and did not correctly use their public interface. Please use the module loading and access functions via the contract.</p>
<p>The CMake and Pkgconfig Files now only link against <code>elektra-core</code> and <code>elektra-kdb</code>. If you used some symbols not present in <code>kdb.h</code>, your application might not work anymore.</p>
<p><code>libelektra.so</code> is still present for compatibility reasons. It should not be used for new applications. Some unimportant parts, however, moved to the "sugar" libraries. E.g. the symbol <code>elektraKeyCutNamePart</code> is no longer part of <code>libelektra.so</code>.</p>
<h3>Bootstrapping</h3>
<p>When you use <code>kdbOpen</code> in Elektra as first step it reads mountpoint configuration from <code>/elektra</code>. This step is the only hardcoded one, and all other places of the KDB's tree can be customized as desired via mounting.</p>
<p>The bootstrapping now changed, so that <code>/elektra</code> is not part of the default configuration <code>default.ecf</code> (or as configured with <code>KDB_DB_FILE</code>), but instead we use <code>elektra.ecf</code> (or as configured with <code>KDB_DB_INIT</code>). This behaviour solves the problem that <code>default.ecf</code> was read twice (and even differently, once for <code>/elektra</code> and once for <code>/</code>).</p>
<p>To be fully compatible with previous mountpoints, Elektra will still read mountpoints from <code>default.ecf</code> as long as <code>elektra.ecf</code> is not present.</p>
<p>To migrate the mountpoints to the new method, simply use: </p><pre class="fragment">    kdb upgrade-bootstrap
</pre><p>which basically exports <code>system/elektra/mountpoints</code>, then does <code>kdb rm -r system/elektra/mountpoints</code> so that <code>default.ecf</code> will be without an mountpoint and thus the compatibility mode does not apply anymore. As last step it will import again what it exported before.</p>
<p>https://github.com/ElektraInitiative/libelektra/blob/master/doc/decisions/bootstrap.md "Details are here"</p>
<h2>Plugins</h2>
<p>We already highlighted the new <code>spec</code> plugin, but also other plugins were improved at many places. Small other changes are:</p>
<ul>
<li>Conditionals now also support <code>assign/condition</code> syntax, thanks to Thomas Waser</li>
<li>Lua and Python are not tagged experimental anymore. They now correctly add their configuration to the open-call.</li>
<li>The plugin <code>yajl</code> (the json parser and generator) now also accepts the type <code>string</code> and yields better warnings on wrong types.</li>
<li>Improved error message in the <code>type</code> plugin.</li>
</ul>
<p>Larger changes were done in the following plugins:</p>
<h3>INI</h3>
<p>The INI plugin was rewritten and a huge effort was taken so that it fully-roundtrips and additionally preserves all comments and ordering. Currently, it is brand new. It is planned that it will replace <code>dump</code> in the future.</p>
<p>Currently is has some minor problems when used as KDB_DEFAULT_STORAGE. You can avoid most problems by mounting a different file into root: </p><pre class="fragment">    kdb mount root.ini /
</pre><p>Read <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/plugins/ini">here about the details</a>.</p>
<p>A huge thanks to Thomas Waser.</p>
<h3>Rename</h3>
<p>Thanks to Thomas Waser <code>rename</code> is now fixed for cascading keys. Additionally, it does not change the <code>sync</code> status of the keys so that notification plugins work properly afterwards.</p>
<h3>Crypto</h3>
<p>The crypto plugin is a facility for securing sensitive Keys by symmetric encryption of the value. It acts as a filter plugin and it will only operate on Keys, which have the meta-key „crypto/encrypt“ set.</p>
<p>The key derivation is still work-in-progress, so the plugin does not work with kdb yet. A planned method for key derivation is to utilize the gpg-agent.</p>
<p>For now the plugin requires the following Keys within the plugin configuration in order to work properly:</p>
<ol type="1">
<li>/crypto/key - the cryptographic key (binary 256 bit long)</li>
<li>/crypto/iv - the initialization vector (binary 128 bit long)</li>
</ol>
<p>Please note that this method of key input is for testing purposes only and should never be used in a productive environment!</p>
<p>Thanks to Peter Nirschl, especially the patience for also supporting different platforms where dependencies need to be handled differently.</p>
<h2>KDB</h2>
<p>A technical preview of a new tool was added: <code>kdb editor</code> allows you to edit any part of Elektra's configuration with any editor and any syntax. It uses 3-way merging and other stable technology, but it currently does not provides a way to abort editing. So you only should use it with care.</p>
<p>The tool <code>kdb list</code> now searches in the rpath for libraries and thus will also find plugins not present at compile time (using <code>glob</code>). Additionally, it sorts the plugins by <code>infos/status</code> score, which can also be printed with <code>-v</code>. The last plugins printed are the ones ranked highest.</p>
<p>When running as root, <code>kdb</code> will now use the <code>system</code> namespace when writing configuration to cascading key names.</p>
<p>Long paths are cumbersome to enter in the CLI. Thus one can define bookmarks now. Bookmarks are key-names that start with <code>+</code>. They are only recognized by the <code>kdb</code> tool or tools that explicitly have support for it. Applications should not depend on the presence of a bookmark. For example, if you set the bookmark kdb: </p><pre class="fragment">    kdb set user/sw/elektra/kdb/#0/current/bookmarks
    kdb set user/sw/elektra/kdb/#0/current/bookmarks/kdb user/sw/elektra/kdb/#0/current
</pre><p>You are able to use: </p><pre class="fragment">    kdb ls +kdb/bookmarks
    kdb set +kdb/format ini
</pre><p>The kdb tool got much more robust when the initial configuration is broken, no man page viewer is present or Elektra was installed wrongly.</p>
<p>The <code>--help</code> usage is unified and improved.</p>
<p>The new keyname naming conventions are now used for configuration of the <code>kdb</code>-tool itself: <code>/sw/elektra/kdb/#0/%/</code> and <code>/sw/elektra/kdb/#0/current/</code> are additionally read. The option <code>-p</code>/<code>--profile</code> is now supported for every command, it allows to fetch configuration from <code>/sw/elektra/kdb/#0/&lt;profile&gt;/</code> instead of <code>current</code>. KDB is more robust when it cannot fetch its own configuration due to KDB errors.</p>
<h2>Coding Guidelines</h2>
<p>Thanks to Kurt Micheli the code guidelines are https://github.com/ElektraInitiative/libelektra/blob/master/doc/CODING.md "now properly documented". Thanks to René Schwaiger we also provide a style file for clang-format.</p>
<p>Furthermore we unified and fixed the source:</p><ul>
<li>only use @ for doxygen commands</li>
<li>always use elektra* functions for allocation</li>
<li>added a file header for every file</li>
</ul>
<h2>C++11 migration</h2>
<p>Since we now only use C++11, we applied <code>clang-modernize</code> which simplified many loops and replaced many <code>0</code> to <code>nullptr</code>. Additionally, we added <code>override</code> and <code>default</code> at many places.</p>
<p>We removed all places where we had <code>ifdefs</code> to use <code>auto_ptr</code> if no modern smart pointer is available.</p>
<p>Because of these changes there is no easy way to compile Elektra without C++11 support, except by avoiding the C++ parts all together.</p>
<p>The C++ <code>KeySet</code> now also supports a <code>get</code> to retrieve whole containers at once. By specializing <code>KeySetTypeWrapper</code> you can support your own containers. Currently only <code>map&lt;string, T&gt;</code> is supported (T is any type supported by <code>Key::get</code>).</p>
<p>If you haven't removed it from your flags already, there is no use anymore to set <code>ENABLE_CXX11</code>.</p>
<h2>Documentation</h2>
<p>The documentation was improved vastly. Most thanks to Kurt Micheli who did a lot of editing and fixed many places throughout the documentation Also thanks to Michael Zehender who added two paragraphs in the main README.md.</p>
<p>Keynames of applications should be called <code>/sw/org/app/#0/current</code>, where <code>current</code> is the default profile (non given). <code>org</code> and <code>app</code> is supposed to not contain <code>/</code> and be completely lowercase. Keynames are documented <a class="el" href="md_doc_help_elektra-key-names.html#doc_help_elektra-key-names_md">here</a>. <a class="el" href="doc_tutorials_application-integration_md.html">See also here</a>. The main reason for long paths is the provided flexibility in the future (e.g. to use profiles and have a compatible path for new major versions of configuration). By using bookmarks, users should not be confronted by it too often.</p>
<ul>
<li>many man pages were improved</li>
<li>many typos were fixed, thanks to Pino Toscano!</li>
<li>Fix documentation for kdb list, thanks to Christian Berrer</li>
<li>Compilation variants are explained better, thanks to Peter Nirschl for pointing out what was missing</li>
<li>document ronn as dependency, thanks to Michael Zehender</li>
<li>fix broken links, thanks to Daniel Bugl</li>
</ul>
<p>Thanks to Kurt Micheli, developers are now warned during compilation on broken links in Markdown. The output format is the same as for gcc. Additionally, the markdown documentation of plugins now get a proper title in the pdf and html output of doxygen.</p>
<h2>Qt-Gui 0.0.10</h2>
<p>Raffael Pancheri again updated qt-gui with many nice improvements:</p>
<ul>
<li>update existing nodes in case the config was changed outside the gui</li>
<li>safely update tree</li>
<li>add update signal to metadata</li>
<li>fix crash when closing the GUI</li>
<li>move Actions in separate file to make main.qml less clustered</li>
<li>plugins do not output messages at startup</li>
<li><code>BackendBuilder</code> is now used, which automatically takes cares of the correct ordering of plugins</li>
<li>Qt 5.4 compatibility is still ensured</li>
<li>C++11 is now used in Qt-Gui, too</li>
</ul>
<h2>Packaging and Build System</h2>
<p>Elektra 0.8.14 now in Debian with qt-gui, man pages, thanks to Pino Toscano <a href="https://packages.qa.debian.org/e/elektra/news/20151215T000031Z.html">read more here</a></p>
<p>Thanks to Gustavo Alvarez for updating and splitting the packages on Arch Linux!</p>
<p>Thanks to <a href="http://friends.ccbib.org/harald/supporting/">Harald Geyer</a>, Elektra is now packaged for OpenWRT. We fixed a number of cross-compilation issues and now officially support building against musl libc, with one minor limitation: RPATH works differently on musl so you need to install all plugins directly in /usr/lib/ or set LD_LIBRARY_PATH. Report any bugs in <a href="https://github.com/haraldg/packages">Harald's OpenWRT packaging issue tracker</a>.</p>
<ul>
<li>export errors/symbols are now called <code>elektra-export-symbols</code> and <code>elektra-export-symbols</code> and can be installed using <code>INSTALL_BUILD_TOOLS</code> (by default off). This is needed for cross-compilation. Thanks to Harald Geyer for reporting.</li>
<li>some header files are renamed because they endlessly included themselves if the header files were found in wrong order. Thanks to Harald Geyer for reporting.</li>
<li>fixed compilation when built on more than 20 cores with &gt;= -j15, thanks to Gustavo Alvarez for reporting and Manuel Mausz for analyzing</li>
<li>lua 5.1 now works too (except for iterators), thanks to Harald Geyer for reporting. thanks to Manuel Mausz for adding a new FindLua.cmake</li>
<li>pdf builds do not fail due to half written files, reported by René Schwaiger and fixed by Kurt Micheli</li>
</ul>
<p>Read about <a href="https://github.com/ElektraInitiative/libelektra#packages">other packages here</a>.</p>
<h2>Fixes and Improvements</h2>
<ul>
<li>3 way merge now properly deals with binary data, thanks to Felix Berlakovich</li>
<li>getenv: fix wrapping on powerpc, thanks to Pino Toscano</li>
<li>markdownlinkconverter: fix char/int mismatch, thanks to Pino Toscano</li>
<li>wresolver: use KDB_MAX_PATH_LENGTH instead of PATH_MAX, thanks to Pino Toscano</li>
<li>Cleaning up #ifdefs that break statements, thanks to Romero Malaquias</li>
<li>Daniel Bugl tested the INI plugin</li>
<li>cmake list_filter was broken because of different behaviour in cmake_parse_arguments, thanks to Christian Berrer for reporting</li>
<li>g++5.3 is now supported</li>
<li>gtest does not link against pthread if not needed</li>
<li>testcases that are built with BUILD_SHARED also successfully work</li>
<li>kdb list works when libs are in same path as plugins, thanks to Harald Geyer for reporting</li>
<li>fix Mac OS issues, thanks to Peter Nirschl, René Schwaiger and Mihael Pranjic</li>
<li>fix resolver-baseflag docu, thanks to Harald Geyer for reporting</li>
<li>do not create wrong directories called <code>(</code> and <code>)</code> in source, thanks to René Schwaiger</li>
<li>fix cmake for systems where iconv is not part of libc, thanks to Michael Zehender and Peter Kümmel (for FindIconv.cmake)</li>
<li>fix segfault in libgetenv if root keys are present</li>
<li>lua: fix Key:tostring(), thanks to Manuel Mausz</li>
<li>add list of <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/bindings">supported bindings</a>, thanks to Manuel Mausz</li>
</ul>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.15.tar.gz">here</a> and now also <a href="https://github.com/ElektraInitiative/ftp/tree/master/releases/elektra-0.8.15.tar.gz">here on github</a></p>
<ul>
<li>name: elektra-0.8.15.tar.gz</li>
<li>size: 2338297</li>
<li>md5sum: 33ec1e5982fb7fbd8893bf7b579b80f0</li>
<li>sha1: 6b1fdd5aa5aaad6ba377b4bb5ef437e0c85319ff</li>
<li>sha256: 6a406986cecb8d4a44485ced118ee803bc039b0824b72298e123b4dd47eb0b22</li>
<li>sha512: 86a408dd546b33e3b437f92f415de7aee6a235189f9eab0762b3f44ab4c453ee369a53de10a9f5b0df1b446460b12c57c6b8b77c282648ec2a49f2328d9af13d</li>
</ul>
<p>This release tarball now is also available <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.15.tar.gz.gpg">signed by me using gpg</a></p>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.15/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">RSS feed</a> to always get the release notifications.</p>
<p>For any questions and comments, please contact the <a href="https://lists.sourceforge.net/lists/listinfo/registry-list">Mailing List</a> the issue tracker <a href="http://git.libelektra.org/issues">on github</a> or by mail <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<p><a href="http://doc.libelektra.org/news/1ab4a560-c286-46d2-a058-1a8e7e208fe8.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://libelektra.org">http://libelektra.org</a></p>
<p>Best regards, Markus</p>
<h1>0.8.14 Release</h1>
<ul>
<li>guid: 519cbfac-6db5-4594-8a38-dec4c84b134f</li>
<li>author: Markus Raab</li>
<li>pubDate: Thu, 19 Nov 2015 17:48:14 +0100</li>
</ul>
<p>Again we managed to release with many new features and plugins (lua, enum, list, crypto, csvstorage, conditionals, mathcheck, filecheck, logchange) many fixes, and especially with a vastly improved polished documentation.</p>
<h2>Documentation Initiative</h2>
<p>The Documentation Initiative is a huge success and now the documentation of Elektra is in a state where someone (preferable a linux guru), never heard of Elektra, still can use Elektra only by reading man pages.</p>
<p>There are now many ways to show a man page:</p>
<ul>
<li>http://libelektra.org/blob/master/doc/help/kdb.md "on github"</li>
<li><a href="http://doc.libelektra.org/api/latest/html/md_doc_help_kdb.html">in the API docu</a></li>
<li>by using <code>kdb --help</code> or <code>kdb help &lt;command&gt;</code></li>
<li>by using <code>man kdb</code></li>
</ul>
<h3>Help system</h3>
<p>Ian Donnelly wrote man pages for all the tools delivered with Elektra. Additionally, nearly all README.md are now also converted to man pages and also to Doxygen.</p>
<h3>Doxygen Filter</h3>
<p>Kurt Micheli did an amazing work with a new doxygen filter. The filter allows all Elektra markdown pages to be also included in the doxygen documentation. Thus all technical concepts are now explained in Markdown pages, this filter is essential.</p>
<p>But even more, the filter also includes all man pages written for the tools, giving a nice html view for them. (In addition to the markdown rendering on github).</p>
<p>Enjoy the <a href="http://doc.libelektra.org/api/0.8.14/html/">result</a>.</p>
<p>A big thanks to Kurt Micheli!</p>
<h3>Further Docu fixes</h3>
<ul>
<li>getenv debugging docu was improved</li>
<li>typo fix: Specify, thanks to Pino Toscano</li>
<li><a href="http://libelektra.org/blob/master/doc/decisions">Design decisions</a> Definition of Bool, capabilities and Publish Subscribe (thanks to Daniel Bugl)</li>
<li>Improve iconv docu</li>
<li>usage examples for many plugins</li>
<li>improve README for line plugin (thanks to Ian Donnelly)</li>
<li>add docu about dependencies for some plugins (thanks to Ian Donnelly)</li>
<li>create many new links within the documentation</li>
</ul>
<h2>Simplicity</h2>
<p>We shifted our http://git.libelektra.org/blob/master/doc/GOALS.md "goals" a bit: We want to prefer simplicity to flexibility. Not because we do no like flexibility, but because we think we achieved enough of it. Currently (and in future) you can use Elektra:</p>
<ul>
<li>obviously as primitive key/value storage</li>
<li>with specifications and dozens of plugins driven by it</li>
<li>with code generation</li>
<li>...</li>
</ul>
<p>But we cut flexibility regarding:</p>
<ul>
<li>namespaces are only useful for configuration (not for arbitrary key/value)</li>
<li>the semantics of <a href="http://git.libelektra.org/blob/master/doc/METADATA.ini">metadata</a></li>
<li>mounting functionality</li>
<li>error code meanings are fixed, if a resolver detects a conflict, our defined error must be used</li>
<li>of course ABI, API</li>
</ul>
<h1>Qt-gui 0.0.9</h1>
<p>Raffael Pancheri again updated his qt-gui to version 0.0.9 (beta) with important of fixes and improvements:</p>
<ul>
<li>Fixes for Qt 5.5</li>
<li>Handling of merge-conflicts improved</li>
<li>Avoid rewriting on merge-conflicts</li>
<li>Allow QML to destroy C++ owned model</li>
<li>Dialog at startup</li>
<li>Reduce memory footprint</li>
<li>add man page</li>
</ul>
<p>A bit thanks to Raffael Pancheri!</p>
<h2>Compatibility</h2>
<p>As always, the API and API is fully forward-compatible, i.e. programs compiled against an older 0.8 versions of Elektra will continue to work.</p>
<p>The behaviour of some plugins, however, changed:</p>
<ul>
<li>the INI plugin, the section handling was improved.</li>
<li>in the NI plugin, the symbol Ni_GetVersion vanished</li>
<li>in the resolver plugin files of other namespaces which are not mounted are not resolved anymore</li>
</ul>
<h3>Build System</h3>
<p>ENABLE_CXX11 does not exist anymore, it is always on. We do not care about 199711L compilers anymore, which makes development easier, without losing any actually used platform.</p>
<p>Some programs that are only used in-source are not installed anymore. (by Pino Toscano)</p>
<p>Python and Lua plugins are enabled now in <code>-DPLUGINS=ALL</code>.</p>
<p>Python3 plugin was renamed to python.</p>
<h2>Lua Plugin</h2>
<p>Manuel Mausz add a lightweight alternative to the python plugin: <a href="http://libelektra.org/blob/master/src/plugins/lua/">the lua plugin</a>. In a similar way, someone can write scripts, which are executed on every access to the http://libelektra.org/blob/master/doc/help/elektra-glossary.md "key database".</p>
<p>To mount a lua based filter, you can use: </p><pre class="fragment">kdb mount file.ini /lua ini lua script=/path/to/lua/lua_filter.lua
</pre><p>Even though it works well, it is classified as technical preview.</p>
<p>Thanks to Manuel Mausz for this plugin!</p>
<h2>Cryptography Plugin</h2>
<p>In this technical preview, Peter Nirschl <a href="http://libelektra.org/blob/master/src/plugins/crypto/">demonstrates how a plugin</a> can encrypt Elektra's values. In testcases it is already able to do so, but for the end user an easy way for key derivation is missing.</p>
<p>A big thanks to Peter Nirschl!</p>
<h2>INI Plugin</h2>
<p>The INI plugin got a near rewrite. Now it handles many situations better, has many more options and features, including:</p>
<ul>
<li>preserving the order</li>
<li>using keys as meta-data</li>
<li>many new testcases</li>
<li>fix escaping</li>
</ul>
<p>Thanks to Thomas Waser for this work!</p>
<h2>Mathcheck plugin</h2>
<p>This plugin allows you to check and even calculate keys from other keys using an polish prefix notation. It supports the typical operations <code>+ - / *</code> and <code>&lt;, &lt;=, ==, !=, =&gt;, &gt;, :=</code>. To mount, check and calculate values, one would use: </p><pre class="fragment">kdb mount mathcheck.dump /example/mathcheck dump mathcheck
kdb setmeta user/example/mathcheck/k check/math "== + a b"
kdb setmeta user/example/mathcheck/k check/math ":= + a b"
</pre><p>For details <a href="http://libelektra.org/blob/master/src/plugins/mathcheck/">see the documentation</a>.</p>
<p>Thanks to Thomas Waser for this important plugin!</p>
<h2>List Plugin</h2>
<p>Currently, Elektra has some limitations on how many plugins can be added to certain http://libelektra.org/blob/master/doc/help/elektra-plugins-ordering.md "placement". Because of the rapidly growing number of plugins, some combinations are not possible anymore.</p>
<p>This plugin tackles the issue, by delegating the work to an arbitrary number of subplugins. As a bonus, it works lazily and thus might avoid the loading of some plugins all together.</p>
<p>Thanks to Thomas Waser for this plugin!</p>
<h2>Conditionals</h2>
<p>Brings <code>if</code> inside Elektra. It lets you check if some keys have the values they should have. </p><pre class="fragment">    kdb mount conditionals.dump /tmount/conditionals conditionals dump
    kdb set user/tmount/conditionals/fkey 3.0
    kdb set user/tmount/conditionals/hkey hello
    kdb setmeta user/tmount/conditionals/key check/condition "(hkey == 'hello') ? (fkey == '3.0')" # success
    kdb setmeta user/tmount/conditionals/key check/condition "(hkey == 'hello') ? (fkey == '5.0')" # fail
</pre><p>For details <a href="http://libelektra.org/blob/master/src/plugins/conditionals/">see the documentation</a>.</p>
<p>Again, thanks to Thomas Waser for this plugin!</p>
<h2>Csvstorage Plugin</h2>
<p>You can now mount csv-files. To mount <code>test.csv</code> simply use: </p><pre class="fragment">kdb mount test.csv /csv csvstorage
</pre><p>There are many options, e.g. changing the delimiter, use header for the key names or predefine how the columns should be named. For details <a href="http://libelektra.org/blob/master/src/plugins/csvstorage/">see the documentation</a>.</p>
<p>Thanks to Thomas Waser!</p>
<h2>Filecheck plugin</h2>
<p>This plugin lets you validate lineendings, encodings, null, bom and unprintable characters.</p>
<p>The also new plugin lineendings is already superseded by the filecheck plugin.</p>
<p>Thanks to Thomas Waser!</p>
<h2>Enum plugin</h2>
<p>The Enum plugin checks string values of Keys by comparing it against a list of valid values.</p>
<p>Thanks to Thomas Waser!</p>
<h2>Elektrify Machinekit.io</h2>
<p>We are proud that <a href="http://www.machinekit.io/">Machinekit</a> starts using Elektra.</p>
<p>Alexander Rössler is digging into all details, and already enhanced the DBUS Plugin for their needs. DBus now can emit a message for every changed key.</p>
<p>A big thanks to Alexander Rössler!</p>
<h2>Bugfixes</h2>
<ul>
<li>libgetenv did not reinitalized its mutexes on forks</li>
<li>add needSync also in C++ binding</li>
<li>handle removed current working directories (fallback to /)</li>
<li>avoid segfault on missing version keys (when doing <code>kdb rm system/elektra/version</code>)</li>
<li>fix glob plugin + kdb mount with http://libelektra.org/blob/master/doc/help/elektra-contracts.md "config/needs usage"</li>
<li>fix different handling of strerror_r in Mac OS X (thanks to Daniel Bugl)</li>
<li>do not change the users parentKey in early-error scenarios</li>
<li>do not try to interpret some binary keys as function keys</li>
</ul>
<h2>Other Gems</h2>
<ul>
<li>getenv example: do not link to elektra/elektratools, thanks to Pino Toscano</li>
<li>fixes in other examples</li>
<li>avoid useless UTF-8 chars and fix typos, thanks to Kurt Micheli</li>
<li>fix kdb check return code (open fail)</li>
<li>pdf now also allows UTF-8 characters if added to elektraSpecialCharacters.sty, thanks to Kurt Micheli</li>
<li>libgetenv: lookup also used for layers</li>
<li>handle wrong arguments of metals better, thanks to Ian Donnelly</li>
<li>Improvement of error messages in the augeas plugin</li>
<li><code>kdb set</code> avoids fetching unnecessary namespaces</li>
<li>verbose unmount</li>
<li>logchange: small demonstration plugin to show how to log added, removed and changed keys</li>
<li>setmeta will use spec as default</li>
<li>libtools: avoid useless getName, add verbosity flag for findBackend</li>
<li>Improve iconv error messages</li>
<li>That mount needs permissions to /etc should now really be obvious with new error message</li>
<li>many fixes in the template for new plugins</li>
</ul>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.14.tar.gz">here</a> and now also <a href="https://github.com/ElektraInitiative/ftp/tree/master/releases/elektra-0.8.14.tar.gz">here on github</a></p>
<ul>
<li>name: elektra-0.8.14.tar.gz</li>
<li>size: 2252008</li>
<li>md5sum: a87cd3845e590bf413959dfd555e3704</li>
<li>sha1: 2360603c347ae3f3a28e827eb9260ff0b9881e46</li>
<li>sha256: af681a38c9c2921b8d249f98ab851c3d51371735471d8a1f833a224c4446fe2e</li>
</ul>
<p>This release tarball now is also available <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.14.tar.gz.gpg">signed by me using gpg</a></p>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.14/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">RSS feed</a> to always get the release notifications.</p>
<p>For any questions and comments, please contact the <a href="https://lists.sourceforge.net/lists/listinfo/registry-list">Mailing List</a> the issue tracker <a href="http://git.libelektra.org/issues">on github</a> or by mail <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<p><a href="http://doc.libelektra.org/news/519cbfac-6db5-4594-8a38-dec4c84b134f.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://libelektra.org">http://libelektra.org</a></p>
<p>Btw. the whole release happened with http://libelektra.org/blob/master/src/libgetenv/README.md "elektrify-getenv" enabled.</p>
<p>Best regards, Markus</p>
<h1>0.8.13 Release</h1>
<ul>
<li>guid: 3c00a5f1-c017-4555-92b5-a2cf6e0803e3</li>
<li>author: Markus Raab</li>
<li>pubDate: Thu, 17 Sep 2015 17:32:16 +0200</li>
</ul>
<p>Again we managed to release with many new features, many fixes and also other improvements.</p>
<h2>Elektrify-getenv</h2>
<p>getenv(3) is one of the most popular ways to retrieve configuration, even though it has many known problems:</p>
<ul>
<li>no standard way to modify it</li>
<li>relogin (or restart of shell) necessary</li>
<li>names are flat (no hierarchical structure)</li>
<li>cannot be set for individual applications</li>
<li>different in at, cron and similar scripts</li>
</ul>
<p>With elektrify-getenv we wrote a solution which solves most of the problems. We use the LD_PRELOAD technique to <em>additionally</em> retrieve values from Elektra, and not only the environment.</p>
<p>You simply can do:</p>
<p>```bash kdb set user/env/override/HTTP_PROXY "http://my.proxy:8080" ```</p>
<p>This will set the <code>HTTP_PROXY</code> environment variable to <code><a href="http://my.proxy:8080">http://my.proxy:8080</a></code>. Configuration can be retrieved with <code>kdb get</code>:</p>
<p>```bash kdb get user/env/override/HTTP_PROXY lynx # or start another www-browser with the newly set HTTP_PROXY ```</p>
<p>Or using the man pages: </p><pre class="fragment">kdb elektrify-getenv man man --elektra:MANWIDTH=40
</pre><p>Will use MANWIDTH 40 for this invocation of man man. This feature is handy, if an option is only available by environment, but not by command-line arguments, because sometimes environment variables are not trivial to set (e.g. in Makefiles).</p>
<p>Some more examples: </p><pre class="fragment">kdb set user/env/override/MANOPT -- "--regex -LC"
kdb elektrify-getenv getenv MANOPT   # to check if it is set as expected
kdb getenv MANOPT   # if /etc/ld.so.preload is active
</pre><p>So is this the final solution for configuration and manual elektrification of applications is not needed anymore?</p>
<p>The answer is: no and yes.</p>
<p>It is quite satisfactory for configuration that is inherently sharable (not different from one application to another) <em>and</em> needs the environment semantics, i.e. some subprocesses should have different configuration than others, e.g. in a specific terminal.</p>
<p>But it might not be a good solution for your own application, because libgetenv(3) implies many architectural decision, that other elektrified applications would decide differently, e.g.:</p>
<ul>
<li>it uses global variables (getenv(3) has no handle)</li>
<li>it uses mutex for multi-threading safety</li>
<li>the API getenv(3) only returns <code>char*</code> and has no support for other data types</li>
</ul>
<p>For more information see http://git.libelektra.org/blob/master/src/libgetenv/README.md "src/libgetenv/README.md"</p>
<h2>Compatibility</h2>
<p>As always, the API and API is fully forward-compatible, i.e. programs compiled against an older 0.8 versions of Elektra will continue to work.</p>
<p>Because <code>keyUnescapedName</code> and <code>keyGetUnescapedNameSize</code> is added in this release, it is not backward-compatible, i.e. programs compiled against 0.8.13, might <em>not</em> work with older 0.8 libraries.</p>
<p>The function <code>keyUnescapedName</code> provides access to an unescaped name, i.e. one where <code>/</code> and <code>\\</code> are literal symbols and do not have any special meaning. <code>NULL</code> characters are used as path separators. This function makes it trivial and efficient to iterate over all path names, as already exploited in all bindings:</p>
<ul>
<li><a href="http://git.libelektra.org/blob/master/src/bindings/jna/HelloElektra.java">jna (java)</a></li>
<li><a href="http://git.libelektra.org/blob/master/src/bindings/swig/lua/tests/test_key.lua">lua</a></li>
<li><a href="http://git.libelektra.org/blob/master/src/bindings/swig/python2/tests/testpy2_key.py">python2</a></li>
<li><a href="http://git.libelektra.org/blob/master/src/bindings/swig/python3/tests/test_key.py">python3</a></li>
</ul>
<p>Other small changes/additions in bindings:</p>
<ul>
<li>fix key constructor, thanks to Manuel Mausz</li>
<li>add copy and deepcopy in python (+examples,+testcases), thanks to Manuel Mausz</li>
<li>dup() in python3 returned wrong type (SWIG wrapper), thanks to Toscano Pino for reporting, thanks to Manuel Mausz for fixing it</li>
</ul>
<p>Doxygen 1.8.8 is preferred and the configfile was updated to this version.</p>
<p>The symbols of nickel (for the ni plugin) do not longer leak from the Elektra library. As such, old versions of testmod_ni won't work with Elektra 0.8.13. A version-script is now in use to only export following symbols:</p>
<ul>
<li>kdb*</li>
<li>key*</li>
<li>ks*</li>
<li>libelektra* for module loading system</li>
<li>elektra* for proposed and other functions (no ABI/API compatibility here!)</li>
</ul>
<p>In this release, ENABLE_CXX11 was changed to <code>ON</code> by default.</p>
<p>Note that in the next release 0.8.14 there will be two changes:</p>
<ul>
<li>According to <a href="http://git.libelektra.org/issues/262">issue #262</a>, we plan to remove the option ENABLE_CXX11 and require the compiler to be C++11 compatible. If you have any system you are not able to build Elektra with -DENABLE_CXX11=ON (which is the default for 0.8.13) please report that immediately.</li>
<li>the python3 bindings will be renamed to python</li>
</ul>
<p>By not having to care for pre-C++11 compilers, we hope to attract more developers. The core part is still in C99 so that Elektra can be used on systems where libc++ is not available. Many new plugins are still written in C99, also with the purpose of not depending on C++.</p>
<h2>Python Plugins</h2>
<p>A technical preview of <a href="http://git.libelektra.org/blob/master/src/plugins/python">python3</a> and <a href="http://git.libelektra.org/blob/master/src/plugins/python2">python2</a> plugins has been added.</p>
<p>With them its possible to write any plugin with python scripts.</p>
<p>Note, they are a technical preview. They might have severe bugs and the API might change in the future. Nevertheless, it is already possible to, e.g. develop storage plugins with it.</p>
<p>They are not included in <code>ALL</code> plugins. To use it, you have to specify it: </p><pre class="fragment">-PLUGINS="ALL;python;python2"
</pre><p>Thanks to Manuel Mausz for to this work on the plugins and the patience in all the last minute fixes!</p>
<h2>Qt-gui 0.0.8</h2>
<p>The GUI was improved and the most annoying bugs are fixed:</p>
<ul>
<li>only reload and write config files if something has changed</li>
<li>use merging in a way that only a conflict free merge will be written, thanks to Felix Berlakovich</li>
<li>made sure keys can only be renamed if the new name/value/metadata is different from the existing ones</li>
<li>fixed 1) and 2) of #233</li>
<li>fixed #235</li>
<li>fixed qml warning when deleting key</li>
<li>fixed qml typerror when accepting an edit</li>
</ul>
<p>A big thanks to Raffael Pancheri!</p>
<h2>KDB Tool</h2>
<p>The commandline tool <code>kdb</code> also got some improvements. Most noteworthy is that <code>kdb get -v</code> now gives a complete trace for every key that was tried. This is very handy if you have a complex specification with many fallback and override links.</p>
<p>It also shows default values and warnings in the case of context-oriented features.</p>
<p>Furthermore:</p>
<ul>
<li>Add <code>-v</code> for setmeta</li>
<li>Copy will warn when it won't overwrite another key (behaviour did not change)</li>
<li>improve help text, thanks to Ian Donnelly</li>
</ul>
<h2>Documentation Initiative</h2>
<p>As Michael Haberler from <a href="http://www.machinekit.io/">machinekit</a> pointed out it was certainly not easy for someone to get started with Elektra. With the documentation initiative we are going to change that.</p>
<ul>
<li>The discussion in <a href="http://git.libelektra.org/issues">github issues</a> should clarify many things</li>
<li>We start writing man pages in ronn-format(7), thanks to Ian Donnelly for current work</li>
<li>Kurt Micheli is woring on improved doxygen docu + pdf generation</li>
<li>Daniel Bugl already restructed the main page</li>
<li>Daniel Bugl also improved formatting</li>
<li>doc: use <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">more,thanks</td><td>to Pino Toscano</td></tr>
  </table>
  </dd>
</dl>
</li>
<li>doxygen: fix template to use <code>@</code> and not <code>\\</code>.</li>
<li>SVG logo is preferred, thanks to Daniel Bugl</li>
<li>doc: use <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">more,thanks</td><td>to Pino Toscano</td></tr>
  </table>
  </dd>
</dl>
</li>
<li>many typo fixes, thanks to Pino Toscano</li>
<li>fix broken links, thanks to Manuel Mausz, Daniel Bugl and Michael Haberler</li>
</ul>
<p>Any further help is very welcome! This call is especially addressed to beginners in Elektra because they obviously know best which documentation is lacking and what they would need.</p>
<h2>Portability</h2>
<p><code>kdb-full</code> and <code>kdb-static</code> work fine now for Windows 64bit, thanks to Manuel Mausz. The wresolver is now more relaxed with unset environment.</p>
<p>All issues for Mac OS X were resolved. With the exception of elektrify-getenv everything should work now, thanks to Mihael Pranjic:</p>
<ul>
<li>fix mktemp</li>
<li>testscripts</li>
<li>recursive mutex simplification</li>
<li>clearenv ifdef</li>
</ul>
<p>and thanks to Daniel Bugl:</p>
<ul>
<li>RPATH fixed, so that <code>kdb</code> works</li>
</ul>
<p>furthermore:</p>
<ul>
<li>fix <code>__FUNCTION__</code> to <code>__func__</code> (C99), thanks to Pino Toscano</li>
<li>avoid compilation error when JNI_VERSION_1_8 is missing</li>
<li>fix (twice, because of an accidental revert) the TARGET_CMAKE_FOLDER, thanks to Pino Toscano</li>
</ul>
<p>Thanks to Manuel Mausz for to testing and improving portability!</p>
<h2>Packaging and Build System</h2>
<ul>
<li><a href="https://packages.qa.debian.org/e/elektra/news/20150726T155000Z.html">0.8.12 packaged+migrated to testing</a>, thanks to Pino Toscano</li>
<li>fix build with external gtest, thanks to Pino Toscano</li>
<li>switch from FindElektra.cmake to ElektraConfig.cmake, thanks to Pino Toscano</li>
<li>use <code>cmake_parse_arguments</code> instead of <code>parse_arguments</code>, thanks to Manuel Mausz</li>
</ul>
<h2>Further Fixes</h2>
<ul>
<li>Key::release() will also work when Key holds a null-pointer</li>
<li>Key::getName() avoids std::string exception</li>
<li>support for copy module was introduced, thanks to Manuel Mausz</li>
<li>be more POSIX compatible in shell scripts (<code>type</code> to <code>command -v</code> and avoid <code>echo -e</code>) thanks to Pino Toscano</li>
<li>fix vararg type for KEY_FLAGS, thanks to Pino Toscano</li>
<li>fix crash of example, thanks to Pino Toscano</li>
<li>add proper licence file for Modules (COPYING-CMAKE-SCRIPTS), thanks to Pino Toscano</li>
<li>fix XDG resolver issue when no given path in XDG_CONFIG_DIRS is valid</li>
<li>make dbus example work again</li>
<li>fix compiler warnings for gcc and clang</li>
<li>fix valgrind suppressions</li>
<li>Installation of GI binding is fixed, thanks to Dāvis</li>
<li>make uninstall is fixed and docu improved</li>
</ul>
<h2>Notes</h2>
<p>There are some misconceptions about Elektra and semi structured data (like XML, JSON). Elektra is a key/value storage, that internally represents everything with key and values. Even though, Elektra can use XML and JSON files elegantly, there are limitations what XML and JSON can represent. XML, e.g., cannot have holes within its structure, while this is obviously easily possible with key/value. And JSON, e.g., cannot have non-array entries within an array. This is a more general issue of that configuration files in general are constrained in what they are able to express. The solution to this problem is validation, i.e. keys that does not fit in the underlying format are rejected. Note there is no issue the other way round: special characteristics of configuration files can always be captured in Elektra's metadata.</p>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.13.tar.gz">here</a> and now also <a href="https://github.com/ElektraInitiative/ftp/tree/master/releases/elektra-0.8.13.tar.gz">here on github</a></p>
<ul>
<li>name: elektra-0.8.13.tar.gz</li>
<li>size: 2141758</li>
<li>md5sum: 6e7640338f440e67aba91bd64b64f613</li>
<li>sha1: ca58524d78e5d39a540a4db83ad527354524db5e</li>
<li>sha256: f5c672ef9f7826023a577ca8643d0dcf20c3ad85720f36e39f98fe61ffe74637</li>
</ul>
<p>This release tarball now is also available <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.13.tar.gz.gpg">signed by me using gpg</a></p>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.13/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">RSS feed</a> to always get the release notifications.</p>
<p>For any questions and comments, please contact the <a href="https://lists.sourceforge.net/lists/listinfo/registry-list">Mailing List</a> the issue tracker <a href="http://git.libelektra.org/issues">on github</a> or by mail <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<p><a href="http://doc.libelektra.org/news/3c00a5f1-c017-4555-92b5-a2cf6e0803e3.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://libelektra.org">http://libelektra.org</a></p>
<p>Best regards, Markus</p>
<h1>0.8.12 Release</h1>
<ul>
<li>guid: 98770541-32a1-486a-98a1-d02f26afc81a</li>
<li>author: Markus Raab</li>
<li>pubDate: Sun, 12 Jul 2015 20:14:09 +0200</li>
</ul>
<p>Again we managed to release with new features, many build system fixes and also other improvements.</p>
<h2>dir namespace</h2>
<p>This namespace adds per-project or per-directory (hence the name) configurations. E.g. think how git works: not only /etc and ~ are relevant sources for configuration but also the nearest .git directory.</p>
<p>This technique is, however, much more widely useful than just for git repositories! Nearly every application can benefit from such a per-dir configuration. Its almost certain that you have already run into the problem that different projects have different guidelines (e.g. coding conventions, languages, whitespace requirements, line breaks, ..). Obviously, thats not a per-user configuration and its also not a per-file issue (thats how its usually solved today). So in fact you want, e.g., your editor to have an additional per-project layer to choose between such settings.</p>
<p>The technique is useful for nearly every other tool:</p><ul>
<li>different color palettes in gimp, inkscape,..</li>
<li>different languages for libreoffice</li>
<li>different security settings for media players, interpreters (e.g. when in Download folder)</li>
<li>per-folder .htaccess in apache or other web servers</li>
<li>any other per-dir configuration you can imagine..</li>
</ul>
<p>It is simple to use, also for the administrative side. First, change to the folder to your folder (e.g. where a project is): </p><pre class="fragment">cd ~/projects/abc
</pre><p>Then add some user (or system or spec) configuration to have some default. </p><pre class="fragment">kdb set user/sw/editor/textwidth 72
</pre><p>Then verify that we get this value back when we do a cascading lookup: </p><pre class="fragment">kdb get /sw/editor/textwidth
</pre><p>The default configuration file for the dir-namespace is <code>pwd</code>/KDB_DB_DIR/filename: </p><pre class="fragment">kdb file dir/sw/editor/textwidth
</pre><ul>
<li>KDB_DB_DIR can be modified at compile-time and is <code>.dir</code> per default</li>
<li>filename can be modified by mounting, see below, and is <code>default.ecf</code> by default</li>
</ul>
<p>We assume, that the project abc has the policy to use textwidth 120, so we change the dir-configuration: </p><pre class="fragment">kdb set dir/sw/editor/textwidth 120
</pre><p>Now we will get the value 120 in the folder ~/projects/abc and its subdirectories (!), but everywhere else we still get 72: </p><pre class="fragment">kdb get /sw/editor/textwidth
</pre><p>Obviously, that does not only work with kdb, but with every elektrified tool.</p>
<h3>mount files in dir namespaces</h3>
<p>For cascading mountpoints, the dir name is also automatically mounted, e.g.: </p><pre class="fragment">kdb mount editor.ini /sw/editor ini
</pre><p>But its also possible to only mount for the namespace dir if no cascading mountpoint is present already: </p><pre class="fragment">kdb mount app.ini dir/sw/app tcl
</pre><p>In both cases keys below dir/sw/editor would be in the INI file <code>.dir/editor.ini</code> and not in the file <code>.dir/default.ecf</code>.</p>
<h3>dir together with spec namespace</h3>
<p>In the project P we had the following issue: We needed on a specific computer the configuration in /etc to be used in favour of the dir config.</p>
<p>We could easily solve the problem using the specification: </p><pre class="fragment">kdb setmeta spec/sw/P/current/org/base override/#0 /sw/P/override/org/base
</pre><p>Hence, we could create system/sw/P/override/org/base which would be in favour of dir/sw/P/current/org/base. So we get system/sw/P/override/org/base when we do: </p><pre class="fragment">kdb get /sw/P/current/org/base
</pre><p>Alternatively, one could also use the specification: </p><pre class="fragment">kdb setmeta spec/sw/P/current/org/base namespace/#0 user
kdb setmeta spec/sw/P/current/org/base namespace/#1 system
kdb setmeta spec/sw/P/current/org/base namespace/#2 dir
</pre><p>Which makes dir the namespace with the least priority and system would be preferred. This was less suitable for our purpose, because we needed the override only on one computer. For all other computers we wanted dir to be preferred with only one specification.</p>
<h3>Conclusion</h3>
<p>The great thing is, that every elektrified application, automatically gets all the mentioned features. Not even a recompilation of the application is necessary.</p>
<p>Especially the specification provides flexibility not present in other configuration systems.</p>
<h2>Qt-Gui 0.0.7</h2>
<p>Raffael Pancheri again did a lot of stabilizing work:</p><ul>
<li>show errormessage on exception when starting gui</li>
<li>Correctly update keyAreaView property when selecting item in TreeView</li>
<li>Fix crash when creating key in MountingWizard</li>
<li>Remove information on successful export</li>
<li>Show error dialog on failed import</li>
<li>Remove namefilters (every syntax can have any file extension)</li>
<li>other namespaces (including dir) are included</li>
</ul>
<p>The GUI can be handy for many purposes, e.g. we use it already as xml and json editor. Note that there are still <a href="http://git.libelektra.org/issues">some bugs</a>.</p>
<h2>Other fixes</h2>
<ul>
<li>constants now additionally gives information about SPEC and DIR.</li>
<li>Doku about CMake variables <code>ELEKTRA_DEBUG_BUILD</code> and <code>ELEKTRA_VERBOSE_BUILD</code> fixed, thanks to Kurt Micheli</li>
<li>Fixed compilation of <code>ELEKTRA_DEBUG_BUILD</code> and <code>ELEKTRA_VERBOSE_BUILD</code>, thanks to Manuel Mausz</li>
<li>Example with error handling added, thanks to Kurt Micheli</li>
<li>Add design decision about global plugins</li>
<li>Split dependencies document to individual README.md, thanks to Ian Donnelly</li>
<li>Fix nearly all compilation warnings of SWIG, thanks to Manuel Mausz</li>
<li>CMake: Fix gtest to be build if <code>BUILD_TESTING</code> activated, but not <code>ENABLE_TESTING</code></li>
<li>CMake: Allow compilation without BUILD_STATIC</li>
<li>Explain compilation options more, thanks to Kai-Uwe Behrmann for asking the question</li>
<li>CMake: always build examples, allow one to only build documentation</li>
<li>add common header file for C++ plugins (used by plugins struct and type)</li>
<li>fix compilation of race tool under oS-11.4 thanks to Kai-Uwe Behrmann</li>
<li>CMake: find python3 correctly</li>
<li>CMake: fix BUILD_SHARED_LIBS</li>
<li>Doxygen: remove <code>HTML_TIMESTAMP</code> to make build reproduceable</li>
<li>Doxygen: rewrite of main page+add info about all five namespaces</li>
<li>CMake: allow one to use qt-gui with qt built with -reduce-relocations</li>
<li>fix kdb ls, get to list warnings during open</li>
<li>during <a class="el" href="group__kdb.html#ga6808defe5870f328dd17910aacbdc6ca" title="Opens the session with the Key database. ">kdbOpen()</a> use Configfile: to state phase</li>
<li>add -f option to kdb check+improve docu</li>
<li>improve readability of warning output</li>
<li>run_all always uses dump for backups</li>
<li>line plugin roundtrips correctly</li>
<li>untypical resolvers have their non-existant filename handled correctly + sync ignored them correctly</li>
<li>cmake-3.0 fixes</li>
<li>cascading merging, a big thanks to Felix Berlakovich for the last minute fix</li>
</ul>
<h2>Compatibility</h2>
<p>As always, the API and API is fully compatible. Because nothing was added, its even possible to link against an older version of Elektra (if compiled against 0.8.12).</p>
<p>In plugins some small changes may effect compatibility:</p><ul>
<li>in rename the handling of parent key is different (see #206)</li>
<li>resolving of spec absolute and relative paths are no more handled identical. Instead absolute paths will be searched absolutely, while relatives are below KDB_DB_SPEC (as before). This behaviour is consistent to the behaviour of the other namespaces.</li>
</ul>
<p>These two points are also the only unit tests that fail when Elektra 0.8.12 is used with 0.8.11 unit tests.</p>
<h2>Build Server</h2>
<ul>
<li>special github command to build bindings "jenkins build bindings please", thanks to Manuel Mausz</li>
<li>open build service update For <a href="https://build.opensuse.org/package/show/home:bekun:devel/elektra">OpenSUSE, CentOS, Fedora, RHEL and SLE</a> Kai-Uwe Behrmann kindly provides packages <a href="http://software.opensuse.org/download.html?project=home%3Abekun%3Adevel&amp;package=libelektra4">for download</a>.</li>
</ul>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.12.tar.gz">here</a> and now also <a href="https://github.com/ElektraInitiative/ftp/tree/master/releases/elektra-0.8.12.tar.gz">here on github</a></p>
<ul>
<li>name: elektra-0.8.12.tar.gz</li>
<li>size: 2102450</li>
<li>md5sum: a40a33ae6661ebfa096378f0986ede6c</li>
<li>sha1: 3594ef58b6e3b0ffa9589d787679b6e739fbb0dd</li>
<li>sha256: 562432bea9455a61ff6e6b3263078ea9b26bef2ed177a04b5f9b181d605bc021</li>
</ul>
<p>This release tarball now is also available <a href="http://www.libelektra.org/ftp/elektra/releases/elektra-0.8.12.tar.gz.gpg">signed by me using gpg</a></p>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.12/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">RSS feed</a> to always get the release notifications.</p>
<p>For any questions and comments, please contact the <a href="https://lists.sourceforge.net/lists/listinfo/registry-list">Mailing List</a> the issue tracker <a href="http://git.libelektra.org/issues">on github</a> or by mail <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<p><a href="http://doc.libelektra.org/news/98770541-32a1-486a-98a1-d02f26afc81a.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://libelektra.org">http://libelektra.org</a></p>
<p>Best regards, Markus</p>
<h1>0.8.11 Release</h1>
<ul>
<li>guid: 7d4647d4-4131-411e-9c2a-2aca39446e18</li>
<li>author: Markus Raab</li>
<li>pubDate: Fri, 03 Apr 2015 02:39:37 +0200</li>
</ul>
<p>From the beginning of the Elektra Initiative, Elektra aimed at avoiding hard-coded information in the application and to make the application's configuration more transparent. While avoiding any paths to files was reality from the first released Elektra version, now also hard-coding default values, fallback mechanisms and even Elektra's paths to keys can be avoided.</p>
<p>How does that work?</p>
<p>Elektra 0.8.11 introduces a so called specification for the application's configuration. It is located below its own namespace <code>spec</code> (next to user and system).</p>
<p>Once the base path is known, the user can find out all Elektra paths used by an application, using: </p><pre class="fragment">kdb ls spec/basepath
</pre><p>Keys in <code>spec</code> allow us to specify which keys are read by the application, which fallback it might have and which is the default value using meta data. The implementation of these features happened in <code>ksLookup</code>. When cascading keys (those starting with <code>/</code>) are used following features are now available (in the meta data of respective <code>spec</code>-keys):</p>
<ul>
<li><code>override/#</code>: use these keys <em>in favour</em> of the key itself (note that <code>#</code> is the syntax for arrays, e.g. <code>#0</code> for the first element, <code>#_10</code> for the 11th and so on)</li>
<li><code>namespace/#</code>: instead of using all namespaces in the predefined order, one can specify which namespaces should be searched in which order</li>
<li><code>fallback/#</code>: when no key was found in any of the (specified) namespaces the <code>fallback</code>-keys will be searched</li>
<li><code>default</code>: this value will be used if nothing else was found</li>
</ul>
<p>This technique does not only give you the obvious advantages, but also provides complete transparency how a program will fetch a configuration value. In practice that means that: </p><pre class="fragment">kdb get "/sw/app/#0/promise"
</pre><p>will give you the <em>exact same value</em> as the application uses when it lookups the key <code>promise</code>. Many <code>if</code>s and hardcoded values are avoided, we simply fetch and lookup the configuration by following code: </p><pre class="fragment">Key *parentKey = keyNew("/sw/app/#0", KEY_CASCADING_NAME, KEY_END);
kdbGet(kdb, ks, parentKey);

ksLookupByName(ks, "/sw/app/#0/promise", 0);
</pre><p>We see in that example that only Elektra paths are hardcoded in the application. But those can be found out easily, completely without looking in the source code. The technique is simple: append a logger plugin and the KDB base path is printed to:</p>
<ul>
<li>stdout in the case of the plugin tracer</li>
<li>syslog in the case of the plugin syslog</li>
<li>journald in the case of the plugin journald</li>
</ul>
<p>What we do not see in the program above are the default values and fallbacks. They are only present in the so specification (namespace <code>spec</code>). Luckily, the specification are key/value pairs, too. So we do not have to learn something new, e.g. using the ni plugin we can specify: </p><pre class="fragment">[promise]
default=20
fallback/#0=/somewhere/else
namespace/#0=user
</pre><p>1.) When this file is mounted to <code>spec/sw/app/#0</code> we specify, that for the key <code>/sw/app/#0/promise</code> only the namespace <code>user</code> should be used. 2.) If this key was not found, but <code>/somewhere/else</code> is present, we will use this key instead. The <code>fallback</code> technique is very powerful: it allows us to have (recursive) links between applications. In the example above, the application is tricked in receiving e.g. the key <code>user/somewhere/else</code> when <code>promise</code> was not available. 3.) The value <code>20</code> will be used as default, even if no configuration file is found.</p>
<p>Note that the fallback, override and cascading works on <em>key level</em>, and not like most other systems have implemented, on configuration <em>file level</em>.</p>
<h2>Namespaces</h2>
<p>The specification gives the namespaces clearer semantics and purpose. Key names starting with a namespace are connected to a configuration source. E.g. keys starting with:</p>
<ul>
<li><code>user</code> are keys from the home directory of the current user</li>
<li><code>system</code> are keys from the <code>/etc</code> directory of the current system</li>
<li><code>spec</code> are keys from the specification directory (configurable with KDB_DB_SPEC, typically <code>/usr/share/elektra/specification</code>)</li>
</ul>
<p>When a key name starts with an <code>/</code> it means that it is looked up by specification. Such a cascading key is not really present in the keyset (except when a default value was found). They are neither received nor stored by <code>kdbGet</code> and <code>kdbSet</code>.</p>
<p>Applications shall only lookup using cascading keys (starting with <code>/</code>). If no specification is present, cascading of all namespaces is used as before.</p>
<p>Elektra will (always) continue to work for applications that do not have a specification. We strongly encourage you, however, to write such a specification, because:</p>
<ul>
<li>it helps the administrator to know which keys exist</li>
<li>it documents the keys (including lookup behaviour and default value)</li>
<li>and many more advantages to come in future releases..</li>
</ul>
<p>For a tutorial how to actually elektrify an application and for more background to Elektra, https://github.com/ElektraInitiative/libelektra/blob/master/doc/tutorials/application-integration.md "read this document".</p>
<p>For a full list of proposed and implemented meta-data, https://github.com/ElektraInitiative/libelektra/blob/master/doc/help/elektra-namespaces.md "read this document".</p>
<h2>Simplification in the merging framework</h2>
<p>As it turned out the concept of very granular merge strategies was hard to understand for users of the three-way merging framework that emerged in the last year's GSoC. While this granularity is desirable for flexibility, we additionally wanted something easy to use. For that reason merge configurations were introduced. These are simply preconfigured configurations for a merger that arrange required strategies for the most common merging scenarios. Especially they make sure that meta merging is handled correctly.</p>
<p>Have a look at the changes in the example <a href="https://github.com/ElektraInitiative/libelektra/blob/master/src/libs/tools/examples/merging.cpp">/src/libs/tools/examples/merging.cpp</a> for an glimpse of the simplifications.</p>
<p>A big thanks to Felix Berlakovich!</p>
<p>The header files will be installed to /usr/include/elektra/merging, but they are subject to be changed in the future (e.g. as they did in this release).</p>
<p>From the merging improvements some minor incompatibility happened in <code>kdb import</code>. Not all merging strategies that worked in 0.8.10 work anymore. Luckily, now its much simpler to choose the strategies.</p>
<h2>API</h2>
<p>The main API kdb.h has two added lines. First a new method was added: </p><pre class="fragment">ssize_t keyAddName(Key *key, const char *addName);
</pre><p>This method is already used heavily in many parts. Contrary to <code>keySetBaseName</code> and <code>keyAddBaseName</code> it allows us to extend the path with more than one Element at once, i.e. <code>/</code> are not escaped.</p>
<p>The other new line is the new enum value <code>KEY_FLAGS</code>. This feature allows bindings to use any flags in keyNew without actually building up variable argument lists. (Thanks to Manuel Mausz)</p>
<p>As always, API+ABI is stable and compatible.</p>
<h2>Proposed</h2>
<p>Many new functions are proposed and can be found in <a href="http://doc.libelektra.org/api/0.8.11/html">the doxygen docu</a> and in <a href="https://github.com/ElektraInitiative/libelektra/blob/master/src/include/kdbproposal.h">kdbproposal.h</a>.</p>
<p>Noteworthy is the method <code>keyGetNamespace</code> which allows us to query all namespaces. Since this release we changed every occurrence of namespaces (except documentation) with switch-statements around <code>keyGetNamespace</code>. This allows us to add new more namespaces more easily. (Although its currently not planned to add further namespaces.)</p>
<p>Finally, a bunch of new lookup options were added, which might not be useful for the public API (they allow us to disable the specification-aware features mentioned in the beginning).</p>
<h2>Obsolete and removed concepts</h2>
<h3>umount</h3>
<p>The concept that backends have a name (other than their mountpoint) is now gone. Backends will simply be named with their escaped mountpath below system/elektra/mountpoints without any confusing additional name.</p>
<p>Unmounting still works with the mountpath.</p>
<p>Removing this concept makes Elektra easier to understand and it also removes some bugs. E.g. having mountpoints which do not differ except having a <code>_</code> instead of a <code>/</code> would have caused problems with the automatic name generation of Elektra 0.8.10.</p>
<p>Old mountpoints need to be removed with their 0.8.10 name (<code>_</code> instead of <code>/</code>).</p>
<h3>directory keys</h3>
<p>Additionally, the so called directory keys were also removed. Elektra was and still is completely key/value based. The <code>/</code> separator is only used for mountpoints.</p>
<h3>fstab</h3>
<p>The plugin fstab is also improved: Slashes in mountpoints are escaped properly with the internal escaping engine of <a class="el" href="group__keyname.html#gaa942091fc4bd5c2699e49ddc50829524" title="Adds baseName (that will be escaped) to the current key name. ">keyAddBaseName()</a> (i.e. without any problematic <code>/</code> replacements).</p>
<h3>dirname</h3>
<p>getDirName() was removed from C++, gi-lua, gi-python2, gi-python3, swig-lua, swig-python2 and swig-python3. It was never present in C and did not fit well with <a class="el" href="group__keyname.html#gaaff35e7ca8af5560c47e662ceb9465f5" title="Returns a pointer to the internal unescaped key name where the basename starts. ">keyBaseName()</a> (which returns an unescaped name, which is not possible for the dirname). (Thanks to Manuel Mausz)</p>
<h3>invalid parent names</h3>
<p>While empty (=invalid) names are still accepted as parentName to <code>kdbGet</code> and <code>kdbSet</code> for compatibility reasons, but the parentKey </p><pre class="fragment">Key *parentKey = keyNew("/", KEY_END);
</pre><p>should be used instead (if you want to get or store everything). They have identical behaviour, except that invalid names (that cannot be distinguished from empty names) will produce a warning. In the next major version invalid parentNames will produce an error.</p>
<h2>KDB Behaviour</h2>
<p>It is now enforced that before a <a class="el" href="group__kdb.html#ga11436b058408f83d303ca5e996832bcf" title="Set keys in an atomic and universal way. ">kdbSet()</a> on a specific path a <a class="el" href="group__kdb.html#ga28e385fd9cb7ccfe0b2f1ed2f62453a1" title="Retrieve keys in an atomic and universal way. ">kdbGet()</a> on that path needs to be done. This was always documented that way and is the only way to correctly detect conflicts, updates and missing configuration files. Error #107 will be reported on violations.</p>
<p>Additionally, the handling with missing files was improved. Empty keysets for a mountpoint now will remove a file. Such an empty file is always up-to-date. Removing files has the same atomicity guarantees as other operations.</p>
<p>The concurrency behaviour is at a very high level: as expected many processes with many threads can each concurrently write to the key database, without any inconsistent states: This is noted here because Elektra works on standard configuration files without any guarding processes.</p>
<p>Filesystem problems, e.g. permission, now always lead to the same errors (#9, #75, #109, #110), regardless of the storage plugin.</p>
<h2>Qt-Gui 0.0.6</h2>
<p>Raffael Pancheri was very busy and did a lot of stabilizing work:</p>
<ul>
<li>Added markdown converter functionality for plugin documentation</li>
<li>Integrated help (Whats this?)</li>
<li>Added credits to other authors</li>
<li>do not show storage/resolver plugins if a plugin of that kind has been selected</li>
<li>added menu to newkey toolbar button to allow new array entries</li>
<li>added option to include a configuration keyset when adding a plugin</li>
<li>show included keys when creating the plugin configuration</li>
<li>Added all storageplugins to namefilters</li>
<li>Reimplement ErrorDialog</li>
<li>Added undo/redo of all commands and correctly update the view</li>
<li>modified ToolTip size</li>
<li>Color animation on search results</li>
<li>Refactored Buttons to accept shortcuts</li>
<li>Updated Translations</li>
<li>Colors are now customizeable</li>
<li>Many small fixes</li>
</ul>
<p>The gui is already used and the remaining small bugs (see github) are going to be fixed soon. One of the highlights is undo for nearly every action, so nothing prevents you from trying it out!</p>
<p>A huge thanks to Raffael Pancheri for his contributions. His thesis can be found at <a href="http://www.libelektra.org/ftp/elektra/pancheri2015gui.pdf">here</a>.</p>
<h2>Bug fixing</h2>
<ul>
<li>fix issues with escaped backslashes in front of slashes</li>
<li>atomic commits across namespaces work again</li>
<li>memleak on ReadFile error in ni plugin</li>
<li><code>kdb getmeta</code> reports errorcode if key, but no meta was found</li>
<li><code>ksLookup</code> now will also work if a key of the keyset is used as search-key (aliasing problem fixed by dup() on namelock)</li>
<li>resolver regex does not match to wrongly written plugins</li>
<li>jna plugin is now named libelektra-0.8.11.jar, with proper symlink to current version, for every CMake version</li>
<li>fix bashism ($RANDOM)</li>
<li>new keys are correctly renamed, fixes OpenICC (thanks to Felix Berlakovich)</li>
<li>comments in host keys are correctly restored (thanks to Felix Berlakovich)</li>
<li>output stream in type checking is no longer locale dependent (thanks to Manuel Mausz)</li>
<li>cmake uninstall works again</li>
<li>simplify CMAKE_DL_LIBS (thanks to Manuel Mausz)</li>
</ul>
<h2>Further gems</h2>
<ul>
<li>Examples were improved, added (e.g. cascading, namespace) and included in <a href="http://doc.libelektra.org/api/0.8.11/html">Doxygen docu</a>.</li>
<li><a href="https://github.com/ElektraInitiative/libelektra/blob/master/doc/METADATA.ini">METADATA specification</a> was nearly completely rewritten (thanks to Felix Berlakovich)</li>
<li>benchmarks were greatly enhanced (runtime+heap profiling), and some important performance improvements were done</li>
<li>All plugins now use the cmake function <code>add_plugin</code> (thanks to Ian Donnelly for most of the work)</li>
<li>data directory (keysets as C-files) is now shared between different kinds of test suites.</li>
<li>many more tests were added, e.g. distribution tests, KDB API tests; and allocation tests were readded</li>
<li>now all kdb commands accept cascading keys.</li>
<li>More compiler warning-flags are added and many warnings are fixed</li>
<li>cleanup of old unused <code>keyName</code> methods</li>
<li>The key <code>system/elektra/mountpoints</code> itself was always created and a left-over on a freshly installed system after the unit tests run the first time. The physical presence of the key is now irrelevant and it won't be created automatically.</li>
<li>Bash completion was greatly improved (thanks to Manuel Mausz)</li>
<li>Configure scripts were refactored and are now much shorter (thanks to Manuel Mausz)</li>
<li>New Debian build agents were added that are magnitutes faster than the old ones (a big thanks to Manuel Mausz)</li>
<li>Many KDB tests, written in C, lua and python were added (thanks to Manuel Mausz)</li>
<li>SWIG3 is preferred when available</li>
<li>add the plugin counter that counts how often the methods of a plugin are called</li>
<li><code>kdb list-tools</code> is now advertised in <code>kdb --help</code></li>
<li>Mac OS X support was greatly improved, thanks to Peter Nirschl and Kai-Uwe Behrmann. The feature rich resolver, now also works for Mac OS X. wresolver is now only needed for mingw.</li>
<li>Elektra still compiles with gcc (also mingw variants), icc and clang.</li>
</ul>
<h2>Further Notes</h2>
<p>With 471 files changed, 27978 insertions(+), 11512 deletions(-) this release is huge. With 773 commits over four month much more changes happened which did not find their place in these release notes, even though the notes are much less detailed than usual.</p>
<p>Thanks for all contributions that are not enlisted here!</p>
<p>For any questions and comments, please contact the <a href="https://lists.sourceforge.net/lists/listinfo/registry-list">Mailing List</a> or <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'ma'+'rku'+'s-'+'raa'+'b.'+'org'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@m<span style="display: none;">.nosp@m.</span>arkus<span style="display: none;">.nosp@m.</span>-raa<span style="display: none;">.nosp@m.</span>b.org</a>.</p>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.11.tar.gz">here</a></p>
<ul>
<li>name: elektra-0.8.11.tar.gz</li>
<li>size: 2022129</li>
<li>md5sum: c53a8151aab760851842d745e904a4f8</li>
<li>sha1: d7929d17d1a6529089d156f1910d87f678b84998</li>
<li>sha256: c20fefcfba62cc906228f9b55d1f411ef8f884ff9d75774a0dd4f8eb8f5b48f6</li>
</ul>
<p>This release tarball now is also available <a href="http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.11.tar.gz.gpg">signed by me using gpg</a></p>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.11/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">new RSS feed</a> to always get the release notifications.</p>
<p><a href="http://doc.libelektra.org/news/7d4647d4-4131-411e-9c2a-2aca39446e18.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://www.libelektra.org">http://www.libelektra.org</a></p>
<p>Best regards, Markus</p>
<h1>0.8.10 Release</h1>
<ul>
<li>guid: 6ce57ecf-420a-4a31-821e-1c5fe5532eb4</li>
<li>author: Markus Raab</li>
<li>pubDate: Tue, 02 Dec 2014 18:37:51 +0100</li>
</ul>
<p>Hello,</p>
<p>we are delighted to announce our latest feature release providing major updates in:</p>
<ul>
<li>compatibility with standards,</li>
<li>tooling,</li>
<li>plugins (hosts, rename),</li>
<li>Qt-Gui and</li>
<li>a new Java binding</li>
</ul>
<h2>XDG Compatibility</h2>
<p>Elektra now is <a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-0.8.html">fully XDG 0.8</a> compliant. Following changes were necessary:</p>
<ul>
<li>newly created configuration files for user/ now have the permissions 0600</li>
<li>newly created configuration directories for user/ now have the permissions 0700</li>
<li>existing configuration files will retain their permissions.</li>
<li>The default path to store user configuration is now ~/.config</li>
<li>A new resolver variant x (for user and system) is introduced<ul>
<li>implements handling of XDG environment variables</li>
<li>ignores empty dirs and absolute paths in envvar</li>
</ul>
</li>
<li>add new shell based test suite for (xdg)-resolver</li>
</ul>
<p>For example, we could use resolver_fm_xhp_x: </p><pre class="fragment">kdb mount --resolver=resolver_fm_xhp_x file.dump /example dump
kdb file user/example
kdb file system/example
</pre><p>Will show you that for both user+system the resolver respects XDG environment variables, e.g. above lines will print: </p><pre class="fragment">/home/m/.config/file.dump
/etc/xdg/file.dump
</pre><p>Of course, any attempts to get and set keys below user/example and system/example will also be in these files.</p>
<p>The letters after _ describe the variant of the resolver:</p>
<ul>
<li>f .. file based locking</li>
<li>m .. mutex based locking (for multiple KDB per process)</li>
<li>for user configuration (after next _)<ul>
<li>x .. first check XDG_CONFIG_HOME environment</li>
<li>h .. then check HOME environment</li>
<li>p .. then fall back to passwd</li>
</ul>
</li>
<li>for system configuration (after next _)<ul>
<li>x .. check all paths in XDG_CONFIG_DIRS and falls back to /etc/xdg</li>
</ul>
</li>
</ul>
<p>A lot of such resolver variants are added when -DPLUGINS=ALL is used. Of course you can create new variants with different behaviour by adding them to PLUGINS.</p>
<p>To make your application (that uses Elektra) XDG aware, you have nothing to do: you get it to free. Make sure to always use cascading lookup. Additionally, an XDG conforming application should not write system/ keys.</p>
<h2>OpenICC Compatibility</h2>
<p>Based on that, Elektra now also implements the draft for <a href="http://www.openicc.info/wiki/index.php?title=OpenICC_Configuration_0.1">the OpenICC specification</a>.</p>
<p>The mount command looks like quite complicated, but it consists of simple parts: </p><pre class="fragment">kdb mount --resolver=resolver_fm_xhp_x \
  color/settings/openicc-devices.json /org/freedesktop/openicc \
  yajl rename cut=org/freedesktop/openicc
</pre><p>We already know the first two lines: we use the XDG resolver already introduced above. Only the file name and the path where it should be mounted differs.</p>
<p>The plugin yajl is a storage plugin that reads/writes json. The plugin rename was the missing link to support OpenICC (thanks to Felix Berlakovich for closing this gap). It is needed, because every OpenICC file starts like this: </p><pre class="fragment">{ "org": { "freedesktop": { "openicc": {
</pre><p>Because the backend is mounted at /org/freedesktop/openicc, it would lead to keys below /org/freedesktop/openicc/org/freedesktop/openicc which we obviously do not want. So we simply get rid of the common prefix by cutting it out using the rename plugin.</p>
<p>Of course this renaming functionality can be used in every situation and is not limited to OpenICC.</p>
<h2>Tools</h2>
<p>A large number of old and new tools were added, mostly for convenience e.g.: </p><pre class="fragment">kdb mount-openicc
</pre><p>saves you from writing the long mount command we had in the previous section.</p>
<p>To get a list of all tools that are installed, now the command (which is also an external tool and as such currently not displayed in kdb &ndash;help): </p><pre class="fragment">kdb list-tools
</pre><p>is available. Do not be surprised: on typical installations this will be a large list. You can run each of these tools by using kdb &lt;command&gt;. Most of the tools, however, are part of the test suite, which you can run using: </p><pre class="fragment">kdb run_all
</pre><p>Other tools are "old friends", e.g. convert-fstab written in 2006 by Avi Alkalay still works: </p><pre class="fragment">kdb convert-fstab | kdb import system/filesystems xmltool
</pre><p>It will parse your /etc/fstab and generate a XML. This XML then can be imported. Other convert tools directly produce kdb commands, though.</p>
<p>kdb now uses KDB itself for many commands:</p>
<ul>
<li>/sw/kdb/current/resolver .. You always want a different default resolver than that was compiled in as default when mounting backends?</li>
<li>/sw/kdb/current/format .. If you are annoyed by the default format dump format for import/export.</li>
<li>/sw/kdb/current/plugins .. If you always forget to add some plugins when mounting something.</li>
</ul>
<p>By default the plugin "sync" is added automatically (it makes sure that fsync is executed on config files, the directory is already done by the resolver), you should not remove it from /sw/kdb/current/plugins otherwise the next mount command will not add it. To preserve it use a space separated list, e.g.: </p><pre class="fragment">kdb set user/sw/kdb/current/plugins "sync syslog"
</pre><p>Last, but not least, kdb get now supports cascading get: </p><pre class="fragment">kdb get /sw/kdb/current/plugins
</pre><p>This feature allows you to see the configuration exactly as seen by the application.</p>
<p>Other options:</p>
<ul>
<li>-123 options for hiding nth column in <code>kdb mount</code></li>
<li>hide warnings during script usage of <code>kdb mount</code></li>
<li>-0 option accepted in some tools (null termination)</li>
<li>Mount got a new -c option for backend configuration. For example -c cut=org/freedesktop/openicc would be the parameter cut for all plugins. Have a look at #146 if you want to use it.</li>
</ul>
<h2>Compatibility</h2>
<p>The core API (kdb.h), as always, stayed API/ABI compatible. The only changes in kdb.h is the addition of KEY_CASCADING_NAME and KEY_META_NAME. So applications compiled against 0.8.10 and using these constants, will not work with Elektra 0.8.9.</p>
<p>The constants allow us to create following kinds of keys:</p>
<ul>
<li>empty names: this was always possible, because invalid names (including empty names) did not cause keyNew to abort</li>
<li>meta names: this is a new feature that allows us to compare key names with meta keys</li>
<li>cascading names: names starting with / have the special meaning that they do not specify which namespace they have. When such names are used for<ul>
<li><a class="el" href="group__kdb.html#ga28e385fd9cb7ccfe0b2f1ed2f62453a1" title="Retrieve keys in an atomic and universal way. ">kdbGet()</a> and <a class="el" href="group__kdb.html#ga11436b058408f83d303ca5e996832bcf" title="Set keys in an atomic and universal way. ">kdbSet()</a> keys are retrieved from all namespaces</li>
<li><a class="el" href="group__keyset.html#gaa34fc43a081e6b01e4120daa6c112004" title="Look for a Key contained in ks that matches the name of the key. ">ksLookup()</a> keys are searched in all namespaces</li>
<li><a class="el" href="group__keyset.html#gad2e30fb6d4739d917c5abb2ac2f9c1a1" title="Convenience method to look for a Key contained in ks that matches name. ">ksLookupByName()</a> is now just a wrapper for <a class="el" href="group__keyset.html#gaa34fc43a081e6b01e4120daa6c112004" title="Look for a Key contained in ks that matches the name of the key. ">ksLookup()</a>. The method does not do much except creating a key and passing them to <a class="el" href="group__keyset.html#gaa34fc43a081e6b01e4120daa6c112004" title="Look for a Key contained in ks that matches the name of the key. ">ksLookup()</a>.</li>
</ul>
</li>
</ul>
<p>Usage in C is: </p><pre class="fragment">Key *c = keyNew("/org/freedesktop", KEY_CASCADING_NAME, KEY_END);
Key *m = keyNew("comment/#0", KEY_META_NAME, KEY_END);
</pre><p>The same functionality exists, of course, in available in all bindings, too.</p>
<p>Changes in non-core API are:</p>
<ul>
<li>xmltool now does not output default (unchanged) uid,gid and mode</li>
<li>ksLookupBySpec from <a class="el" href="kdbproposal_8h.html" title="Proposed declarations. ">kdbproposal.h</a> was removed, is now integrated into ksLookup</li>
<li>extension keyNameGetNamespace was removed</li>
<li>the hosts comment format has changed</li>
<li>the default resolver has changed (uses passwd)</li>
<li><a class="el" href="classkdb_1_1tools_1_1Backend.html#a1650b149ebf313ee8cd3472247212263" title="Creates a new empty backend. ">kdb::tools::Backend::Backend</a> constructor, tryPlugin and addPlugin have changed:<ul>
<li>mountname is now automatically calculated</li>
<li>addPlugin allows us to add a KeySet to validate plugins with different contracts correctly</li>
</ul>
</li>
<li>C++ binding now throws std::bad_alloc on allocation problems (and not InvalidName)</li>
</ul>
<h2>CMake</h2>
<p>It is now possible to remove a plugin/binding/tools by prefixing a name with "-". The new "-element" syntax is accepted by TOOLS, BINDINGS and PLUGINS. It is very handy in combination with ALL, e.g.: </p><pre class="fragment">-DPLUGINS="ALL;-xmltool"
</pre><p>will include all plugins except xmltool.</p>
<h2>Improved comments</h2>
<p>Comment preserving was improved a lot. Especially, the hosts plugin was rewritten completely. Now multiple different comment styles can be intermixed without losing information. E.g. some INI formats support both ; and # for comments. With the new comments it is possible to preserve that information and even better: applications can iterate over that information (meta data).</p>
<p>To mount the new hosts plugin use (if you already have mounted it, you have nothing to do): </p><pre class="fragment">kdb mount /etc/hosts system/hosts hosts
</pre><p>The hosts plugin now seperates from ipv4 and ipv6 which makes the host names canonical again, e.g.: </p><pre class="fragment">kdb get system/hosts/ipv4/localhost
kdb get system/hosts/ipv6/localhost
</pre><p>To access the inline-comment, use: </p><pre class="fragment">kdb getmeta system/hosts/ipv4/localhost "comment/#0"
</pre><p>For other meta information, see: </p><pre class="fragment">kdb lsmeta system/hosts/ipv4/localhost
</pre><p>Additionally, a small API for specific meta-data operations emerges. These operations will be moved to a separate library and will not stay in Elektra's core library.</p>
<h2>Proposal</h2>
<ul>
<li>lookup options:<ul>
<li>KDB_O_SPEC uses the lookup key as specification</li>
<li>KDB_O_CREATE creates a key if it could not be found</li>
</ul>
</li>
<li>elektraKeyGetMetaKeySet creates a KeySet from meta data</li>
<li>elektraKsFilter allows us to filter a KeySet arbitrarily (not only keyIsBelow in case of ksCut). It reintroduces more functional programming.</li>
<li>keyGetNamespace was reintroduced. In one of the next versions of Elektra we will introduce new namespaces. keyGetNamespace allows the compiler to output a warning when some namespaces are not handled in your C/C++ code.</li>
</ul>
<h2>Java binding</h2>
<p>Elektra now fully supports applications written in Java and also Plugins written in the same language.</p>
<p>The <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/bindings/jna">new binding was developed using jna.</a> For the <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/plugins/jni">plugin interface JNI</a> was used. We developed already <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/bindings/jna/elektra/plugin">some plugins</a>.</p>
<h2>Qt-Gui</h2>
<p>Raffael Pancheri released the version 0.0.2 of the Qt-Gui:</p>
<ul>
<li>added Backend Wizard for mounting</li>
<li>user can hover over TreeView items and quickly see keyname, keyvalue and metakeys</li>
<li>it is now easily possible to create and edit arrays</li>
<li>added header to MetaArea for better clarity</li>
<li>many small layout and view update fixes</li>
</ul>
<h2>Further stuff and small fixes</h2>
<ul>
<li>Two new error/warnings information: mountpoint and configfile. It is added automatically and all tools will print it.</li>
<li>C++ I/O for key(s) now allows null terminator next to new-line terminator</li>
<li>fix error plugin: now use on_open/trigger_warnings to be consistent</li>
<li>fix metaset: now correctly append new key</li>
<li>arrays are also available when compiled with mingw (but tests still have to be excluded for successful compilation)</li>
<li>fix #136</li>
<li>fix long help text in <code>kdb check</code></li>
<li>signed release tags are now used</li>
</ul>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.10.tar.gz">here</a></p>
<ul>
<li>size: 1915277</li>
<li>md5sum: 2b16a4b555bc187562a0b38919d822a1</li>
<li>sha1: 08b1d0139fc5eb0d03c52408478e68b91b1825dc</li>
<li>sha256: 526e2ed61e87d89966eb36ddad78d8139b976e01ce18aab340d8a1df47132355</li>
</ul>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.10/html/">here</a></p>
<h2>Stay tuned!</h2>
<p>Subscribe to the <a href="http://doc.libelektra.org/news/feed.rss">new RSS feed</a> to always get the release notifications.</p>
<p><a href="http://doc.libelektra.org/news/6ce57ecf-420a-4a31-821e-1c5fe5532eb4.html">Permalink to this NEWS entry</a></p>
<p>For more information, see <a href="http://www.libelektra.org">http://www.libelektra.org</a></p>
<p>Best regards, Markus</p>
<h1>0.8.9 Release</h1>
<ul>
<li>guid: 38640673-3e07-4cff-9647-f6bdd89b1b08</li>
<li>author: Markus Raab</li>
<li>pubDate: Tue, 04 Nov 2014 10:48:14 +0100</li>
</ul>
<p>Again we managed to do an amazing feature release in just two month. In 416 commits we modified 393 files with 23462 insertions(+) and 9046 deletions(-).</p>
<h2>Most awaited</h2>
<p>The most awaited feature in this release is certainly the <em>qt-gui</em> developed by Raffael Pancheri. It includes a rich feature set including searching, unmounting, importing and exporting. A lot of functionality is quite stable now, even though its version is 0.0.1 alpha. If you find any bugs or want to give general feedback, feel free to use the issue tracker of the Elektra project. A screenshot can be found <a href="https://github.com/ElektraInitiative/libelektra/blob/master/doc/images/screenshot-qt-gui.png">here</a> To compile it (together with Elektra), see the README <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/tools/qt-gui">here</a></p>
<p>Manuel Mausz also has been very active and developed glib+gi bindings. These bindings make Elektra more friendly to the glib/gtk/gnome world. Using the gobject introspection python3 and lua bindings were developed. Additionally he got rid of all clang warnings.</p>
<p>Felix Berlakovich also made progress: <a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/plugins/ini">the ini plugin</a> now supports multiline and which can be dynamically turned on and off, i.e. during mounting (thanks to Felix)</p>
<p>Last, but not least, Kai-Uwe ported Elektra to Windows7. MinGW is now one more supported compiler (tested on build-server, see later). Astonishingly, it was only little effort necessary: Basically we only needed a new implementation of the resolver, which is now called <em>wresolver</em>. Different from the <em>resolver</em> it lacks the sophisticated multi-process and multi-thread atomicity properties. On the plus side we now have a resolver that is very easy to study and understand and still works as file resolver (<em>noresolver</em> does not).</p>
<h2>Interfaces</h2>
<p>ABI/API of the C-API is still completely stable even though under the hood a lot was changed. All testcases compiled against the previous version still run against Elektra 0.8.9.</p>
<p>This is, however, not the case for libtools. For MinGW porting it was necessary to rename an enum related to merging because it conflicted with an already defined MACRO.</p>
<p>For maintainers also some changes are necessary. For MinGW and to actually use the flexibility of the new resolver variants two new CMake Variables are introduced: KDB_DEFAULT_RESOLVER and KDB_DEFAULT_STORAGE.</p>
<p>More importantly for maintainers the CMake variables regarding SWIG bindings are now abandoned in favour to the new variable BINDINGS that works like PLUGINS and TOOLS. Just start with </p><pre class="fragment">    -DBINDINGS=ALL
</pre><p>and CMake should remove the bindings that have missing dependencies on your system. Remember that glib and gi (i.e. <em>gi_python3</em> and <em>gi_lua</em>) bindings were introduced, too. Additionally, the <em>cpp</em> binding can now be deactivated if not added to BINDINGS.</p>
<p>Finally, the <em>gen</em> tool added a Python package called <code>support</code>.</p>
<h2>Other Bits</h2>
<p>A proof of concept storage plugin <code>regexstore</code> was added. It allows one to capture individual configuration options within an otherwise not understood configuration file (e.g. for vimrc or emacs where the configuration file may contain programming constructs).</p>
<p>Most tests now also work with the BUILD_SHARED variant (from our knowledge all would work now, but some are still excluded if BUILD_FULL and BUILD_STATIC is disabled. Please report issues if you want to use uncommon CMake combinations).</p>
<p>A small but very important step towards specifying configuration files is the new proposed API method ksLookupBySpec (and ksLookup implementing cascading search). It introduces a <code>logical view</code> of configuration that in difference to the <code>physical view</code> of configuration does not have namespaces, but everything is below the root "/". Additionally, contextual values now allow one to be compile-time configured using C++-Policies. These are small puzzle pieces that will fit into a greater picture at a later time.</p>
<p>A (data) race detection tool was implemented. Using it a configurable number of processes and threads it tries to <a class="el" href="group__kdb.html#ga11436b058408f83d303ca5e996832bcf" title="Set keys in an atomic and universal way. ">kdbSet()</a> a different configuration at (nearly) the same time.</p>
<p>With this tool the resolver could be greatly be improved (again). It now uses stat with nanosecond precision that will be updated for every successful <a class="el" href="group__kdb.html#ga11436b058408f83d303ca5e996832bcf" title="Set keys in an atomic and universal way. ">kdbSet()</a>. Even if the configuration file was modified manually (not using Elektra) the next <a class="el" href="group__kdb.html#ga11436b058408f83d303ca5e996832bcf" title="Set keys in an atomic and universal way. ">kdbSet()</a> then is much more likely to fail. Additionally a recursive mutex now protects the file locking mechanism.</p>
<p>The build server now additionally has following build jobs:</p>
<ul>
<li><a href="http://build.libelektra.org:8080/job/elektra-gcc-i386/">i386 build:</a>: We had an i386 regression, because none of the developers seems to use i386 anymore.</li>
<li><a href="http://build.libelektra.org:8080/job/elektra-gcc-configure-debian/">Configure Debian Script</a> Calls the scripts/configure-debian(-wheezy).</li>
<li><a href="http://build.libelektra.org:8080/job/elektra-local-installation/">Local Installation:</a> We had an regression that local installation was not possible because of a bash completion file installed to /etc. This build tests if it is possible to install Elektra in your home directory (and calls kdb run_all afterwards)</li>
<li><a href="http://build.libelektra.org:8080/job/elektra-test-bindings/">Test bindings:</a> Compiles and tests ALL bindings.</li>
<li><a href="http://build.libelektra.org:8080/job/elektra-gcc-configure-mingw-w64/">Mingw:</a> Compiles Elektra using mingw.</li>
</ul>
<p>Many more examples were written and are used within doxygen. Most snippets now can also be found in compilable files:</p>
<ul>
<li><a href="https://github.com/ElektraInitiative/libelektra/tree/master/examples/keyNew.c">keyNew examples</a></li>
<li><a href="https://github.com/ElektraInitiative/libelektra/tree/master/examples/keyCopy.c">keyCopy examples</a></li>
<li><a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/bindings/cpp/examples/cpp_example_dup.cpp">C++ deep dup</a></li>
<li><a href="https://github.com/ElektraInitiative/libelektra/tree/master/src/bindings/cpp/examples/cpp_example_ordering.cpp">How to put Key in different data structures</a></li>
<li><a href="https://github.com/ElektraInitiative/libelektra/tree/master/scripts/mount-augeas">Mount some config files using augeas</a></li>
<li><a href="https://github.com/ElektraInitiative/libelektra/tree/master/scripts/mount-info">Mount system information</a></li>
</ul>
<p>Most plugins now internally use the same CMake function <code>add_plugin</code> which makes plugin handling more consistent.</p>
<p>Felix converted the METADATA spec to ini files and added a proposal how comments can be improved.</p>
<h3>Refactoring:</h3>
<ul>
<li>reuse of utilities in gen code generator</li>
<li>the gen support library is now in its own package (<code>support</code>)</li>
<li>refactor array handling</li>
<li>internal comparision functions (keyCompareByName)</li>
</ul>
<h3>Optimization:</h3>
<ul>
<li>lookupByName does not need to allocate two keys</li>
<li>lookups in generated code</li>
<li>prefer to use allocation on stack</li>
</ul>
<h3>Fixes:</h3>
<ul>
<li>disable cast that segfaults on i386 (only testing code was affected)</li>
<li>fix keyAddBaseName in xmltool and testing code</li>
<li>support non-system installation (e.g. in home directory)</li>
<li>rewrote test cases to use succeed_if_same to avoid crashes on null pointers</li>
<li>allow one to use python 2.6 for kdb gen</li>
<li>improve exception messages</li>
<li>use memcasecmp (fix lookup ignoring case)</li>
<li>fix memory leaks (ini)</li>
<li>text messages for some warnings/errors</li>
<li>fix many issues regarding CMake, more variants of setting CMake options are now allowed.</li>
<li>cmake policies fixes allow us to use cmake version &gt; 3</li>
</ul>
<h2>Get It!</h2>
<p>You can download the release from <a href="http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.9.tar.gz">here</a></p>
<ul>
<li>size: 1936524</li>
<li>md5sum: 001c4ec67229046509a0cb9eda223dc6</li>
<li>sha1: 79ea9b83c08ed4c347ed0100b5e0e2d3309b9d04</li>
<li>sha256: e0895bba28a27fb37f36f59ef77c95235f3a9c54fb71aa6f648566774d276568</li>
</ul>
<p>already built API-Docu can be found <a href="http://doc.libelektra.org/api/0.8.9/html/">here</a></p>
<p>For more information, see <a href="http://www.libelektra.org">http://www.libelektra.org</a></p>
<p>Best regards, Markus</p>
<h1>0.8.8 Release</h1>
<ul>
<li>guid: eca69e19-5ddb-438c-ac06-57c20b1a9160</li>
<li>author: Markus Raab</li>
<li>pubDate: Tue, 02 Sep 2014 17:31:42 +0200</li>
</ul>
<p>In this release we changed 578 files in 473 commits (68596 insertions(+), 59260 deletions(-) compared to Elektra 0.8.7). We assume thats the largest change set for any of Elektra's releases up to now. It happened only within a bit more than a month up (0.8.7 was released 28.07.2014).</p>
<h2>New features</h2>
<p>GSoC finished successfully (thanks Ian and Felix) See <a href="http://community.libelektra.org/wp">http://community.libelektra.org/wp</a> for the latest results. So Elektra now has a 3-way merging framework that is superior to text-based merging in many scenarios (e.g. moving configuration options within a file or with in-line comments) iff a storage plugin creates key names that are not only line numbers. We love to get Feedback!</p>
<p>Writing plugins is now even more comfortable. A plugin writer tutorial was written (thanks Ian): <a href="https://github.com/ElektraInitiative/libelektra/blob/master/doc/tutorials/plugins.md">https://github.com/ElektraInitiative/libelektra/blob/master/doc/tutorials/plugins.md</a> The documentation was completely reworked: <a href="http://doc.libelektra.org/api/0.8.7/html/group__plugin.html">http://doc.libelektra.org/api/0.8.7/html/group__plugin.html</a> And two new macros allow printf formating for warnings and errors (ELEKTRA_ADD_WARNINGF and ELEKTRA_SET_ERRORF).</p>
<p>The ini plugin was greatly improved (tested with samba configurations and added to ALL plugins) and the hosts plugin was rewritten to support ipv6 properly (thanks to Felix).</p>
<p>The constants plugin was added and allows introspection of Elektra's cmake variables. Because such non-file based plugins (e.g. also uname) do not need resolving, the plugin noresolver was added. It supersedes the success plugin.</p>
<p>Elektra now allows one to correctly fsync its configuration files (sync plugin) and the folders where files are stored (resolver plugin). Just make sure to add the "sync" plugin using kdb mount. The resolver plugin now reads from passwd and no longer needs environment variables. Additionally, the resolver plugin was prepared to support other variants by so called compilation variants.</p>
<p>The error plugin now allows, next to list all possible errors, to provoke errors when opening plugins. We fixed some issues related to plugins having errors when they initialize themselves.</p>
<p>So following plugins were added: sync noresolver line ini constants Nearly all plugins now have a README.md for further information (thanks to Ian). An overview of all plugin is on with links to them: <a href="https://github.com/ElektraInitiative/libelektra/blob/master/src/plugins/">https://github.com/ElektraInitiative/libelektra/blob/master/src/plugins/</a></p>
<p>The kdb tools were greatly improved (thanks to Felix):</p><ul>
<li>added remount tool</li>
<li>umount now also accepts mountpath</li>
<li>mount allows one to specify different resolvers</li>
<li>import now can use merge strategies</li>
<li>check without arguments checks key database</li>
<li>mount is now more verbose when validation fails</li>
</ul>
<p>New/improved scripts/make targets (note that scripts can be executed by kdb scriptname):</p><ul>
<li>mounting, unmounting scripts were added</li>
<li>generate template for a new plugin was improved</li>
<li>configure-debian was added</li>
<li>added targets run_all and run_memcheck</li>
<li>bash completion file now installed</li>
<li>ucf integration</li>
<li>merging scripts were added for the usage with ucf</li>
<li>scripts doing internal checks on source of plugins</li>
</ul>
<h2>Compatibility</h2>
<p>This time we had to break compatibility. We did not change the ABI (your application still will be able to use Elektra 0.8.8) and we did not change the API (your application still will compile against Elektra). We changed the third part of our interface: the semantic interface.</p>
<p>The problems were following: keyAddBaseName/keySetBaseName did something obvious when no special characters were in the baseName. But once there were, there are two different interpretations what it should do: 1.) add/set a basename, so escape characters that are not canonical in the basename 2.) add all parts of the name given (with slashes)</p>
<p>The methods were used in both ways, so it was obvious that something is very wrong. We decided that it should do what the name says, that is add/set a basename (variant 1).</p>
<p>The variant 2, to add any name was added and is called <a class="el" href="group__keyname.html#gaa70593a2c772c4b7bc33423b9b10a270" title="Add an already escaped name to the keyname. ">keyAddName()</a> and added as proposal.</p>
<p>(Thank Felix for implementations and Manuel for investigations)</p>
<p>When keys are renamed after adding to a keyset is a bad thing because it destroys the order of the keyset. This is now avoided by keyLock. Use <a class="el" href="group__key.html#gae6ec6a60cc4b8c1463fa08623d056ce3" title="Return a duplicate of a key. ">keyDup()</a> to get rid of such locks.</p>
<p>Another, even larger, change is also about ordering of keys in keysets. Elektra now internally has an null-terminated unescaped keyname. Ordering of keysets will always happen on this name. The <a class="el" href="group__keytest.html#gaf6e66e12fe04d535a5d1c8218ced803e" title="Compare the name of two keys. ">keyCmp()</a> tool can be used to check this order. It works very efficiently with memcmp() and never gets confused by ASCII ordering of / (because / is 0 in the unescaped keyname).</p>
<p>The syntax, semantics and conventions of key names is now documented in detail: <a href="http://doc.libelektra.org/api/0.8.8/html/group__keyname.html">http://doc.libelektra.org/api/0.8.8/html/group__keyname.html</a></p>
<p><a class="el" href="group__keyset.html#ga671e1aaee3ae9dc13b4834a4ddbd2c3c" title="Allocate, initialize and return a new KeySet object. ">ksNew()</a> does now return a keyset with a properly set cursor (ksRewind).</p>
<p>Because its always possible that software relies on bugs the better way to deal with such a situation (as the <a class="el" href="group__keyname.html#ga6e804bd453f98c28b0ff51430d1df407" title="Sets baseName as the new basename for key. ">keySetBaseName()</a> situation described above) is to provide the same function twice. Manuel said he will create a prototype to introduce symbol versioning in Elektra. With that, old customers would still receive the old behaviour, but people compiling against a new version would get the new behaviour. So in one of the next releases we will also avoid semantic interface changes when there is a valid use case for it (there is none if the program e.g. crashes).</p>
<p>Symbol versioning also allows one to compile against old versions on purpose if you do not want the new behaviour.</p>
<p>We have prepared an ABI-test suite, that also checks behaviour, for that purpose, but we also improved testing in other parts:</p><ul>
<li>(New Test strategy)[/doc/TESTING.md]</li>
<li>New resolver tests for conflicts (needs tty)</li>
</ul>
<p>If you try to execute test_ks from 0.8.7 with libelektra 0.8.8 it will crash, but not because of any incompatibility, but because of strcmp in the test itself gets a null pointer. The pointer is now null, because ksNew correctly rewinds its internal cursor (see above). Amusingly, it says on that line 94 in test_ks.c: // TODO: why is the cursor here?</p>
<h2>API Proposals</h2>
<p>see above for more information:</p><ul>
<li>keyAddName .. add key name without escaping, like keySetName</li>
<li>keyUnescapedName .. get access to null-separated unescaped name</li>
<li>keyLock .. to allow one to secure keys against modifications</li>
</ul>
<p>some new ideas:</p><ul>
<li>keySetStringF .. printf format-style changing of the key string</li>
<li>elektraKeySetName .. to allow one to set meta + cascading keys</li>
</ul>
<p><a class="el" href="array_8c.html#afc46476b8d722d89e07a966e023df317" title="Increment the name of the key by one. ">elektraArrayIncName()</a> now works correctly with empty arrays embedded in other arrays (yajl+line plugin)</p>
<p>elektraArrayValidateName() was also added, thanks to Felix.</p>
<p>These methods are declared in the file <a class="el" href="kdbproposal_8h.html" title="Proposed declarations. ">kdbproposal.h</a> but do not guarantee any forms of compatibility (they might even be removed).</p>
<h2>Issues</h2>
<p>Many issues were resolved as you can see in github: <a href="https://github.com/ElektraInitiative/libelektra/issues">https://github.com/ElektraInitiative/libelektra/issues</a> Alone for the milestone 0.8.8 we closed 17 issues, including those mentioned in "Compatibility". Other issues (not all were tracked on github):</p>
<ul>
<li>fix undefined errors in <a class="el" href="group__kdb.html#ga6808defe5870f328dd17910aacbdc6ca" title="Opens the session with the Key database. ">kdbOpen()</a> or <a class="el" href="group__kdb.html#gadb54dc9fda17ee07deb9444df745c96f" title="Closes the session with the Key database. ">kdbClose()</a></li>
<li>Now Python 2+3 work in parallel</li>
<li>python2 interpreter is found correctly (also on Arch)</li>
<li>Sentinel now makes sure that you cannot forget KS_END to end ksNew</li>
<li>Fixes for architecture-specific problems by Pino</li>
<li>fix .pc file</li>
<li>fix compilation problem with KDB_MAX_PATH_LENGTH</li>
<li>tmpnam to mkstemp (security)</li>
<li>make test data naming consistent (thanks Pino)</li>
<li>use LIB_SUFFIX for TARGET_TOOL_EXEC_FOLDER thanks to Kai Uwe</li>
<li>Fix search for boost (thank Pino)</li>
</ul>
<h2>Other Stuff</h2>
<p>Thanks to Pino Toscano Elektra 0.8.7-4 is now available in Debian Testing: <a href="https://packages.debian.org/search?keywords=elektra">https://packages.debian.org/search?keywords=elektra</a> So it is only a matter of time that other (debian-based) distributions will follow and replace the dusty Elektra 0.7.</p>
<p>Debian Continuous Integration <a href="http://ci.debian.net/packages/e/elektra">http://ci.debian.net/packages/e/elektra</a> (thanks Pino) greatly complement our tests running on <a href="http://build.libelektra.org:8080/">http://build.libelektra.org:8080/</a></p>
<p>Elektra's buildserver also was improved:</p>
<ul>
<li>now also compiles with icc</li>
<li>runs make run_memcheck</li>
<li>checks if plugins are added correctly in-source</li>
<li>runs ABI + behavioural tests</li>
</ul>
<p>Raffael Pancheri now made a merge request for qt-gui <a href="https://github.com/ElektraInitiative/libelektra/pull/103/files">https://github.com/ElektraInitiative/libelektra/pull/103/files</a> in which copy, paste and delete of keys already works. It is, however, still work in progress.</p>
<p>Manuel Mausz made great progress in script-based Elektra plugins. He is also working on glib+gobject-introspection based bindings. He investigated some issues, e.g. a crash of the python binding which was only triggered if python3 is build with a specific flag/module combination, see: <a href="https://github.com/ElektraInitiative/libelektra/issues/25">https://github.com/ElektraInitiative/libelektra/issues/25</a></p>
<h2>Get It!</h2>
<p>You can download the release from:</p>
<p><a href="http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.8.tar.gz">http://www.markus-raab.org/ftp/elektra/releases/elektra-0.8.8.tar.gz</a></p>
<ul>
<li>size: 1644441</li>
<li>md5sum: fe11c6704b0032bdde2d0c8fa5e1c7e3</li>
<li>sha1: 16e43c63cd6d62b9fce82cb0a33288c390e39d12</li>
<li>sha256: ae75873966f4b5b5300ef5e5de5816542af50f35809f602847136a8cb21104e2</li>
</ul>
<p>already built API-Docu can be found here:</p>
<p><a href="http://doc.libelektra.org/api/0.8.8/html/">http://doc.libelektra.org/api/0.8.8/html/</a></p>
<p>Best regards, Markus </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
