<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Backend Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.9.12</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Backend Plugin </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_decisions_6_implemented_backend_plugin"></a> </p>
<h1><a class="anchor" id="autotoc_md2218"></a>
Problem</h1>
<ul>
<li>Old backends (before Elektra 0.9.12) store plugins in arrays which have a fixed number of slots for each plugin role. The number of plugins which can be assigned is limited, making it easy to reach the limit if many plugins are in use.</li>
<li>As structs, old backends are separate from the plugin interface and integrated into the core of Elektra. This makes it difficult to perform operations such as nesting plugins, or to develop other implementations for backends.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2219"></a>
Constraints</h1>
<ul>
<li>All existing plugins, except <a class="el" href="doc_decisions_5_partially_implemented_hooks_md.html">hooks</a>, should continue working as before.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2220"></a>
Assumptions</h1>
<h1><a class="anchor" id="autotoc_md2221"></a>
Considered Alternatives</h1>
<ul>
<li>Multiple storage plugins within a single backend</li>
<li>Improve backend to contain more plugin slots</li>
<li>Making number of plugins per slot unlimited</li>
</ul>
<h1><a class="anchor" id="autotoc_md2222"></a>
Decision</h1>
<ul>
<li>The current backend implementation was redeveloped into a backend plugin. The core of Elektra accesses backends through the standard plugin interface.</li>
<li>The new backend plugin supports an unlimited number of plugins in any position where more than one plugin is sensible, e.g., unlimited plugins in <code>poststorage</code>, but only a single one in <code>storage</code> and <code>resolver</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md2223"></a>
Rationale</h1>
<ul>
<li>Making backends also plugins detaches their implementation from the core of Elektra, making it possible to develop new kinds of backends without major changes to the core itself.</li>
<li>As plugins, backends can contain further backends, making it possible to nest plugins and enabling new kinds of plugin combinations such as fallback storage options.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2224"></a>
Implications</h1>
<p>The structure of <code>system:/elektra/mountpoints</code> has to change to accommodate different kinds of backend plugins.</p>
<h1><a class="anchor" id="autotoc_md2225"></a>
Related Decisions</h1>
<h1><a class="anchor" id="autotoc_md2226"></a>
Notes</h1>
<p><a href="https://issues.libelektra.org/2963">https://issues.libelektra.org/2963</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
