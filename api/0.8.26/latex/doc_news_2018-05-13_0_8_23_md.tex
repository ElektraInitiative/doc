
\begin{DoxyItemize}
\item guid\+: 9a9ab08b-\/9ca0-\/4242-\/b617-\/5a8b21ea42a0
\item author\+: Markus Raab
\item pub\+Date\+: Sun, 13 May 2018 08\+:57\+:15 +0200
\item short\+Desc\+: Notification, Web UI, Build System
\end{DoxyItemize}

We are proud to release Elektra 0.\+8.\+23.

In 717 commits 11 authors changed 835 files with 31144 insertions(+), 21773 deletions(-\/).

\subsection*{What is Elektra?}

Elektra serves as a universal and secure framework to access configuration settings in a specified, global, hierarchical key database. For more information, visit \href{https://libelektra.org}{\tt https\+://libelektra.\+org}.

For a small demo see here\+:

\href{https://asciinema.org/a/cantr04assr4jkv8v34uz9b8r}{\tt }

You can also read the news \href{https://www.libelektra.org/news/0.8.23-release}{\tt on our website}

\subsection*{Highlights}


\begin{DoxyItemize}
\item Notification\+: New transport plugin
\item Web UI greatly improved
\item Overhaul of Build System and Daily Stretch Repository
\end{DoxyItemize}

\subsubsection*{Notification\+: New transport plugin}

To keep persistent configuration settings in sync with the configuration settings of applications, notifications are needed. For notifications it is important that they do not block the execution of the applications. In Elektra we achieve this using transport plugins.

Elektra\textquotesingle{}s notification feature has received its first transport plugin pair\+: D-\/\+Bus. Transport plugins provide a link between applications using Elektra. These plugins send and receive notifications when a key is modified within the key database. The existing {\ttfamily dbus} plugin has been modified to use an asynchronous I/O binding for sending messages, if available. The new {\ttfamily dbusrecv} plugin is responsible for receiving messages sent from the {\ttfamily dbus} plugin and other sources with the same \href{https://www.libelektra.org/plugins/dbus#notification-format}{\tt message format}.

For more details see the https\+://github.com/\+Elektra\+Initiative/libelektra/tree/master/doc/tutorials/notifications.\+md \char`\"{}notification tutorial\char`\"{} or the \href{https://github.com/ElektraInitiative/libelektra/tree/master/src/libs/notification/example}{\tt example applications}.

Thanks to Thomas Wahringer.

\subsubsection*{Web UI greatly improved}

The goal of the Web UI is to provide safe and unified access to all configuration settings of a system. Different to other U\+Is, it generates its interface according specifications as found in Elektra.

For example, if a configuration setting only has a number of choices, you get exactly these choices within the user interface.

To get outstanding usability, Web UI now provides\+:


\begin{DoxyItemize}
\item undo functionality
\item visibility functionality to hide irrelevant configuration settings
\item built-\/in validation for many types of configuration settings
\item support for arrays
\item descriptions of configuration settings embedded in the user interface
\end{DoxyItemize}

Furthermore\+:


\begin{DoxyItemize}
\item The Web-\/\+UI now is able to install itself via cmake.
\item The A\+PI was updated for \href{https://master.libelektra.org/doc/api_blueprints/elektrad.apib}{\tt elektrad} and \href{https://master.libelektra.org/doc/api_blueprints/webd.apib}{\tt webd} (former clusterd).
\end{DoxyItemize}

\href{https://www.libelektra.org/tools/web}{\tt Read here to get started}.

\begin{quote}
Note that new version of the Web UI requires Elektra 0.\+8.\+23 or later. \end{quote}


Thanks to Daniel Bugl.

\subsubsection*{Overhaul of Build System and Daily Stretch Repository}

We started to overhaul our build system to improve build times and responsiveness. It focuses heavily on containerisation to improve hardware utilization.

If you are interested in {\ttfamily \#devops} have a look at our \href{https://github.com/ElektraInitiative/libelektra/blob/master/scripts/jenkins/Jenkinsfile}{\tt Jenkinsfile}.

Daily builds Debian packages for Stretch are available again in our \href{https://debian-stretch-repo.libelektra.org}{\tt stretch repository}. Add it to your {\ttfamily sources.\+list}\+:


\begin{DoxyCode}
deb     [trusted=yes] https://debian-stretch-repo.libelektra.org/ stretch main
deb-src [trusted=yes] https://debian-stretch-repo.libelektra.org/ stretch main
\end{DoxyCode}


Thanks to Lukas Winkler.

\subsection*{Other New Features}

We added even more functionality, which could not make it to the highlights\+:


\begin{DoxyItemize}
\item A new experimental \href{https://www.libelektra.org/bindings/io_glib}{\tt I/O binding for glib} has been added. It can be used to integrate the notification feature with applications based on glib.
\item The Order Preserving Minimal Perfect Hash Map (O\+P\+M\+P\+HM), used to speed up the lookups, got optimized and a benchmark was added, thanks to Kurt Micheli
\item We added a script that calculates the complexity of configuration settings based on their specification, thanks to Anton Hößl
\item {\ttfamily kdb ls} now has {\ttfamily -\/0} option to allow key names with newlines (needed for Web UI)
\item The \href{https://www.libelektra.org/plugins/csvstorage}{\tt csvstorage} now can treat selected columns to be part of the key. Error messages were improved. thanks to Thomas Waser
\end{DoxyItemize}

\subsection*{Other News}


\begin{DoxyItemize}
\item We added a tutorial about securing the integrity and confidentiality of configuration values, thanks to Peter Nirschl
\item Peter Nirschl finished his \href{https://www.libelektra.org/ftp/elektra/publications/nirschl2018cryptographic.pdf}{\tt thesis} (\href{https://www.libelektra.org/ftp/elektra/publications/nirschl2018cryptographic.pdf.sig}{\tt signature}). It includes a benchmark of different cryptographic providers.
\item Markus Raab gave a \href{https://cfp.linuxwochen.at/de/LWW18/public/events/798}{\tt talk} at Linuxwochen Wien (in German). For similar talks in English, please refer to the \href{https://fosdem.org/2018/schedule/speaker/markus_raab/}{\tt F\+O\+S\+D\+EM talks}.
\item We replaced the word \char`\"{}project\char`\"{} to \char`\"{}initiative\char`\"{} in the \href{https://www.libelektra.org/devgettingstarted/code-of-conduct}{\tt Code of Conduct} (project has per definition an end date).
\end{DoxyItemize}

\subsection*{Documentation}

We improved the documentation in the following ways\+:


\begin{DoxyItemize}
\item F\+AQ was extended by \href{https://www.libelektra.org/docgettingstarted/faq}{\tt Why do I need Elektra if I already use configuration management tools?}
\item Documentation about the recommended \href{https://www.libelektra.org/devgettingstarted/testing}{\tt environment} for test runs were added
\item uniformly add {\ttfamily .} at end of short help
\item Logo for Doc Set was added and logo for favicon was updated, thanks to René Schwaiger
\item template of design decisions was updated to use the words problem (instead of issue) and rationale (instead of argument).
\item \href{https://www.libelektra.org/docgettingstarted/meta-specification}{\tt M\+E\+T\+A\+D\+A\+T\+A.\+ini}\+:
\begin{DoxyItemize}
\item added visibility (as used in Web UI)
\item added type (only check/type existed)
\item plenty of metadata is now used by Web UI
\end{DoxyItemize}
\item update docu for type plugin that {\ttfamily check/type/min} and {\ttfamily check/type/max} are deprecated
\item Fixed various spelling mistakes, thanks to René Schwaiger
\item Document limitations of resolver (kdb\+Open fails if no home directory found) and json/yaml plugins (intermixing of array and objects not detected, which is possible in Elektra but impossible in J\+S\+ON)
\item Required environment to run tests is documented.
\item A decision about https\+://master.libelektra.\+org/doc/decisions/deferred\+\_\+plugin\+\_\+calls.md \char`\"{}deferred plugin calls\char`\"{} has been made and implemented, thanks to Thomas Wahringer.
\end{DoxyItemize}

\subsection*{Compatibility}

As always, the A\+BI and A\+PI of kdb.\+h is fully compatible, i.\+e. programs compiled against an older 0.\+8 version of Elektra will continue to work (A\+BI) and you will be able to recompile programs without errors (A\+PI).

We removed\+:


\begin{DoxyItemize}
\item the not used error code {\ttfamily 12} from {\ttfamily kdb mv} from docu
\end{DoxyItemize}

We changed\+:


\begin{DoxyItemize}
\item {\ttfamily kdb get}, {\ttfamily kdb mv} and {\ttfamily kdb cp} now use error code {\ttfamily 11} if keys are not found
\item cascading keys as arguments to {\ttfamily kdb cp} and {\ttfamily kdb mv} now fail instead of doing something unexpected, thanks to René Schwaiger for reporting
\end{DoxyItemize}

Shell scripts\+:


\begin{DoxyItemize}
\item cp and mv no longer accept cascading keys.
\end{DoxyItemize}

\subsection*{Notes for Maintainer}

These notes are of interest for people maintaining packages of Elektra\+:


\begin{DoxyItemize}
\item Docu is updated that \href{https://cmake.org/cmake/help/v3.0/}{\tt cmake3} is required. thanks to Lukas Winkler for reporting.
\item To run all tests successfully, the {\ttfamily spec} and {\ttfamily list} plugin is required. So if {\ttfamily E\+N\+A\+B\+L\+E\+\_\+\+T\+E\+S\+T\+I\+NG} is checked, cmake checks the presence of a storage, a resolver, the list and the spec plugin, thanks to René Schwaiger
\item Tests no longer clear environment or reset locales. This fixes lua and dbus problems but might cause problems if T\+M\+P\+D\+IR is set, thanks to Lukas Winkler
\item This will be the last release supporting Debian Wheezy (L\+TS support will stop in May). Directly after the release, Jessie (oldstable) with gcc 4.\+8.\+4 will be the oldest supported platform.
\end{DoxyItemize}

We added\+:


\begin{DoxyItemize}
\item the private headerfiles {\ttfamily \hyperlink{kdbnotificationinternal_8h}{kdbnotificationinternal.\+h}}, {\ttfamily \hyperlink{kdbioplugin_8h}{kdbioplugin.\+h}}.
\item the headerfiles {\ttfamily kdbio\+\_\+glib.\+h} and {\ttfamily kdbio\+\_\+uv.\+h}
\item the plugin {\ttfamily libelektra-\/dbusrecv.\+so}
\item the scripts {\ttfamily build-\/web}, {\ttfamily run-\/elektrad}, and {\ttfamily run-\/web}
\item the test case {\ttfamily testmod\+\_\+dbusrecv}
\item the constant {\ttfamily E\+N\+A\+B\+L\+E\+\_\+\+A\+S\+AN} in the constants plugin
\item several man pages such as\+: {\ttfamily kdb-\/run-\/elektrad.\+1} and {\ttfamily kdb-\/run-\/web.\+1}
\end{DoxyItemize}

We removed\+:


\begin{DoxyItemize}
\item {\ttfamily Base64.\+pdf} is not installed anymore
\item doxygen-\/generated man pages such as\+: {\ttfamily doc\+\_\+docker\+\_\+jenkinsnode\+\_\+\+R\+E\+A\+D\+M\+E\+\_\+md.\+3elektra}, {\ttfamily doc\+\_\+docker\+\_\+\+R\+E\+A\+D\+M\+E\+\_\+md.\+3elektra}, and {\ttfamily doc\+\_\+vagrant\+\_\+\+R\+E\+A\+D\+M\+E\+\_\+md.\+3elektra}
\end{DoxyItemize}

\subsection*{Website}

The website is generated from the repository, so all information about plugins, bindings and tools are always up to date. Furthermore, we changed\+:


\begin{DoxyItemize}
\item Error page that is shown if no Java\+Script is enabled now more clearly says that the Website only renders content from the repo and only contains free Java\+Script.
\item The \href{https://www.libelektra.org/docgettingstarted/faq}{\tt F\+AQ} is now more visible (added to \char`\"{}getting started\char`\"{}).
\item The \href{https://www.libelektra.org/devgettingstarted/code-of-conduct}{\tt Code of Conduct} was added.
\end{DoxyItemize}

\subsection*{Notes for Elektra\textquotesingle{}s Developers}

These notes are of interest for people developing Elektra\+:


\begin{DoxyItemize}
\item {\ttfamily . run\+\_\+dev\+\_\+env} is a script to be sourced from the build directory. It sets environment variables, so that Elektra from the build directory is used (instead of the installed one).
\item All current versions of Clang-\/\+Format (6.\+0+) and the outdated Clang-\/\+Format 5 will now produce exactly the same output for the whole codebase, thanks to René Schwaiger.
\item To make enums nicely formatting, make sure at least one member is documented.
\item You can now add a \href{https://master.libelektra.org/tests/shell/shell_recorder/tutorial_wrapper}{\tt Markdown Shell Recorder} test for a plugin via the C\+Make function {\ttfamily add\+\_\+plugin} by adding {\ttfamily T\+E\+S\+T\+\_\+\+R\+E\+A\+D\+ME}. Furthermore {\ttfamily T\+E\+S\+T\+\_\+\+R\+E\+Q\+U\+I\+R\+E\+D\+\_\+\+P\+L\+U\+G\+I\+NS} allows us to specify which additional plugins are required, thanks to René Schwaiger
\item {\ttfamily const} was added to exceptions in catch blocks thanks to René Schwaiger
\item We now mention to read https\+://master.libelektra.\+org/doc/\+D\+E\+S\+I\+GN.md \char`\"{}doc/\+D\+E\+S\+I\+G\+N.\+md\char`\"{} in the contributing guidelines.
\item The C\+Make functions
\begin{DoxyItemize}
\item {\ttfamily add\+\_\+plugin}
\item {\ttfamily add\+\_\+msr\+\_\+test}
\item {\ttfamily add\+\_\+msr\+\_\+test\+\_\+plugin}, and the new
\item {\ttfamily add\+\_\+shell\+\_\+recorder\+\_\+test}
\end{DoxyItemize}

now allow you to specify a list of required plugins for \href{https://master.libelektra.org/tests/shell/shell_recorder}{\tt Shell Recorder} and Markdown Shell Recorder tests.
\item The \href{https://master.libelektra.org/tests/shell/shell_recorder/tutorial_wrapper}{\tt Markdown Shell Recorder} now compares the whole output of {\ttfamily stderr} with the text following the directive {\ttfamily S\+T\+D\+E\+RR\+:}, thanks to René Schwaiger
\item You can now leave the text following the directive {\ttfamily S\+T\+D\+E\+RR\+:} in a \href{https://master.libelektra.org/tests/shell/shell_recorder/tutorial_wrapper}{\tt Markdown Shell Recorder} test empty\+:

``{\ttfamily  true \# Print nothing to}stderr` \section*{S\+T\+D\+E\+RR\+:}

```

. The Markdown Shell Recorder will then check if the command printed nothing to the standard error output.
\item The \href{https://master.libelektra.org/tests/shell/shell_recorder}{\tt Shell Recorder} now also prints the content of the protocol file if a test was unsuccessful or you used the command switch {\ttfamily -\/p}, and always cleans up the protocol, thanks to René Schwaiger
\item We added an \href{https://master.libelektra.org/tests/shell/shell_recorder/tutorial_wrapper}{\tt Markdown Shell Recorder} test for the \href{http://libelektra.org/plugins/constants}{\tt Constants} plugin.
\item The \href{https://master.libelektra.org/tests/shell/shell_recorder/tutorial_wrapper}{\tt Markdown Shell Recorder} now prints the path of the test file. thanks to René Schwaiger
\item The Haskell binding now explicitly requires G\+HC installed with a minimum version of 8.\+0.\+0 during cmake thanks to René Schwaiger and Lukas Winkler
\item If any of the tests in {\ttfamily make run\+\_\+memcheck} fail valgrind will now set an exit-\/code which will get picked up by make, thanks to Lukas Winkler
\item We introduced git reference repositories to save I/O on our build system, thanks to Lukas Winkler
\item Set {\ttfamily L\+D\+\_\+\+L\+I\+B\+R\+A\+R\+Y\+\_\+\+P\+A\+TH} in all tests removing the need to specify it for running ctest, thanks to Lukas Winkler
\item Provide the {\ttfamily R\+U\+N\+\_\+\+S\+E\+R\+I\+AL} property to all tests that can not be run in parallel, thanks to Lukas Winkler
\item Speeding up your test runs via {\ttfamily ctest -\/j} is now possible, thanks to Lukas Winkler
\item We now disable the \href{http://libelektra.org/plugins/xerces}{\tt Xerces plugin} if you use G\+CC with enabled A\+S\+AN to build Elektra. This update makes sure that you do not build the plugin with compilation settings that are known to \href{https://github.com/ElektraInitiative/libelektra/issues/1895}{\tt cause problems}.
\item Documentation and debugging capabilities of \href{https://master.libelektra.org/tests/shell/shell_recorder/tutorial_wrapper}{\tt Markdown Shell Recorder} were improved.
\item We added style guidelines for C\+Make code to \href{https://github.com/ElektraInitiative/libelektra/blob/master/doc/CODING.md#cmake-guidelines}{\tt {\ttfamily doc/\+C\+O\+D\+I\+N\+G.\+md}}.
\end{DoxyItemize}

\subsection*{Fixes}

Many problems were resolved with the following fixes\+:


\begin{DoxyItemize}
\item \href{http://libelektra.org/plugins/yamlcpp}{\tt Y\+A\+ML C\+PP} now also saves key values directly below a mountpoint correctly, thanks to René Schwaiger
\item If you use a minimal configuration (\href{http://libelektra.org/plugins/dump}{\tt {\ttfamily dump}}, \href{https://www.libelektra.org/plugins/resolver}{\tt {\ttfamily resolver}}, list, and spec), all test of the test suite now finish successfully again, thanks to René Schwaiger
\item small refactoring in {\ttfamily kdb-\/test}
\item The Haskell plugin failed to build if the Haskell bindings were not included explicitly by name.
\item Fix invalid handling of keynames in the \href{http://libelektra.org/plugins/spec}{\tt spec} plugin.
\item The \href{https://master.libelektra.org/tests/shell/shell_recorder}{\tt Shell Recorder} counts the number of executed tests properly again.
\item C\+Make now fails if the required plugins \href{http://libelektra.org/plugins/list}{\tt list} or \href{http://libelektra.org/plugins/spec}{\tt spec} (on non-\/\href{http://mingw.org}{\tt Min\+GW} platforms) are missing from the current build configuration.
\item The \href{http://libelektra.org/plugins/lua}{\tt Lua}, \href{http://libelektra.org/plugins/python2}{\tt Python 2}, \href{http://libelektra.org/plugins/python}{\tt Python}, and \href{http://libelektra.org/plugins/ruby}{\tt Ruby} plugins now require S\+W\+IG bindings for the corresponding programming language, thanks to René Schwaiger
\item The \href{https://www.libelektra.org/plugins/type}{\tt type checker} now also honors {\ttfamily type} next to {\ttfamily check/type}
\item Fix various compiler warnings
\item The detection of Botan, Libgcrypt, Lib\+Git2 and Open\+S\+SL now also works properly, if we treat warnings as errors (compiler switch {\ttfamily -\/\+Werror}), thanks to René Schwaiger
\item The \href{http://libelektra.org/plugins/multifile}{\tt multifile plugin} now passes the child config to the storage plugins too and also handles symlinks correctly, thanks to Thomas Waser
\end{DoxyItemize}

\subsection*{Workshop}

\href{https://www.libelektra.org/developers/authors}{\tt Elektra Initiative} are the people behind Elektra. Our goal is to build up expertise with configuration settings and improve the situation in the F\+L\+O\+SS landscape. To learn more about the needs of configuration-\/wise non-\/trivial F\+L\+O\+SS applications, we have workshops. After a successful workshop with the L\+C\+Dproc\textquotesingle{}s maintainer, the next Workshop will be with people from K\+DE.

We will use the opportunity of \href{https://akademy.kde.org/2018}{\tt Akademy} being in Vienna. We already got positive feedback from kconfig maintainers (David Faure and Aleix Pol).

If you are interested, you can sign up. We are looking forward to an informative, interactive and interesting workshop!

\subsection*{Outlook}

We are currently working on following topics\+:


\begin{DoxyItemize}
\item Klemens Böswirth\+: \href{https://www.libelektra.org/news/elektrify-lcdproc}{\tt elektrifying L\+C\+Dproc} After some setbacks (the two original developers who wanted to work on L\+C\+Dproc resigned because of job duties) L\+C\+Dproc development restarted now successfully. The new plan is to have more intermediate stages. In particular the first integration will be a minimal invasive integration without high-\/level A\+PI.
\item Armin Wurzinger\+: type system for Elektra\textquotesingle{}s specification language
\item Anton Hössl\+: Puppet
\item Daniel Bugl\+: Web UI
\item Hani Torabi Makhsos\+: reduce community entry barriers
\item Kurt Micheli\+: order preserving minimal perfect hash map
\item Lukas Winkler\+: continous integration
\item Mihael Pranjić\+: mmap plugin (i.\+e. avoiding reparsing of configuration files)
\item Peter Nirschl\+: integrity and confidentiality
\item René Schwaiger\+: parsing techniques
\item Thomas Wahringer\+: notification techniques
\item Thomas Waser\+: Linux distribution based on Elektra
\item Ulrike Schaefer\+: generate shell completion files from Elektra\textquotesingle{}s specification
\item Vanessa Kos\+: misconfiguration bug database
\item We created a proof of concept for a Chef resource and an Ansible module successfully setting Elektra\textquotesingle{}s keys. They are not yet published. If you are interested on this preliminary work, please contact us.
\end{DoxyItemize}

\subsection*{Get It!}

You can download the release from \href{https://www.libelektra.org/ftp/elektra/releases/elektra-0.8.23.tar.gz}{\tt here} or \href{https://github.com/ElektraInitiative/ftp/blob/master/releases/elektra-0.8.23.tar.gz?raw=true}{\tt Git\+Hub}

The \href{https://github.com/ElektraInitiative/ftp/blob/master/releases/elektra-0.8.23.tar.gz.hashsum?raw=true}{\tt hashsums are\+:}


\begin{DoxyItemize}
\item name\+: elektra-\/0.\+8.\+23.\+tar.\+gz
\item size\+: 5870069
\item md5sum\+: 0a065ed381a59b6213bd46fd3c82ba83
\item sha1\+: 0727b420ff721e654b0ba6ab1d0c78e5e2341d26
\item sha256\+: f1d3cd4888ba3ef47c1327cbddf21dff7be289f94217f12e5e93105273ca6c48
\end{DoxyItemize}

The release tarball is also available signed by Markus Raab using Gnu\+PG from \href{https://www.libelektra.org/ftp/elektra/releases/elektra-0.8.23.tar.gz.gpg}{\tt here} or \href{https://github.com/ElektraInitiative/ftp/blob/master/releases//elektra-0.8.23.tar.gz.gpg?raw=true}{\tt Git\+Hub}

Already built A\+P\+I-\/\+Docu can be found \href{https://doc.libelektra.org/api/0.8.23/html/}{\tt online} or \href{https://github.com/ElektraInitiative/doc/tree/master/api/0.8.23}{\tt Git\+Hub}.

\subsection*{Stay tuned!}

Subscribe to the \href{https://www.libelektra.org/news/feed.rss}{\tt R\+SS feed} to always get the release notifications.

For any questions and comments, please contact the issue tracker \href{http://issues.libelektra.org}{\tt on Git\+Hub} or Markus Raab by email using \href{mailto:elektra@markus-raab.org}{\tt elektra@markus-\/raab.\+org}.

\href{https://www.libelektra.org/news/0.8.23-release}{\tt Permalink to this N\+E\+WS entry}

For more information, see \href{https://libelektra.org}{\tt https\+://libelektra.\+org}

Best regards, \href{https://www.libelektra.org/developers/authors}{\tt Elektra Initiative} 