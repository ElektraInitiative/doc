<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elektra: Plugin: c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- Add mermaid.js -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_color_doxygen.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Elektra<span id="projectnumber">&#160;0.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Plugin: c </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>infos = Information about the c plugin is in keys below</li>
<li>infos/author = Markus Raab <a href="#" onclick="location.href='mai'+'lto:'+'ele'+'kt'+'ra@'+'li'+'bel'+'ek'+'tra'+'.o'+'rg'; return false;">elekt<span style="display: none;">.nosp@m.</span>ra@l<span style="display: none;">.nosp@m.</span>ibele<span style="display: none;">.nosp@m.</span>ktra<span style="display: none;">.nosp@m.</span>.org</a></li>
<li>infos/maintainer = Florian Lindner <a href="#" onclick="location.href='mai'+'lto:'+'flo'+'ri'+'an.'+'li'+'ndn'+'er'+'@st'+'ud'+'ent'+'.t'+'uwi'+'en'+'.ac'+'.a'+'t'; return false;">flori<span style="display: none;">.nosp@m.</span>an.l<span style="display: none;">.nosp@m.</span>indne<span style="display: none;">.nosp@m.</span>r@st<span style="display: none;">.nosp@m.</span>udent<span style="display: none;">.nosp@m.</span>.tuw<span style="display: none;">.nosp@m.</span>ien.a<span style="display: none;">.nosp@m.</span>c.at</a></li>
<li>infos/licence = BSD</li>
<li>infos/needs = ccode</li>
<li>infos/provides = storage/c</li>
<li>infos/recommends =</li>
<li>infos/placements = getstorage setstorage</li>
<li>infos/status = maintained reviewed unittest nodep libc writeonly preview</li>
<li>infos/metadata =</li>
<li>infos/description = C code KeySet exports for Elektra</li>
</ul>
<h1><a class="anchor" id="src_plugins_c_README_md"></a>
Usage</h1>
<p>Export a subset of the KDB as C code which creates a KeySet (<code>ksNew(&lt;number of keys&gt;, keyNew(...), ...)</code>). This can be useful for generating test data or help to generate code for already defined configuration data.</p>
<div class="fragment"><div class="line">kdb export user:/testdata c</div>
</div><!-- fragment --><p>The output can be used in C code for generating KeySets and the keys inside them. So one use case is to extract a part of the KDB and copy the generated code to create the exported part of the KDB programmatically, e.g. for another Elektra installation.</p>
<p>It can also be useful if you develop your own application and first create the necessary keys manually. Then you can export them from the KDB and just paste the generated code in the right place of the codebase of your application.</p>
<blockquote class="doxtable">
<p>Please note that if you use this plugin for creating a mountpoint (e.g. by calling <code>kdb mount &lt;filename&gt; &lt;key&gt; c</code>), only the content written by the last <code>kdbSet (...)</code> which includes the mountpoint will be inside the file. If you call <code>kdbSet (...)</code> for such a mountpoint, the previous content of the file is erased.</p>
<p>This is because the c plugin is implemented as a write-only plugin. It's recommended to only use it for exporting parts of the KDB by calling <code>kdb export &lt;parent key&gt;</code>. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md88"></a>
Example</h1>
<p>In this example, we add some keys and metakeys to the KDB and export them with the c plugin. The output can directly be used inside C source code which uses Elektra.</p>
<div class="fragment"><div class="line">kdb set user:/tests/cplugin/key1 value1</div>
<div class="line">#&gt; Create a new key user:/tests/cplugin/key1 with string &quot;value1&quot;</div>
<div class="line"> </div>
<div class="line">kdb set user:/tests/cplugin/key2 value2</div>
<div class="line">#&gt; Create a new key user:/tests/cplugin/key2 with string &quot;value2&quot;</div>
<div class="line"> </div>
<div class="line">kdb meta-set user:/tests/cplugin/key2 metakey2.1 metaval2.1</div>
<div class="line">kdb set user:/tests/cplugin/key2 metakey2.2 metaval2.2</div>
<div class="line"> </div>
<div class="line">kdb set user:/tests/cplugin/key3 value3</div>
<div class="line">#&gt; Create a new key user:/tests/cplugin/key3 with string &quot;value3&quot;</div>
<div class="line"> </div>
<div class="line">kdb export user:/tests/cplugin c</div>
<div class="line">#&gt; ksNew (3,</div>
<div class="line">#&gt;      keyNew (&quot;user:/tests/cplugin/key1&quot;, KEY_VALUE, &quot;value1&quot;, KEY_END),</div>
<div class="line">#&gt;      keyNew (&quot;user:/tests/cplugin/key2&quot;, KEY_VALUE, &quot;value2&quot;, KEY_META, &quot;metakey2.1&quot;, &quot;metaval2.1&quot;, KEY_META, &quot;metakey2.2&quot;, &quot;metaval2.2&quot;, KEY_END),</div>
<div class="line">#&gt;      keyNew (&quot;user:/tests/cplugin/key3&quot;, KEY_VALUE, &quot;value3&quot;, KEY_END),</div>
<div class="line">#&gt;      KS_END);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark'
  });
</script>
</body>
</html>
